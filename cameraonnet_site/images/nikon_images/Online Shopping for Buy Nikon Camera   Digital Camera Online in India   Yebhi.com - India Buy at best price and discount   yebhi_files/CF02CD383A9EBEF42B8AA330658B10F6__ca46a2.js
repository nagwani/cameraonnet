
function updateShoppingCart(itemid){if(typeof StrandsTrack=="undefined"){StrandsTrack=[];}
StrandsTrack.push({event:"updateshoppingcart",items:[itemid]});try{SBS.Worker.go("Ps5262RrE2");}catch(e){};}
function userlogged(userid){if(typeof StrandsTrack=="undefined"){StrandsTrack=[];}
StrandsTrack.push({event:"userlogged",user:userid});try{SBS.Worker.go("Ps5262RrE2");}catch(e){};}
function visitedProduct(itemid){if(typeof StrandsTrack=="undefined"){StrandsTrack=[];}
StrandsTrack.push({event:"visited",item:itemid});}
function SearchedProducts(searchParm){if(typeof StrandsTrack=="undefined"){StrandsTrack=[];}
StrandsTrack.push({event:"searched",searchstring:searchParm});}
function purchasedProducts(orderid,arr){if(typeof StrandsTrack=="undefined"){StrandsTrack=[];}
StrandsTrack.push({event:"purchased",items:arr,orderid:orderid});}
var expDays=356;var page="only-popup-once.html";var windowprops="<iframe src=/SubscriptionPopUp.aspx?scrb=true   width=598px height=353px  frameborder=0 scrolling=no />";function GetCookie(name){var arg=name+"=";var alen=arg.length;var clen=document.cookie.length;var i=0;while(i<clen){var j=i+alen;if(document.cookie.substring(i,j)==arg)
return getCookieVal(j);i=document.cookie.indexOf(" ",i)+1;if(i==0)break;}
return null;}
function SetCookie(name,value){var argv=SetCookie.arguments;var argc=SetCookie.arguments.length;var expires=(argc>2)?argv[2]:null;var path=(argc>3)?argv[3]:null;var domain=(argc>4)?argv[4]:null;var secure=(argc>5)?argv[5]:false;document.cookie=name+"="+escape(value)+
((expires==null)?"":("; expires="+expires.toGMTString()))+
((path==null)?";path=/":(";path="+path))+
((domain==null)?"; domain=mag.yebhi.com;":("; domain="+domain+";"));}
function DeleteCookie(name){var exp=new Date();exp.setTime(exp.getTime()-1);var cval=GetCookie(name);document.cookie=name+"="+cval+"; expires="+exp.toGMTString();}
var exp=new Date();exp.setTime(exp.getTime()+(expDays*24*60*60*1000));function amt(){var count=GetCookie('count')
if(count==null){SetCookie('count','1')
return 1}else{var newcount=parseInt(count)+1;DeleteCookie('count')
SetCookie('count',newcount,exp)
return count}}
function getCookieVal(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1)
endstr=document.cookie.length;return unescape(document.cookie.substring(offset,endstr));}
function checkCount(){var count=GetCookie('count');if(count==null){count=1;SetCookie('count',count,exp);popReg.popOut(windowprops);}else{count++;SetCookie('count',count,exp);}}
function myPopReg(){this.square=null;this.overdiv=null;this.popOut=function(msgtxt){this.overdiv=document.createElement("div");this.overdiv.className="overdiv1";this.overdiv.id="overdiv";this.square=document.createElement("div");this.square.className="square1";this.square.id="square";this.square.Code=this;var msg=document.createElement("div");document.body.appendChild(this.overdiv);document.body.appendChild(this.square);msg.className="msg";msg.innerHTML=msgtxt;this.square.appendChild(msg);}
this.popIn=function(){if(this.square!=null){document.body.removeChild(this.square);this.square=null;}
if(this.overdiv!=null){document.body.removeChild(this.overdiv);this.overdiv=null;}}}
function closePopupReg(){var square=document.getElementById('square');var overdiv=document.getElementById('overdiv');if(square!=null){document.body.removeChild(square);square=null;}
if(this.overdiv!=null){document.body.removeChild(overdiv);overdiv=null;}
overdiv.className="overdiv2";overdiv.id="overdiv2";}
function makeCookie(name,value){if(GetCookie(name)==null){document.cookie=name+"="+value+"; path=/";}}
function changeImageUrl(url){document.getElementById("ctl00_ContentPlaceHolderMain_productView1_usrprodimage_myimage2").src=url;}
function imageViewer(){window.open("/imageViewer.aspx?prod_id="+prodid+"&col="+colid,"ImageViewer","width=810,height=710");}
function checkSize1(){var ddl=document.getElementById(ddSizeListId);if(ddl.value=="-1"){alert("Please select size!");return false;}
else{var url="/additem.aspx";var PCODE=document.getElementById(ddSizeListId).value;var price=document.getElementById(hdpriceid).value;var mrp=document.getElementById(hdMrpid).value;var params="productcode="+PCODE+"&productprice="+price+"&productmrp="+mrp+"&col="+colid;xhttpobj.open("POST",url,true);xhttpobj.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhttpobj.setRequestHeader("Content-length",params.length);xhttpobj.setRequestHeader("Connection","close");xhttpobj.onreadystatechange=function(){if(xhttpobj.readyState==4&&xhttpobj.status==200){var xmlDocument=xhttpobj.responseXML;var mainNode=xmlDocument.documentElement;var message=mainNode.childNodes[0].getElementsByTagName("msg").item(0).firstChild.nodeValue;if(message=='success'){setTimeout(function(){window.location=('/shoppingcart.aspx?msg=add');},0);}
else{alert('The product is just sold out. Please try any other product!');return false;}}}
xhttpobj.send(params);return false;}}
function checkSize2(){var ddl=document.getElementById('ddSizeList');if(ddl.value=="-1"){alert("Please select size!");return false;}
else{var url="/additem.aspx";var PCODE=document.getElementById('ddSizeList').value;var colorid=document.getElementById('hdcolorid').value;var params="productcode="+PCODE+"&productprice=0&productmrp=0&col="+colorid;xhttpobj.open("POST",url,true);xhttpobj.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhttpobj.setRequestHeader("Content-length",params.length);xhttpobj.setRequestHeader("Connection","close");xhttpobj.onreadystatechange=function(){if(xhttpobj.readyState==4&&xhttpobj.status==200){var xmlDocument=xhttpobj.responseXML;var mainNode=xmlDocument.documentElement;var message=mainNode.childNodes[0].getElementsByTagName("msg").item(0).firstChild.nodeValue;if(message=='success'){setTimeout(function(){window.location=('/shoppingcart.aspx?msg=add');},0);}
else{alert('The product is just sold out. Please try any other product!');return false;}}}
xhttpobj.send(params);return false;}}
function GetXmlHttpObject(){var xmlHttp1=null;try{xmlHttp1=new XMLHttpRequest();}
catch(e){try{xmlHttp1=new ActiveXObject("Msxml2.XMLHTTP");}
catch(e){xmlHttp1=new ActiveXObject("Microsoft.XMLHTTP");}}
return xmlHttp1;}
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g));return l}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];!r||(j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split("."),d[1]=d[1]?"."+d[1]:"";if(c===b){h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){typeof a!="string"&&(c=a,a="fx");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!="object"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()
{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof(r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function(c){function p(d,a,b){var e=this,j=d.add(this),h=d.find(b.tabs),k=a.jquery?a:d.children(a),i;h.length||(h=d.children());k.length||(k=d.parent().find(a));k.length||(k=c(a));c.extend(this,{click:function(f,g){var l=h.eq(f);if(typeof f=="string"&&f.replace("#","")){l=h.filter("[href*="+f.replace("#","")+"]");f=Math.max(h.index(l),0)}if(b.rotate){var n=h.length-1;if(f<0)return e.click(n,g);if(f>n)return e.click(0,g)}if(!l.length){if(i>=0)return e;f=b.initialIndex;l=h.eq(f)}if(f===i)return e;g=g||c.Event();g.type="onBeforeClick";j.trigger(g,[f]);if(!g.isDefaultPrevented()){o[b.effect].call(e,f,function(){g.type="onClick";j.trigger(g,[f])});i=f;h.removeClass(b.current);l.addClass(b.current);return e}},getConf:function(){return b},getTabs:function(){return h},getPanes:function(){return k},getCurrentPane:function(){return k.eq(i)},getCurrentTab:function(){return h.eq(i)},getIndex:function(){return i},next:function(){return e.click(i+1)},prev:function(){return e.click(i-1)}});c.each("onBeforeClick,onClick".split(","),function(f,g){c.isFunction(b[g])&&c(e).bind(g,b[g]);e[g]=function(l){c(e).bind(g,l);return e}});if(b.history&&c.fn.history){c.tools.history.init(h);b.event="history"}h.each(function(f){c(this).bind(b.event,function(g){e.click(f,g);return g.preventDefault()})});k.find("a[href^=#]").click(function(f){e.click(c(this).attr("href"),f)});if(location.hash)e.click(location.hash);else if(b.initialIndex===0||b.initialIndex>0)e.click(b.initialIndex)}c.tools=c.tools||{version:"1.2.0"};c.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(d,a){o[d]=a}};var o={"default":function(d,a){this.getPanes().hide().eq(d).show();a.call()},fade:function(d,a){var b=this.getConf(),e=b.fadeOutSpeed,j=this.getPanes();if(!j.eq(d).is(":visible")){e?j.fadeOut(e):j.hide();j.eq(d).fadeIn(b.fadeInSpeed,a)}},slide:function(d,a){this.getPanes().slideUp(200);this.getPanes().eq(d).slideDown(400,a)},ajax:function(d,a){this.getPanes().eq(0).load(this.getTabs().eq(d).attr("href"),a)}},m;c.tools.tabs.addEffect("horizontal",function(d,a){m||(m=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){c(this).hide()});this.getPanes().eq(d).animate({width:m},function(){c(this).show();a.call()})});c.fn.tabs=function(d,a){var b=this.data("tabs");if(b)return b;if(c.isFunction(a))a={onBeforeClick:a};a=c.extend({},c.tools.tabs.conf,a);this.each(function(){b=new p(c(this),d,a);c(this).data("tabs",b)});return a.api?b:this}})(jQuery);(function(d){function r(g,a){function p(f){var e=d(f);return e.length<2?e:g.parent().find(f)}var c=this,j=g.add(this),b=g.data("tabs"),h,l,m,n=false,o=p(a.next).click(function(){b.next()}),k=p(a.prev).click(function(){b.prev()});d.extend(c,{getTabs:function(){return b},getConf:function(){return a},play:function(){if(!h){var f=d.Event("onBeforePlay");j.trigger(f);if(f.isDefaultPrevented())return c;n=false;h=setInterval(b.next,a.interval);j.trigger("onPlay");b.next()}},pause:function(){if(!h)return c;var f=d.Event("onBeforePause");j.trigger(f);if(f.isDefaultPrevented())return c;h=clearInterval(h);m=clearInterval(m);j.trigger("onPause")},stop:function(){c.pause();n=true}});d.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(f,e){d.isFunction(a[e])&&c.bind(e,a[e]);c[e]=function(s){return c.bind(e,s)}});if(a.autopause){var t=b.getTabs().add(o).add(k).add(b.getPanes());t.hover(function(){c.pause();l=clearInterval(l)},function(){n||(l=setTimeout(c.play,a.interval))})}if(a.autoplay)m=setTimeout(c.play,a.interval);else c.stop();a.clickable&&b.getPanes().click(function(){b.next()});if(!b.getConf().rotate){var i=a.disabledClass;b.getIndex()||k.addClass(i);b.onBeforeClick(function(f,e){if(e){k.removeClass(i);e==b.getTabs().length-1?o.addClass(i):o.removeClass(i)}else k.addClass(i)})}}var q;q=d.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:false,autopause:true,interval:3E3,clickable:true,api:false}};d.fn.slideshow=function(g){var a=this.data("slideshow");if(a)return a;g=d.extend({},q.conf,g);this.each(function(){a=new r(d(this),g);d(this).data("slideshow",a)});return g.api?a:this}})(jQuery);(function(e){function n(f,c){var a=e(c);return a.length<2?a:f.parent().find(c)}function t(f,c){var a=this,k=f.add(a),g=f.children(),l=0,m=c.vertical;j||(j=a);if(g.length>1)g=e(c.items,f);e.extend(a,{getConf:function(){return c},getIndex:function(){return l},getSize:function(){return a.getItems().size()},getNaviButtons:function(){return o.add(p)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.children(c.item).not("."+c.clonedClass)},move:function(b,d){return a.seekTo(l+
b,d)},next:function(b){return a.move(1,b)},prev:function(b){return a.move(-1,b)},begin:function(b){return a.seekTo(0,b)},end:function(b){return a.seekTo(a.getSize()-1,b)},focus:function(){return j=a},addItem:function(b){b=e(b);if(c.circular){e(".cloned:last").before(b);e(".cloned:first").replaceWith(b.clone().addClass(c.clonedClass))}else g.append(b);k.trigger("onAddItem",[b]);return a},seekTo:function(b,d,h){if(!c.circular&&b<0||b>a.getSize())return a;var i=b;if(b.jquery)b=a.getItems().index(b);else i=a.getItems().eq(b);var q=e.Event("onBeforeSeek");if(!h){k.trigger(q,[b,d]);if(q.isDefaultPrevented()||!i.length)return a}i=m?{top:-i.position().top}:{left:-i.position().left};g.animate(i,d,c.easing,h||function(){k.trigger("onSeek",[b])});j=a;l=b;return a}});e.each(["onBeforeSeek","onSeek","onAddItem"],function(b,d){e.isFunction(c[d])&&e(a).bind(d,c[d]);a[d]=function(h){e(a).bind(d,h);return a}});if(c.circular){var r=a.getItems().slice(-1).clone().prependTo(g),s=a.getItems().eq(1).clone().appendTo(g);r.add(s).addClass(c.clonedClass);a.onBeforeSeek(function(b,d,h){if(!b.isDefaultPrevented())if(d==-1){a.seekTo(r,h,function(){a.end(0)});return b.preventDefault()}else d==a.getSize()&&a.seekTo(s,h,function(){a.begin(0)})});a.seekTo(0,0)}var o=n(f,c.prev).click(function(){a.prev()}),p=n(f,c.next).click(function(){a.next()});!c.circular&&a.getSize()>1&&a.onBeforeSeek(function(b,d){o.toggleClass(c.disabledClass,d<=0);p.toggleClass(c.disabledClass,d>=a.getSize()-1)});c.mousewheel&&e.fn.mousewheel&&f.mousewheel(function(b,d){if(c.mousewheel){a.move(d<0?1:-1,c.wheelSpeed||50);return false}});c.keyboard&&e(document).bind("keydown.scrollable",function(b){if(!(!c.keyboard||b.altKey||b.ctrlKey||e(b.target).is(":input")))if(!(c.keyboard!="static"&&j!=a)){var d=b.keyCode;if(m&&(d==38||d==40)){a.move(d==38?-1:1);return b.preventDefault()}if(!m&&(d==37||d==39)){a.move(d==37?-1:1);return b.preventDefault()}}});e(a).trigger("onBeforeSeek",[c.initialIndex])}e.tools=e.tools||{version:"1.2.0"};e.tools.scrollable={conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,wheelSpeed:0}};var j;e.fn.scrollable=function(f){var c=this.data("scrollable");if(c)return c;f=e.extend({},e.tools.scrollable.conf,f);this.each(function(){c=new t(e(this),f);e(this).data("scrollable",c)});return f.api?c:this}})(jQuery);(function(c){var g=c.tools.scrollable;g.autoscroll={conf:{autoplay:true,interval:3E3,autopause:true}};c.fn.autoscroll=function(d){if(typeof d=="number")d={interval:d};var b=c.extend({},g.autoscroll.conf,d),h;this.each(function(){var a=c(this).data("scrollable");if(a)h=a;var e,i,f=true;a.play=function(){if(!e){f=false;e=setInterval(function(){a.next()},b.interval);a.next()}};a.pause=function(){e=clearInterval(e)};a.stop=function(){a.pause();f=true};b.autopause&&a.getRoot().add(a.getNaviButtons()).hover(function(){a.pause();clearInterval(i)},function(){f||(i=setTimeout(a.play,b.interval))});b.autoplay&&setTimeout(a.play,b.interval)});return b.api?h:this}})(jQuery);(function(d){function p(c,g){var h=d(g);return h.length<2?h:c.parent().find(g)}var m=d.tools.scrollable;m.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};d.fn.navigator=function(c){if(typeof c=="string")c={navi:c};c=d.extend({},m.navigator.conf,c);var g;this.each(function(){function h(a,b,i){e.seekTo(b);if(j){if(location.hash)location.hash=a.attr("href").replace("#","")}else return i.preventDefault()}function f(){return k.find(c.naviItem||"> *")}function n(a){var b=d("<"+(c.naviItem||"a")+"/>").click(function(i){h(d(this),a,i)}).attr("href","#"+a);a===0&&b.addClass(l);c.indexed&&b.text(a+1);c.idPrefix&&b.attr("id",c.idPrefix+a);return b.appendTo(k)}function o(a,b){a=f().eq(b.replace("#",""));a.length||(a=f().filter("[href="+b+"]"));a.click()}var e=d(this).data("scrollable"),k=p(e.getRoot(),c.navi),q=e.getNaviButtons(),l=c.activeClass,j=c.history&&d.fn.history;if(e)g=e;e.getNaviButtons=function(){return q.add(k)};f().length?f().each(function(a){d(this).click(function(b){h(d(this),a,b)})}):d.each(e.getItems(),function(a){n(a)});e.onBeforeSeek(function(a,b){var i=f().eq(b);!a.isDefaultPrevented()&&i.length&&f().removeClass(l).eq(b).addClass(l)});e.onAddItem(function(a,b){b=n(e.getItems().index(b));j&&b.history(o)});j&&f().history(o)});return c.api?g:this}})(jQuery);jQuery(document).ready(function($){$('#talked-about li, #slide-scroller .items .item').live('hover',function(){$(this).toggleClass('hover');},function(){$(this).removeClass('hover');});$('#progress-scroll').scrollable({item:'div',size:1,circular:true,clickable:false,next:'.nextPage',prev:'.prevPage'}).navigator();$('#slide-scroll').scrollable({circular:true,next:'.nextPage',prev:'.prevPage'}).navigator().autoscroll({interval:2500});$('#slide-scroll .item:nth-child(2)').clone().addClass('cloned').appendTo('#slide-scroll .items');$('#tweeted').scrollable({item:'ul',size:1,speed:500,circular:true,next:'.nextPage',prev:'.prevPage'}).navigator().autoscroll({interval:30000});$('.prevPage, .nextPage').click(function(){return false;});$('#iktldy-iktldy').focus();});(function(a,b,c){var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd",transitionProperty:"transitionEnd"}[j],r=h("transitionDuration"));var s=b.event,t;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",t&&clearTimeout(t),t=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var u=["overflow","position","width","height"],v=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!b.browser.opera,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};for(var d=0,e=u.length;d<e;d++){var f=u[d];this.originalStyle[f]=c[f]||""}this.element.css({overflow:"hidden",position:"relative"}),this._updateAnimationEngine(),this._updateUsingTransforms();var g={"original-order":function(a,b){b.elemCount++;return b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,g),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left"),10),top:parseInt(this.element.css("padding-top"),10)};var h=this;setTimeout(function(){h.element.addClass(h.options.containerClass)},0),this.options.resizable&&v.bind("smartresize.isotope",function(){h.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0);return c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c);return a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order"));return(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b+=this.offset.left,c+=this.offset.top;var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(!l){var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a);l=!0}};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0].$el,s;while(!p.length){s=this.styleQueue[o++];if(!s)return;p=s.$el}var t=parseFloat(getComputedStyle(p[0])[r]);t>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){var c=this,d=function(){c.$allAtoms=c.$allAtoms.not(a),a.remove()};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(a),this._sort(),this.reLayout(d,b)):(d(),b&&b.call(this.element))},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d=0,e=u.length;d<e;d++){var f=u[d];c[f]=this.originalStyle[f]}this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),v.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];this._getSegments(a);return this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=Math.round((e+.5)*d.columnWidth-a.outerWidth(!0)/2),h=Math.round((f+.5)*d.rowHeight-a.outerHeight(!0)/2);c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=Math.round((e+.5)*d.columnWidth-a.outerWidth(!0)/2),h=Math.round((f+.5)*d.rowHeight-a.outerHeight(!0)/2);c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function i(a){a.target.src!==f&&b.inArray(this,g)===-1&&(g.push(this),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}function h(){a.call(c,d)}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a});return c};var w=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c)w("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");else{if(!b.isFunction(c[a])||a.charAt(0)==="_"){w("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)}})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,jQuery);(function($){$.prettyPhoto={version:'3.1.3'};$.fn.prettyPhoto=function(pp_settings){pp_settings=jQuery.extend({animation_speed:'fast',slideshow:5000,autoplay_slideshow:false,opacity:0.80,show_title:true,allow_resize:true,default_width:500,default_height:444,counter_separator_label:'/',theme:'pp_default',horizontal_padding:20,hideflash:false,wmode:'opaque',autoplay:true,modal:false,deeplinking:false,overlay_gallery:true,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> \
      <div class="ppt">&nbsp;</div> \
      <div class="pp_top"> \
       <div class="pp_left"></div> \
       <div class="pp_middle"></div> \
       <div class="pp_right"></div> \
      </div> \
      <div class="pp_content_container"> \
       <div class="pp_left"> \
       <div class="pp_right"> \
        <div class="pp_content"> \
         <div class="pp_loaderIcon"></div> \
         <div class="pp_fade"> \
          <a href="#" class="pp_expand" title="Expand the image">Expand</a> \
          <div class="pp_hoverContainer"> \
           <a class="pp_next" href="#">next</a> \
           <a class="pp_previous" href="#">previous</a> \
          </div> \
          <div id="pp_full_res"></div> \
          <div class="pp_details"> \
           <div class="pp_nav"> \
            <a href="#" class="pp_arrow_previous">Previous</a> \
            <p class="currentTextHolder">0/0</p> \
            <a href="#" class="pp_arrow_next">Next</a> \
           </div> \
           <p class="pp_description"></p> \
           <div class="pp_social">{pp_social}</div> \
           <a class="pp_close" href="#">Close</a> \
          </div> \
         </div> \
        </div> \
       </div> \
       </div> \
      </div> \
      <div class="pp_bottom"> \
       <div class="pp_left"></div> \
       <div class="pp_middle"></div> \
       <div class="pp_right"></div> \
      </div> \
     </div> \
     <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \
        <a href="#" class="pp_arrow_previous">Previous</a> \
        <div> \
         <ul> \
          {gallery} \
         </ul> \
        </div> \
        <a href="#" class="pp_arrow_next">Next</a> \
       </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:'',social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="http://www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},pp_settings);var matchedObjects=this,percentBased=false,pp_dimensions,pp_open,pp_contentHeight,pp_contentWidth,pp_containerHeight,pp_containerWidth,windowHeight=$(window).height(),windowWidth=$(window).width(),pp_slideshow;doresize=true,scroll_pos=_get_scroll();$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){_center_overlay();_resize_overlay();});if(pp_settings.keyboard_shortcuts){$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){if(typeof $pp_pic_holder!='undefined'){if($pp_pic_holder.is(':visible')){switch(e.keyCode){case 37:$.prettyPhoto.changePage('previous');e.preventDefault();break;case 39:$.prettyPhoto.changePage('next');e.preventDefault();break;case 27:if(!settings.modal)
$.prettyPhoto.close();e.preventDefault();break;};};};});};$.prettyPhoto.initialize=function(){settings=pp_settings;if(settings.theme=='pp_default')settings.horizontal_padding=16;if(settings.ie6_fallback&&$.browser.msie&&parseInt($.browser.version)==6)settings.theme="light_square";theRel=$(this).attr('rel');galleryRegExp=/\[(?:.*)\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return $(n).attr('href');}):$.makeArray($(this).attr('href'));pp_titles=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return($(n).find('img').attr('alt'))?$(n).find('img').attr('alt'):"";}):$.makeArray($(this).find('img').attr('alt'));pp_descriptions=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr('rel').indexOf(theRel)!=-1)return($(n).attr('title'))?$(n).attr('title'):"";}):$.makeArray($(this).attr('title'));if(pp_images.length>30)settings.overlay_gallery=false;set_position=jQuery.inArray($(this).attr('href'),pp_images);rel_index=(isSet)?set_position:$("a[rel^='"+theRel+"']").index($(this));_build_overlay(this);if(settings.allow_resize)
$(window).bind('scroll.prettyphoto',function(){_center_overlay();});$.prettyPhoto.open();return false;}
$.prettyPhoto.open=function(event){if(typeof settings=="undefined"){settings=pp_settings;if($.browser.msie&&$.browser.version==6)settings.theme="light_square";pp_images=$.makeArray(arguments[0]);pp_titles=(arguments[1])?$.makeArray(arguments[1]):$.makeArray("");pp_descriptions=(arguments[2])?$.makeArray(arguments[2]):$.makeArray("");isSet=(pp_images.length>1)?true:false;set_position=0;_build_overlay(event.target);}
if($.browser.msie&&$.browser.version==6)$('select').css('visibility','hidden');if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden');_checkPosition($(pp_images).size());$('.pp_loaderIcon').show();if(settings.deeplinking)
setHashtag();if(settings.social_tools){facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));$pp_pic_holder.find('.pp_social').html(facebook_like_link);}
if($ppt.is(':hidden'))$ppt.css('opacity',0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find('.currentTextHolder').text((set_position+1)+settings.counter_separator_label+$(pp_images).size());if(pp_descriptions[set_position]!=""){$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));}else{$pp_pic_holder.find('.pp_description').hide();}
movie_width=(parseFloat(getParam('width',pp_images[set_position])))?getParam('width',pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(getParam('height',pp_images[set_position])))?getParam('height',pp_images[set_position]):settings.default_height.toString();percentBased=false;if(movie_height.indexOf('%')!=-1){movie_height=parseFloat(($(window).height()*parseFloat(movie_height)/100)-150);percentBased=true;}
if(movie_width.indexOf('%')!=-1){movie_width=parseFloat(($(window).width()*parseFloat(movie_width)/100)-150);percentBased=true;}
$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html('&nbsp;');imgPreloader="";skipInjection=false;switch(_getFileType(pp_images[set_position])){case'image':imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<$(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image();if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find('#pp_full_res')[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){pp_dimensions=_fitToViewport(imgPreloader.width,imgPreloader.height);_showContent();};imgPreloader.onerror=function(){alert('Image cannot be loaded. Make sure the path is correct and image exist.');$.prettyPhoto.close();};imgPreloader.src=pp_images[set_position];break;case'youtube':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=getParam('v',pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split('youtu.be/');movie_id=movie_id[1];if(movie_id.indexOf('?')>0)
movie_id=movie_id.substr(0,movie_id.indexOf('?'));if(movie_id.indexOf('&')>0)
movie_id=movie_id.substr(0,movie_id.indexOf('&'));}
movie='http://www.youtube.com/embed/'+movie_id;(getParam('rel',pp_images[set_position]))?movie+="?rel="+getParam('rel',pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case'vimeo':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=pp_images[set_position];var regExp=/http:\/\/(www\.)?vimeo.com\/(\d+)/;var match=movie_id.match(regExp);movie='http://player.vimeo.com/video/'+match[2]+'?title=0&amp;byline=0&amp;portrait=0';if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=pp_dimensions['width']+'/embed/?moog_width='+pp_dimensions['width'];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);break;case'quicktime':pp_dimensions=_fitToViewport(movie_width,movie_height);pp_dimensions['height']+=15;pp_dimensions['contentHeight']+=15;pp_dimensions['containerHeight']+=15;toInject=settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case'flash':pp_dimensions=_fitToViewport(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf('flashvars')+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf('?'));toInject=settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);break;case'iframe':pp_dimensions=_fitToViewport(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf('iframe')-1);toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);break;case'ajax':doresize=false;pp_dimensions=_fitToViewport(movie_width,movie_height);doresize=true;skipInjection=true;$.get(pp_images[set_position],function(responseHTML){toInject=settings.inline_markup.replace(/{content}/g,responseHTML);$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();});break;case'custom':pp_dimensions=_fitToViewport(movie_width,movie_height);toInject=settings.custom_markup;break;case'inline':myClone=$(pp_images[set_position]).clone().append('<br clear="all" />').css({'width':settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo($('body')).show();doresize=false;pp_dimensions=_fitToViewport($(myClone).width(),$(myClone).height());doresize=true;$(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());break;};if(!imgPreloader&&!skipInjection){$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();};});return false;};$.prettyPhoto.changePage=function(direction){currentGalleryPage=0;if(direction=='previous'){set_position--;if(set_position<0)set_position=$(pp_images).size()-1;}else if(direction=='next'){set_position++;if(set_position>$(pp_images).size()-1)set_position=0;}else{set_position=direction;};rel_index=set_position;if(!doresize)doresize=true;$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');_hideContent(function(){$.prettyPhoto.open();});};$.prettyPhoto.changeGalleryPage=function(direction){if(direction=='next'){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0;}else if(direction=='previous'){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage;}else{currentGalleryPage=direction;};slide_speed=(direction=='next'||direction=='previous')?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);};$.prettyPhoto.startSlideshow=function(){if(typeof pp_slideshow=='undefined'){$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){$.prettyPhoto.stopSlideshow();return false;});pp_slideshow=setInterval($.prettyPhoto.startSlideshow,settings.slideshow);}else{$.prettyPhoto.changePage('next');};}
$.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});clearInterval(pp_slideshow);pp_slideshow=undefined;}
$.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;$.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){$(this).remove();});$pp_overlay.fadeOut(settings.animation_speed,function(){if($.browser.msie&&$.browser.version==6)$('select').css('visibility','visible');if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible');$(this).remove();$(window).unbind('scroll.prettyphoto');clearHashtag();settings.callback();doresize=true;pp_open=false;delete settings;});};function _showContent(){$('.pp_loaderIcon').hide();$('html,body').animate({scrollTop:0},'slow');projectedTop=((windowHeight/2)-(pp_dimensions['containerHeight']/2));if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find('.pp_content').animate({height:pp_dimensions['contentHeight'],width:pp_dimensions['contentWidth']},settings.animation_speed);$pp_pic_holder.animate({'top':projectedTop,'left':(windowWidth/2)-(pp_dimensions['containerWidth']/2),width:pp_dimensions['containerWidth']},settings.animation_speed,function(){$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed);if(isSet&&_getFileType(pp_images[set_position])=="image"){$pp_pic_holder.find('.pp_hoverContainer').show();}else{$pp_pic_holder.find('.pp_hoverContainer').hide();}
if(pp_dimensions['resized']){$('a.pp_expand,a.pp_contract').show();}else{$('a.pp_expand').hide();}
if(settings.autoplay_slideshow&&!pp_slideshow&&!pp_open)$.prettyPhoto.startSlideshow();settings.changepicturecallback();pp_open=true;});_insert_gallery();};function _hideContent(callback){$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){$('.pp_loaderIcon').show();callback();});};function _checkPosition(setCount){(setCount>1)?$('.pp_nav').show():$('.pp_nav').hide();};function _fitToViewport(width,height){resized=false;_getDimensions(width,height);imageWidth=width,imageHeight=height;if(((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight))&&doresize&&settings.allow_resize&&!percentBased){resized=true,fitting=false;while(!fitting){if((pp_containerWidth>windowWidth)){imageWidth=(windowWidth-100);imageHeight=(height/width)*imageWidth;}else if((pp_containerHeight>windowHeight)){imageHeight=(windowHeight-100);imageWidth=(width/height)*imageHeight;}else{fitting=true;};pp_containerHeight=imageHeight,pp_containerWidth=imageWidth;};_getDimensions(imageWidth,imageHeight);if((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight)){_fitToViewport(pp_containerWidth,pp_containerHeight)};};return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(pp_containerHeight),containerWidth:Math.floor(pp_containerWidth)+(settings.horizontal_padding*2),contentHeight:Math.floor(pp_contentHeight),contentWidth:Math.floor(pp_contentWidth),resized:resized};};function _getDimensions(width,height){width=parseFloat(width);height=parseFloat(height);$pp_details=$pp_pic_holder.find('.pp_details');$pp_details.width(width);detailsHeight=parseFloat($pp_details.css('marginTop'))+parseFloat($pp_details.css('marginBottom'));$pp_details=$pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({'position':'absolute','top':-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;if($.browser.msie&&$.browser.version==7)detailsHeight+=8;$pp_details.remove();$pp_title=$pp_pic_holder.find('.ppt');$pp_title.width(width);titleHeight=parseFloat($pp_title.css('marginTop'))+parseFloat($pp_title.css('marginBottom'));$pp_title=$pp_title.clone().appendTo($('body')).css({'position':'absolute','top':-10000});titleHeight+=$pp_title.height();$pp_title.remove();pp_contentHeight=height+detailsHeight;pp_contentWidth=width;pp_containerHeight=pp_contentHeight+titleHeight+$pp_pic_holder.find('.pp_top').height()+$pp_pic_holder.find('.pp_bottom').height();pp_containerWidth=width;}
function _getFileType(itemSrc){if(itemSrc.match(/youtube\.com\/watch/i)||itemSrc.match(/youtu\.be/i)){return'youtube';}else if(itemSrc.match(/vimeo\.com/i)){return'vimeo';}else if(itemSrc.match(/\b.mov\b/i)){return'quicktime';}else if(itemSrc.match(/\b.swf\b/i)){return'flash';}else if(itemSrc.match(/\biframe=true\b/i)){return'iframe';}else if(itemSrc.match(/\bajax=true\b/i)){return'ajax';}else if(itemSrc.match(/\bcustom=true\b/i)){return'custom';}else if(itemSrc.substr(0,1)=='#'){return'inline';}else{return'image';};};function _center_overlay(){if(doresize&&typeof $pp_pic_holder!='undefined'){scroll_pos=_get_scroll();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(windowHeight/2)+scroll_pos['scrollTop']-(contentHeight/2);if(projectedTop<0)projectedTop=0;if(contentHeight>windowHeight)
return;$pp_pic_holder.css({'top':projectedTop,'left':(windowWidth/2)+scroll_pos['scrollLeft']-(contentwidth/2)});};};function _get_scroll(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};};};function _resize_overlay(){windowHeight=$(window).height(),windowWidth=$(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height($(document).height()).width(windowWidth);};function _insert_gallery(){if(isSet&&settings.overlay_gallery&&_getFileType(pp_images[set_position])=="image"&&(settings.ie6_fallback&&!($.browser.msie&&parseInt($.browser.version)==6))){itemWidth=52+5;navWidth=(settings.theme=="facebook"||settings.theme=="pp_default")?50:30;itemsPerPage=Math.floor((pp_dimensions['containerWidth']-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();}else{$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();};galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css('margin-left',-((galleryWidth/2)+(navWidth/2))).find('div:first').width(galleryWidth+5).find('ul').width(fullGalleryWidth).find('li.selected').removeClass('selected');goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;$.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');}else{$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');}}
function _build_overlay(caller){if(settings.social_tools)
facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));settings.markup=settings.markup.replace('{pp_social}',(settings.social_tools)?facebook_like_link:'');$('body').append(settings.markup);$pp_pic_holder=$('.pp_pic_holder'),$ppt=$('.ppt'),$pp_overlay=$('div.pp_overlay');if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var i=0;i<pp_images.length;i++){if(!pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname='default';img_src='';}else{classname='';img_src=pp_images[i];}
toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";};toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find('#pp_full_res').after(toInject);$pp_gallery=$('.pp_pic_holder .pp_gallery'),$pp_gallery_li=$pp_gallery.find('li');$pp_gallery.find('.pp_arrow_next').click(function(){$.prettyPhoto.changeGalleryPage('next');$.prettyPhoto.stopSlideshow();return false;});$pp_gallery.find('.pp_arrow_previous').click(function(){$.prettyPhoto.changeGalleryPage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_content').hover(function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();},function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();});itemWidth=52+5;$pp_gallery_li.each(function(i){$(this).find('a').click(function(){$.prettyPhoto.changePage(i);$.prettyPhoto.stopSlideshow();return false;});});};if(settings.slideshow){$pp_pic_holder.find('.pp_nav').prepend('<a href="#" class="pp_play">Play</a>')
$pp_pic_holder.find('.pp_nav .pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});}
$pp_pic_holder.attr('class','pp_pic_holder '+settings.theme);$pp_overlay.css({'opacity':0,'height':$(document).height(),'width':$(window).width()}).bind('click',function(){if(!settings.modal)$.prettyPhoto.close();});$('a.pp_close').bind('click',function(){$.prettyPhoto.close();return false;});$('a.pp_expand').bind('click',function(e){if($(this).hasClass('pp_expand')){$(this).removeClass('pp_expand').addClass('pp_contract');doresize=false;}else{$(this).removeClass('pp_contract').addClass('pp_expand');doresize=true;};_hideContent(function(){$.prettyPhoto.open();});return false;});$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){$.prettyPhoto.changePage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){$.prettyPhoto.changePage('next');$.prettyPhoto.stopSlideshow();return false;});_center_overlay();};if(!pp_alreadyInitialized&&getHashtag()){pp_alreadyInitialized=true;hashIndex=getHashtag();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf('/'));setTimeout(function(){$("a[rel^='"+hashRel+"']:eq("+hashIndex+")").trigger('click');},50);}
return this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize);};function getHashtag(){url=location.href;hashtag=(url.indexOf('#!')!=-1)?decodeURI(url.substring(url.indexOf('#!')+2,url.length)):false;return hashtag;};function setHashtag(){if(typeof theRel=='undefined')return;location.hash='!'+theRel+'/'+rel_index+'/';};function clearHashtag(){url=location.href;hashtag=(url.indexOf('#!prettyPhoto'));if(hashtag>0)location.hash="!prettyPhoto";}
function getParam(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);return(results==null)?"":results[1];}})(jQuery);var pp_alreadyInitialized=false;function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";}
function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
function eraseCookie(name){createCookie(name,"",-1);}
function getQueryParameter(parameterName){var queryString=window.top.location.search.substring(1);var parameterName=parameterName+"=";if(queryString.length>0){begin=queryString.indexOf(parameterName);if(begin!=-1){begin+=parameterName.length;end=queryString.indexOf("&",begin);if(end==-1){end=queryString.length}
return unescape(queryString.substring(begin,end));}}
return"null";}
function setAffiliate(){if(getQueryParameter('aff')!='null'){if(readCookie('aff')==null){createCookie('aff',getQueryParameter('aff'),30);}
else{if(readCookie('aff')!=getQueryParameter('aff')){eraseCookie('aff');createCookie('aff',getQueryParameter('aff'),30);}}}}
function setTransCookie(){eraseCookie('TransUser');createCookie('TransUser','yes',90);}
function getMenu(){loadData('liShoes');loadData('liClothing');loadData('liBags');loadData('liLifestyle');loadData('liEyewear');loadData('liFragrances');loadData('liJewellery-and-Watches');loadData('liElectronics');loadData('liMobile');loadData('liHome-and-Kitchen');loadData('liLingerie');}
function loadData(obj){var ll=document.getElementById(obj);var xml=(ll.id+'').replace("li","");AjaxCallMenu(xml,ll,0);}
function ShowMenu(htmobj){$(htmobj).children('ul').show();$(htmobj).find('ul').show();$(htmobj).find('li').show();$(htmobj).find('a').show();$(htmobj).find('div').show();}
function hidmenu(obj){$(obj).children('ul').hide();}
function AjaxCallMenu(xmlName,obj,showmenu){var _flagExist=false;if($(obj).children('ul').length>0){_flagExist=true;ShowMenu(obj);}
else{$.ajax({type:"GET",url:"/template/yebhi/menuver0312/"+xmlName+".xml",data:{'K':'d'},dataType:"text",success:function(data){CreateMenu(data,obj,xmlName,showmenu);}});}}
function CreateMenu(xmlDoc,htmobj,xmlName,show){var xml;if($.browser.msie){xml=ieparseXML(xmlDoc);$(htmobj).append(xml);}
else{xml=$.parseXML(xmlDoc)
$(xml).find("HeaderMenu").each(function(){if($(this).attr('Header')==xmlName){var strContent=$(this).text();$(htmobj).append(strContent);}});}
if(show==1){ShowMenu(htmobj);}
else{$(htmobj).has('ul').mouseenter(function(){var objId=$(htmobj).attr('id');var xmlName=objId.replace("li","")
AjaxCallMenu(xmlName,htmobj,1);});$(htmobj).has('ul').mouseleave(function(){hidmenu(htmobj);});hidmenu(htmobj);}}
function ieparseXML(xml){if(jQuery.browser.msie){var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xml);xml=xmlDoc.text;}
return xml;}
function CallParentWindowFunction(){window.top.closePopup();return false;}
var shpheader='<div class=\"smallshopcart\" style=\"background-color: #F0F0F0;margin:5px;width: 790px;float: left;\">'
+' <div style=\"text-align: left; width: 740px;height:30px;vertical-align: middle;font-size:18px; float: left;\"><b> Address Book</b></div> '
+' <div style=\"text-align: right; vertical-align: top; width: 50px; float: left;\"><a href=\"javascript:;\" onclick=\"closePopup()\" class=\"CloseWindow\">X</a></div></div>';var shpfooter='<div border=\"0\" style=\"border: 1px solid #ffffff;\" align=\"right\" cellpadding=\"0\"'
+'cellspacing=\"0\" '
+'class=\"continue-shop\"><div><div style=\"width:128px\"> <a href=\"javascript:;\" onclick=\"javascript:closePopup();\" '
+'class=\"continuing-shoping\">Continue Shopping</a></div><div width=\"10px\"> &nbsp;</div><div style=\"width:120px\"><a class=\"checkout\" href=\"javascript:;\" onclick=\"proceedClick()\">Proceed to Pay</a> '
+'</div></div></div>';function myPop(){this.square=null;this.overdiv=null;this.popOut=function(msgtxt){this.overdiv=document.createElement("div");this.overdiv.className="overdiv";this.overdiv.id="overdiv";this.square=document.createElement("div");this.square.className="square";this.square.id="square";this.square.Code=this;var msg=document.createElement("div");document.body.appendChild(this.overdiv);document.body.appendChild(this.square);msg.className="msg";msg.innerHTML=msgtxt;this.square.appendChild(msg);}
this.popIn=function(){if(this.square!=null){document.body.removeChild(this.square);this.square=null;}
if(this.overdiv!=null){document.body.removeChild(this.overdiv);this.overdiv=null;}}}
function closePopup(){var square=document.getElementById('square');var overdiv=document.getElementById('overdiv');if(square!=null){document.body.removeChild(square);square=null;}
if(this.overdiv!=null){document.body.removeChild(overdiv);overdiv=null;}
overdiv.className="overdiv1";overdiv.id="overdiv1";}
function ReloadParent(){window.location.reload();}
function GetXmlHttpObject(){var xmlHttp1=null;try{xmlHttp1=new XMLHttpRequest();}
catch(e){try{xmlHttp1=new ActiveXObject("Msxml2.XMLHTTP");}
catch(e){xmlHttp1=new ActiveXObject("Microsoft.XMLHTTP");}}
return xmlHttp1;}
var xhttpobj=GetXmlHttpObject();var pop=new myPop();function openme(userid,hdnShipBillvalue){pop.popOut("");var square=document.getElementById('square');square.innerHTML=shpheader+"<div id='divSmallCart' align='center' style='padding-top:220px;'><img src='<%=AppUrl%>images/loading06.gif' border=0 /></div>"
square.innerHTML=shpheader+"<div  align='center' style='width:100%;'><iframe id=\"frmShoppingCart\" src='AddreturnAddress.aspx?uid="+userid+"&adress="+hdnShipBillvalue+"' height=\"360px\" width=\"800px\" frameborder=\"0\" scrolling=\"NO\"></iframe></div>"}
function ClickDefault(){var shippingId=$('#hdnShipBill').val();shippingId="1";openme(userid,shippingId);}
function ClickDefaultshipp(){var userid=hh();var shippingId=$('#hdnShipBill').val();shippingId="2";openme(userid,shippingId);}
(function(f){f.fn.qtip=function(B,u){var y,t,A,s,x,w,v,z;if(typeof B=="string"){if(typeof f(this).data("qtip")!=="object"){f.fn.qtip.log.error.call(self,1,f.fn.qtip.constants.NO_TOOLTIP_PRESENT,false)}if(B=="api"){return f(this).data("qtip").interfaces[f(this).data("qtip").current]}else{if(B=="interfaces"){return f(this).data("qtip").interfaces}}}else{if(!B){B={}}if(typeof B.content!=="object"||(B.content.jquery&&B.content.length>0)){B.content={text:B.content}}if(typeof B.content.title!=="object"){B.content.title={text:B.content.title}}if(typeof B.position!=="object"){B.position={corner:B.position}}if(typeof B.position.corner!=="object"){B.position.corner={target:B.position.corner,tooltip:B.position.corner}}if(typeof B.show!=="object"){B.show={when:B.show}}if(typeof B.show.when!=="object"){B.show.when={event:B.show.when}}if(typeof B.show.effect!=="object"){B.show.effect={type:B.show.effect}}if(typeof B.hide!=="object"){B.hide={when:B.hide}}if(typeof B.hide.when!=="object"){B.hide.when={event:B.hide.when}}if(typeof B.hide.effect!=="object"){B.hide.effect={type:B.hide.effect}}if(typeof B.style!=="object"){B.style={name:B.style}}B.style=c(B.style);s=f.extend(true,{},f.fn.qtip.defaults,B);s.style=a.call({options:s},s.style);s.user=f.extend(true,{},B)}return f(this).each(function(){if(typeof B=="string"){w=B.toLowerCase();A=f(this).qtip("interfaces");if(typeof A=="object"){if(u===true&&w=="destroy"){while(A.length>0){A[A.length-1].destroy()}}else{if(u!==true){A=[f(this).qtip("api")]}for(y=0;y<A.length;y++){if(w=="destroy"){A[y].destroy()}else{if(A[y].status.rendered===true){if(w=="show"){A[y].show()}else{if(w=="hide"){A[y].hide()}else{if(w=="focus"){A[y].focus()}else{if(w=="disable"){A[y].disable(true)}else{if(w=="enable"){A[y].disable(false)}}}}}}}}}}}else{v=f.extend(true,{},s);v.hide.effect.length=s.hide.effect.length;v.show.effect.length=s.show.effect.length;if(v.position.container===false){v.position.container=f(document.body)}if(v.position.target===false){v.position.target=f(this)}if(v.show.when.target===false){v.show.when.target=f(this)}if(v.hide.when.target===false){v.hide.when.target=f(this)}t=f.fn.qtip.interfaces.length;for(y=0;y<t;y++){if(typeof f.fn.qtip.interfaces[y]=="undefined"){t=y;break}}x=new d(f(this),v,t);f.fn.qtip.interfaces[t]=x;if(typeof f(this).data("qtip")=="object"){if(typeof f(this).attr("qtip")==="undefined"){f(this).data("qtip").current=f(this).data("qtip").interfaces.length}f(this).data("qtip").interfaces.push(x)}else{f(this).data("qtip",{current:0,interfaces:[x]})}if(v.content.prerender===false&&v.show.when.event!==false&&v.show.ready!==true){v.show.when.target.bind(v.show.when.event+".qtip-"+t+"-create",{qtip:t},function(C){z=f.fn.qtip.interfaces[C.data.qtip];z.options.show.when.target.unbind(z.options.show.when.event+".qtip-"+C.data.qtip+"-create");z.cache.mouse={x:C.pageX,y:C.pageY};p.call(z);z.options.show.when.target.trigger(z.options.show.when.event)})}else{x.cache.mouse={x:v.show.when.target.offset().left,y:v.show.when.target.offset().top};p.call(x)}}})};function d(u,t,v){var s=this;s.id=v;s.options=t;s.status={animated:false,rendered:false,disabled:false,focused:false};s.elements={target:u.addClass(s.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null};s.cache={mouse:{},position:{},toggle:0};s.timers={};f.extend(s,s.options.api,{show:function(y){var x,z;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"show")}if(s.elements.tooltip.css("display")!=="none"){return s}s.elements.tooltip.stop(true,false);x=s.beforeShow.call(s,y);if(x===false){return s}function w(){if(s.options.position.type!=="static"){s.focus()}s.onShow.call(s,y);if(f.browser.msie){s.elements.tooltip.get(0).style.removeAttribute("filter")}}s.cache.toggle=1;if(s.options.position.type!=="static"){s.updatePosition(y,(s.options.show.effect.length>0))}if(typeof s.options.show.solo=="object"){z=f(s.options.show.solo)}else{if(s.options.show.solo===true){z=f("div.qtip").not(s.elements.tooltip)}}if(z){z.each(function(){if(f(this).qtip("api").status.rendered===true){f(this).qtip("api").hide()}})}if(typeof s.options.show.effect.type=="function"){s.options.show.effect.type.call(s.elements.tooltip,s.options.show.effect.length);s.elements.tooltip.queue(function(){w();f(this).dequeue()})}else{switch(s.options.show.effect.type.toLowerCase()){case"fade":s.elements.tooltip.fadeIn(s.options.show.effect.length,w);break;case"slide":s.elements.tooltip.slideDown(s.options.show.effect.length,function(){w();if(s.options.position.type!=="static"){s.updatePosition(y,true)}});break;case"grow":s.elements.tooltip.show(s.options.show.effect.length,w);break;default:s.elements.tooltip.show(null,w);break}s.elements.tooltip.addClass(s.options.style.classes.active)}return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_SHOWN,"show")},hide:function(y){var x;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"hide")}else{if(s.elements.tooltip.css("display")==="none"){return s}}clearTimeout(s.timers.show);s.elements.tooltip.stop(true,false);x=s.beforeHide.call(s,y);if(x===false){return s}function w(){s.onHide.call(s,y)}s.cache.toggle=0;if(typeof s.options.hide.effect.type=="function"){s.options.hide.effect.type.call(s.elements.tooltip,s.options.hide.effect.length);s.elements.tooltip.queue(function(){w();f(this).dequeue()})}else{switch(s.options.hide.effect.type.toLowerCase()){case"fade":s.elements.tooltip.fadeOut(s.options.hide.effect.length,w);break;case"slide":s.elements.tooltip.slideUp(s.options.hide.effect.length,w);break;case"grow":s.elements.tooltip.hide(s.options.hide.effect.length,w);break;default:s.elements.tooltip.hide(null,w);break}s.elements.tooltip.removeClass(s.options.style.classes.active)}return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_HIDDEN,"hide")},updatePosition:function(w,x){var C,G,L,J,H,E,y,I,B,D,K,A,F,z;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updatePosition")}else{if(s.options.position.type=="static"){return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.CANNOT_POSITION_STATIC,"updatePosition")}}G={position:{left:0,top:0},dimensions:{height:0,width:0},corner:s.options.position.corner.target};L={position:s.getPosition(),dimensions:s.getDimensions(),corner:s.options.position.corner.tooltip};if(s.options.position.target!=="mouse"){if(s.options.position.target.get(0).nodeName.toLowerCase()=="area"){J=s.options.position.target.attr("coords").split(",");for(C=0;C<J.length;C++){J[C]=parseInt(J[C])}H=s.options.position.target.parent("map").attr("name");E=f('img[usemap="#'+H+'"]:first').offset();G.position={left:Math.floor(E.left+J[0]),top:Math.floor(E.top+J[1])};switch(s.options.position.target.attr("shape").toLowerCase()){case"rect":G.dimensions={width:Math.ceil(Math.abs(J[2]-J[0])),height:Math.ceil(Math.abs(J[3]-J[1]))};break;case"circle":G.dimensions={width:J[2]+1,height:J[2]+1};break;case"poly":G.dimensions={width:J[0],height:J[1]};for(C=0;C<J.length;C++){if(C%2==0){if(J[C]>G.dimensions.width){G.dimensions.width=J[C]}if(J[C]<J[0]){G.position.left=Math.floor(E.left+J[C])}}else{if(J[C]>G.dimensions.height){G.dimensions.height=J[C]}if(J[C]<J[1]){G.position.top=Math.floor(E.top+J[C])}}}G.dimensions.width=G.dimensions.width-(G.position.left-E.left);G.dimensions.height=G.dimensions.height-(G.position.top-E.top);break;default:return f.fn.qtip.log.error.call(s,4,f.fn.qtip.constants.INVALID_AREA_SHAPE,"updatePosition");break}G.dimensions.width-=2;G.dimensions.height-=2}else{if(s.options.position.target.add(document.body).length===1){G.position={left:f(document).scrollLeft(),top:f(document).scrollTop()};G.dimensions={height:f(window).height(),width:f(window).width()}}else{if(typeof s.options.position.target.attr("qtip")!=="undefined"){G.position=s.options.position.target.qtip("api").cache.position}else{G.position=s.options.position.target.offset()}G.dimensions={height:s.options.position.target.outerHeight(),width:s.options.position.target.outerWidth()}}}y=f.extend({},G.position);if(G.corner.search(/right/i)!==-1){y.left+=G.dimensions.width}if(G.corner.search(/bottom/i)!==-1){y.top+=G.dimensions.height}if(G.corner.search(/((top|bottom)Middle)|center/)!==-1){y.left+=(G.dimensions.width/2)}if(G.corner.search(/((left|right)Middle)|center/)!==-1){y.top+=(G.dimensions.height/2)}}else{G.position=y={left:s.cache.mouse.x,top:s.cache.mouse.y};G.dimensions={height:1,width:1}}if(L.corner.search(/right/i)!==-1){y.left-=L.dimensions.width}if(L.corner.search(/bottom/i)!==-1){y.top-=L.dimensions.height}if(L.corner.search(/((top|bottom)Middle)|center/)!==-1){y.left-=(L.dimensions.width/2)}if(L.corner.search(/((left|right)Middle)|center/)!==-1){y.top-=(L.dimensions.height/2)}I=(f.browser.msie)?1:0;B=(f.browser.msie&&parseInt(f.browser.version.charAt(0))===6)?1:0;if(s.options.style.border.radius>0){if(L.corner.search(/Left/)!==-1){y.left-=s.options.style.border.radius}else{if(L.corner.search(/Right/)!==-1){y.left+=s.options.style.border.radius}}if(L.corner.search(/Top/)!==-1){y.top-=s.options.style.border.radius}else{if(L.corner.search(/Bottom/)!==-1){y.top+=s.options.style.border.radius}}}if(I){if(L.corner.search(/top/)!==-1){y.top-=I}else{if(L.corner.search(/bottom/)!==-1){y.top+=I}}if(L.corner.search(/left/)!==-1){y.left-=I}else{if(L.corner.search(/right/)!==-1){y.left+=I}}if(L.corner.search(/leftMiddle|rightMiddle/)!==-1){y.top-=1}}if(s.options.position.adjust.screen===true){y=o.call(s,y,G,L)}if(s.options.position.target==="mouse"&&s.options.position.adjust.mouse===true){if(s.options.position.adjust.screen===true&&s.elements.tip){K=s.elements.tip.attr("rel")}else{K=s.options.position.corner.tooltip}y.left+=(K.search(/right/i)!==-1)?-6:6;y.top+=(K.search(/bottom/i)!==-1)?-6:6}if(!s.elements.bgiframe&&f.browser.msie&&parseInt(f.browser.version.charAt(0))==6){f("select, object").each(function(){A=f(this).offset();A.bottom=A.top+f(this).height();A.right=A.left+f(this).width();if(y.top+L.dimensions.height>=A.top&&y.left+L.dimensions.width>=A.left){k.call(s)}})}y.left+=s.options.position.adjust.x;y.top+=s.options.position.adjust.y;F=s.getPosition();if(y.left!=F.left||y.top!=F.top){z=s.beforePositionUpdate.call(s,w);if(z===false){return s}s.cache.position=y;if(x===true){s.status.animated=true;s.elements.tooltip.animate(y,200,"swing",function(){s.status.animated=false})}else{s.elements.tooltip.css(y)}s.onPositionUpdate.call(s,w);if(typeof w!=="undefined"&&w.type&&w.type!=="mousemove"){f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_POSITION_UPDATED,"updatePosition")}}return s},updateWidth:function(w){var x;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateWidth")}else{if(w&&typeof w!=="number"){return f.fn.qtip.log.error.call(s,2,"newWidth must be of type number","updateWidth")}}x=s.elements.contentWrapper.siblings().add(s.elements.tip).add(s.elements.button);if(!w){if(typeof s.options.style.width.value=="number"){w=s.options.style.width.value}else{s.elements.tooltip.css({width:"auto"});x.hide();if(f.browser.msie){s.elements.wrapper.add(s.elements.contentWrapper.children()).css({zoom:"normal"})}w=s.getDimensions().width+1;if(!s.options.style.width.value){if(w>s.options.style.width.max){w=s.options.style.width.max}if(w<s.options.style.width.min){w=s.options.style.width.min}}}}if(w%2!==0){w-=1}s.elements.tooltip.width(w);x.show();if(s.options.style.border.radius){s.elements.tooltip.find(".qtip-betweenCorners").each(function(y){f(this).width(w-(s.options.style.border.radius*2))})}if(f.browser.msie){s.elements.wrapper.add(s.elements.contentWrapper.children()).css({zoom:"1"});s.elements.wrapper.width(w);if(s.elements.bgiframe){s.elements.bgiframe.width(w).height(s.getDimensions.height)}}return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_WIDTH_UPDATED,"updateWidth")},updateStyle:function(w){var z,A,x,y,B;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateStyle")}else{if(typeof w!=="string"||!f.fn.qtip.styles[w]){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.STYLE_NOT_DEFINED,"updateStyle")}}s.options.style=a.call(s,f.fn.qtip.styles[w],s.options.user.style);s.elements.content.css(q(s.options.style));if(s.options.content.title.text!==false){s.elements.title.css(q(s.options.style.title,true))}s.elements.contentWrapper.css({borderColor:s.options.style.border.color});if(s.options.style.tip.corner!==false){if(f("<canvas>").get(0).getContext){z=s.elements.tooltip.find(".qtip-tip canvas:first");x=z.get(0).getContext("2d");x.clearRect(0,0,300,300);y=z.parent("div[rel]:first").attr("rel");B=b(y,s.options.style.tip.size.width,s.options.style.tip.size.height);h.call(s,z,B,s.options.style.tip.color||s.options.style.border.color)}else{if(f.browser.msie){z=s.elements.tooltip.find('.qtip-tip [nodeName="shape"]');z.attr("fillcolor",s.options.style.tip.color||s.options.style.border.color)}}}if(s.options.style.border.radius>0){s.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:s.options.style.border.color});if(f("<canvas>").get(0).getContext){A=g(s.options.style.border.radius);s.elements.tooltip.find(".qtip-wrapper canvas").each(function(){x=f(this).get(0).getContext("2d");x.clearRect(0,0,300,300);y=f(this).parent("div[rel]:first").attr("rel");r.call(s,f(this),A[y],s.options.style.border.radius,s.options.style.border.color)})}else{if(f.browser.msie){s.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){f(this).attr("fillcolor",s.options.style.border.color)})}}}return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_STYLE_UPDATED,"updateStyle")},updateContent:function(A,y){var z,x,w;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateContent")}else{if(!A){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateContent")}}z=s.beforeContentUpdate.call(s,A);if(typeof z=="string"){A=z}else{if(z===false){return}}if(f.browser.msie){s.elements.contentWrapper.children().css({zoom:"normal"})}if(A.jquery&&A.length>0){A.clone(true).appendTo(s.elements.content).show()}else{s.elements.content.html(A)}x=s.elements.content.find("img[complete=false]");if(x.length>0){w=0;x.each(function(C){f('<img src="'+f(this).attr("src")+'" />').load(function(){if(++w==x.length){B()}})})}else{B()}function B(){s.updateWidth();if(y!==false){if(s.options.position.type!=="static"){s.updatePosition(s.elements.tooltip.is(":visible"),true)}if(s.options.style.tip.corner!==false){n.call(s)}}}s.onContentUpdate.call(s);return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_CONTENT_UPDATED,"loadContent")},loadContent:function(w,z,A){var y;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"loadContent")}y=s.beforeContentLoad.call(s);if(y===false){return s}if(A=="post"){f.post(w,z,x)}else{f.get(w,z,x)}function x(B){s.onContentLoad.call(s);f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_CONTENT_LOADED,"loadContent");s.updateContent(B)}return s},updateTitle:function(w){if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"updateTitle")}else{if(!w){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.NO_CONTENT_PROVIDED,"updateTitle")}}returned=s.beforeTitleUpdate.call(s);if(returned===false){return s}if(s.elements.button){s.elements.button=s.elements.button.clone(true)}s.elements.title.html(w);if(s.elements.button){s.elements.title.prepend(s.elements.button)}s.onTitleUpdate.call(s);return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_TITLE_UPDATED,"updateTitle")},focus:function(A){var y,x,w,z;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"focus")}else{if(s.options.position.type=="static"){return f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.CANNOT_FOCUS_STATIC,"focus")}}y=parseInt(s.elements.tooltip.css("z-index"));x=6000+f("div.qtip[qtip]").length-1;if(!s.status.focused&&y!==x){z=s.beforeFocus.call(s,A);if(z===false){return s}f("div.qtip[qtip]").not(s.elements.tooltip).each(function(){if(f(this).qtip("api").status.rendered===true){w=parseInt(f(this).css("z-index"));if(typeof w=="number"&&w>-1){f(this).css({zIndex:parseInt(f(this).css("z-index"))-1})}f(this).qtip("api").status.focused=false}});s.elements.tooltip.css({zIndex:x});s.status.focused=true;s.onFocus.call(s,A);f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_FOCUSED,"focus")}return s},disable:function(w){if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"disable")}if(w){if(!s.status.disabled){s.status.disabled=true;f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_DISABLED,"disable")}else{f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,"disable")}}else{if(s.status.disabled){s.status.disabled=false;f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_ENABLED,"disable")}else{f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,"disable")}}return s},destroy:function(){var w,x,y;x=s.beforeDestroy.call(s);if(x===false){return s}if(s.status.rendered){s.options.show.when.target.unbind("mousemove.qtip",s.updatePosition);s.options.show.when.target.unbind("mouseout.qtip",s.hide);s.options.show.when.target.unbind(s.options.show.when.event+".qtip");s.options.hide.when.target.unbind(s.options.hide.when.event+".qtip");s.elements.tooltip.unbind(s.options.hide.when.event+".qtip");s.elements.tooltip.unbind("mouseover.qtip",s.focus);s.elements.tooltip.remove()}else{s.options.show.when.target.unbind(s.options.show.when.event+".qtip-create")}if(typeof s.elements.target.data("qtip")=="object"){y=s.elements.target.data("qtip").interfaces;if(typeof y=="object"&&y.length>0){for(w=0;w<y.length-1;w++){if(y[w].id==s.id){y.splice(w,1)}}}}delete f.fn.qtip.interfaces[s.id];if(typeof y=="object"&&y.length>0){s.elements.target.data("qtip").current=y.length-1}else{s.elements.target.removeData("qtip")}s.onDestroy.call(s);f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_DESTROYED,"destroy");return s.elements.target},getPosition:function(){var w,x;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition")}w=(s.elements.tooltip.css("display")!=="none")?false:true;if(w){s.elements.tooltip.css({visiblity:"hidden"}).show()}x=s.elements.tooltip.offset();if(w){s.elements.tooltip.css({visiblity:"visible"}).hide()}return x},getDimensions:function(){var w,x;if(!s.status.rendered){return f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions")}w=(!s.elements.tooltip.is(":visible"))?true:false;if(w){s.elements.tooltip.css({visiblity:"hidden"}).show()}x={height:s.elements.tooltip.outerHeight(),width:s.elements.tooltip.outerWidth()};if(w){s.elements.tooltip.css({visiblity:"visible"}).hide()}return x}})}function p(){var s,w,u,t,v,y,x;s=this;s.beforeRender.call(s);s.status.rendered=true;s.elements.tooltip='<div qtip="'+s.id+'" class="qtip '+(s.options.style.classes.tooltip||s.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+s.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+s.options.style.classes.content+'"></div></div></div></div>';s.elements.tooltip=f(s.elements.tooltip);s.elements.tooltip.appendTo(s.options.position.container);s.elements.tooltip.data("qtip",{current:0,interfaces:[s]});s.elements.wrapper=s.elements.tooltip.children("div:first");s.elements.contentWrapper=s.elements.wrapper.children("div:first").css({background:s.options.style.background});s.elements.content=s.elements.contentWrapper.children("div:first").css(q(s.options.style));if(f.browser.msie){s.elements.wrapper.add(s.elements.content).css({zoom:1})}if(s.options.hide.when.event=="unfocus"){s.elements.tooltip.attr("unfocus",true)}if(typeof s.options.style.width.value=="number"){s.updateWidth()}if(f("<canvas>").get(0).getContext||f.browser.msie){if(s.options.style.border.radius>0){m.call(s)}else{s.elements.contentWrapper.css({border:s.options.style.border.width+"px solid "+s.options.style.border.color})}if(s.options.style.tip.corner!==false){e.call(s)}}else{s.elements.contentWrapper.css({border:s.options.style.border.width+"px solid "+s.options.style.border.color});s.options.style.border.radius=0;s.options.style.tip.corner=false;f.fn.qtip.log.error.call(s,2,f.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,"render")}if((typeof s.options.content.text=="string"&&s.options.content.text.length>0)||(s.options.content.text.jquery&&s.options.content.text.length>0)){u=s.options.content.text}else{if(typeof s.elements.target.attr("title")=="string"&&s.elements.target.attr("title").length>0){u=s.elements.target.attr("title").replace("\\n","<br />");s.elements.target.attr("title","")}else{if(typeof s.elements.target.attr("alt")=="string"&&s.elements.target.attr("alt").length>0){u=s.elements.target.attr("alt").replace("\\n","<br />");s.elements.target.attr("alt","")}else{u=" ";f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.NO_VALID_CONTENT,"render")}}}if(s.options.content.title.text!==false){j.call(s)}s.updateContent(u);l.call(s);if(s.options.show.ready===true){s.show()}if(s.options.content.url!==false){t=s.options.content.url;v=s.options.content.data;y=s.options.content.method||"get";s.loadContent(t,v,y)}s.onRender.call(s);f.fn.qtip.log.error.call(s,1,f.fn.qtip.constants.EVENT_RENDERED,"render")}function m(){var F,z,t,B,x,E,u,G,D,y,w,C,A,s,v;F=this;F.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();t=F.options.style.border.width;B=F.options.style.border.radius;x=F.options.style.border.color||F.options.style.tip.color;E=g(B);u={};for(z in E){u[z]='<div rel="'+z+'" style="'+((z.search(/Left/)!==-1)?"left":"right")+":0; position:absolute; height:"+B+"px; width:"+B+'px; overflow:hidden; line-height:0.1px; font-size:1px">';if(f("<canvas>").get(0).getContext){u[z]+='<canvas height="'+B+'" width="'+B+'" style="vertical-align: top"></canvas>'}else{if(f.browser.msie){G=B*2+3;u[z]+='<v:arc stroked="false" fillcolor="'+x+'" startangle="'+E[z][0]+'" endangle="'+E[z][1]+'" style="width:'+G+"px; height:"+G+"px; margin-top:"+((z.search(/bottom/)!==-1)?-2:-1)+"px; margin-left:"+((z.search(/Right/)!==-1)?E[z][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'}}u[z]+="</div>"}D=F.getDimensions().width-(Math.max(t,B)*2);y='<div class="qtip-betweenCorners" style="height:'+B+"px; width:"+D+"px; overflow:hidden; background-color:"+x+'; line-height:0.1px; font-size:1px;">';w='<div class="qtip-borderTop" dir="ltr" style="height:'+B+"px; margin-left:"+B+'px; line-height:0.1px; font-size:1px; padding:0;">'+u.topLeft+u.topRight+y;F.elements.wrapper.prepend(w);C='<div class="qtip-borderBottom" dir="ltr" style="height:'+B+"px; margin-left:"+B+'px; line-height:0.1px; font-size:1px; padding:0;">'+u.bottomLeft+u.bottomRight+y;F.elements.wrapper.append(C);if(f("<canvas>").get(0).getContext){F.elements.wrapper.find("canvas").each(function(){A=E[f(this).parent("[rel]:first").attr("rel")];r.call(F,f(this),A,B,x)})}else{if(f.browser.msie){F.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>')}}s=Math.max(B,(B+(t-B)));v=Math.max(t-B,0);F.elements.contentWrapper.css({border:"0px solid "+x,borderWidth:v+"px "+s+"px"})}function r(u,w,s,t){var v=u.get(0).getContext("2d");v.fillStyle=t;v.beginPath();v.arc(w[0],w[1],s,0,Math.PI*2,false);v.fill()}function e(v){var t,s,x,u,w;t=this;if(t.elements.tip!==null){t.elements.tip.remove()}s=t.options.style.tip.color||t.options.style.border.color;if(t.options.style.tip.corner===false){return}else{if(!v){v=t.options.style.tip.corner}}x=b(v,t.options.style.tip.size.width,t.options.style.tip.size.height);t.elements.tip='<div class="'+t.options.style.classes.tip+'" dir="ltr" rel="'+v+'" style="position:absolute; height:'+t.options.style.tip.size.height+"px; width:"+t.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;">';if(f("<canvas>").get(0).getContext){t.elements.tip+='<canvas height="'+t.options.style.tip.size.height+'" width="'+t.options.style.tip.size.width+'"></canvas>'}else{if(f.browser.msie){u=t.options.style.tip.size.width+","+t.options.style.tip.size.height;w="m"+x[0][0]+","+x[0][1];w+=" l"+x[1][0]+","+x[1][1];w+=" "+x[2][0]+","+x[2][1];w+=" xe";t.elements.tip+='<v:shape fillcolor="'+s+'" stroked="false" filled="true" path="'+w+'" coordsize="'+u+'" style="width:'+t.options.style.tip.size.width+"px; height:"+t.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+((v.search(/top/)!==-1)?"bottom":"top")+'"></v:shape>';t.elements.tip+='<v:image style="behavior:url(#default#VML);"></v:image>';t.elements.contentWrapper.css("position","relative")}}t.elements.tooltip.prepend(t.elements.tip+"</div>");t.elements.tip=t.elements.tooltip.find("."+t.options.style.classes.tip).eq(0);if(f("<canvas>").get(0).getContext){h.call(t,t.elements.tip.find("canvas:first"),x,s)}if(v.search(/top/)!==-1&&f.browser.msie&&parseInt(f.browser.version.charAt(0))===6){t.elements.tip.css({marginTop:-4})}n.call(t,v)}function h(t,v,s){var u=t.get(0).getContext("2d");u.fillStyle=s;u.beginPath();u.moveTo(v[0][0],v[0][1]);u.lineTo(v[1][0],v[1][1]);u.lineTo(v[2][0],v[2][1]);u.fill()}function n(u){var t,w,s,x,v;t=this;if(t.options.style.tip.corner===false||!t.elements.tip){return}if(!u){u=t.elements.tip.attr("rel")}w=positionAdjust=(f.browser.msie)?1:0;t.elements.tip.css(u.match(/left|right|top|bottom/)[0],0);if(u.search(/top|bottom/)!==-1){if(f.browser.msie){if(parseInt(f.browser.version.charAt(0))===6){positionAdjust=(u.search(/top/)!==-1)?-3:1}else{positionAdjust=(u.search(/top/)!==-1)?1:2}}if(u.search(/Middle/)!==-1){t.elements.tip.css({left:"50%",marginLeft:-(t.options.style.tip.size.width/2)})}else{if(u.search(/Left/)!==-1){t.elements.tip.css({left:t.options.style.border.radius-w})}else{if(u.search(/Right/)!==-1){t.elements.tip.css({right:t.options.style.border.radius+w})}}}if(u.search(/top/)!==-1){t.elements.tip.css({top:-positionAdjust})}else{t.elements.tip.css({bottom:positionAdjust})}}else{if(u.search(/left|right/)!==-1){if(f.browser.msie){positionAdjust=(parseInt(f.browser.version.charAt(0))===6)?1:((u.search(/left/)!==-1)?1:2)}if(u.search(/Middle/)!==-1){t.elements.tip.css({top:"50%",marginTop:-(t.options.style.tip.size.height/2)})}else{if(u.search(/Top/)!==-1){t.elements.tip.css({top:t.options.style.border.radius-w})}else{if(u.search(/Bottom/)!==-1){t.elements.tip.css({bottom:t.options.style.border.radius+w})}}}if(u.search(/left/)!==-1){t.elements.tip.css({left:-positionAdjust})}else{t.elements.tip.css({right:positionAdjust})}}}s="padding-"+u.match(/left|right|top|bottom/)[0];x=t.options.style.tip.size[(s.search(/left|right/)!==-1)?"width":"height"];t.elements.tooltip.css("padding",0);t.elements.tooltip.css(s,x);if(f.browser.msie&&parseInt(f.browser.version.charAt(0))==6){v=parseInt(t.elements.tip.css("margin-top"))||0;v+=parseInt(t.elements.content.css("margin-top"))||0;t.elements.tip.css({marginTop:v})}}function j(){var s=this;if(s.elements.title!==null){s.elements.title.remove()}s.elements.title=f('<div class="'+s.options.style.classes.title+'">').css(q(s.options.style.title,true)).css({zoom:(f.browser.msie)?1:0}).prependTo(s.elements.contentWrapper);if(s.options.content.title.text){s.updateTitle.call(s,s.options.content.title.text)}if(s.options.content.title.button!==false&&typeof s.options.content.title.button=="string"){s.elements.button=f('<a class="'+s.options.style.classes.button+'" style="float:right; position: relative"></a>').css(q(s.options.style.button,true)).html(s.options.content.title.button).prependTo(s.elements.title).click(function(t){if(!s.status.disabled){s.hide(t)}})}}function l(){var t,v,u,s;t=this;v=t.options.show.when.target;u=t.options.hide.when.target;if(t.options.hide.fixed){u=u.add(t.elements.tooltip)}if(t.options.hide.when.event=="inactive"){s=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"];function y(z){if(t.status.disabled===true){return}clearTimeout(t.timers.inactive);t.timers.inactive=setTimeout(function(){f(s).each(function(){u.unbind(this+".qtip-inactive");t.elements.content.unbind(this+".qtip-inactive")});t.hide(z)},t.options.hide.delay)}}else{if(t.options.hide.fixed===true){t.elements.tooltip.bind("mouseover.qtip",function(){if(t.status.disabled===true){return}clearTimeout(t.timers.hide)})}}function x(z){if(t.status.disabled===true){return}if(t.options.hide.when.event=="inactive"){f(s).each(function(){u.bind(this+".qtip-inactive",y);t.elements.content.bind(this+".qtip-inactive",y)});y()}clearTimeout(t.timers.show);clearTimeout(t.timers.hide);t.timers.show=setTimeout(function(){t.show(z)},t.options.show.delay)}function w(z){if(t.status.disabled===true){return}if(t.options.hide.fixed===true&&t.options.hide.when.event.search(/mouse(out|leave)/i)!==-1&&f(z.relatedTarget).parents("div.qtip[qtip]").length>0){z.stopPropagation();z.preventDefault();clearTimeout(t.timers.hide);return false}clearTimeout(t.timers.show);clearTimeout(t.timers.hide);t.elements.tooltip.stop(true,true);t.timers.hide=setTimeout(function(){t.hide(z)},t.options.hide.delay)}if((t.options.show.when.target.add(t.options.hide.when.target).length===1&&t.options.show.when.event==t.options.hide.when.event&&t.options.hide.when.event!=="inactive")||t.options.hide.when.event=="unfocus"){t.cache.toggle=0;v.bind(t.options.show.when.event+".qtip",function(z){if(t.cache.toggle==0){x(z)}else{w(z)}})}else{v.bind(t.options.show.when.event+".qtip",x);if(t.options.hide.when.event!=="inactive"){u.bind(t.options.hide.when.event+".qtip",w)}}if(t.options.position.type.search(/(fixed|absolute)/)!==-1){t.elements.tooltip.bind("mouseover.qtip",t.focus)}if(t.options.position.target==="mouse"&&t.options.position.type!=="static"){v.bind("mousemove.qtip",function(z){t.cache.mouse={x:z.pageX,y:z.pageY};if(t.status.disabled===false&&t.options.position.adjust.mouse===true&&t.options.position.type!=="static"&&t.elements.tooltip.css("display")!=="none"){t.updatePosition(z)}})}}function o(u,v,A){var z,s,x,y,t,w;z=this;if(A.corner=="center"){return v.position}s=f.extend({},u);y={x:false,y:false};t={left:(s.left<f.fn.qtip.cache.screen.scroll.left),right:(s.left+A.dimensions.width+2>=f.fn.qtip.cache.screen.width+f.fn.qtip.cache.screen.scroll.left),top:(s.top<f.fn.qtip.cache.screen.scroll.top),bottom:(s.top+A.dimensions.height+2>=f.fn.qtip.cache.screen.height+f.fn.qtip.cache.screen.scroll.top)};x={left:(t.left&&(A.corner.search(/right/i)!=-1||(A.corner.search(/right/i)==-1&&!t.right))),right:(t.right&&(A.corner.search(/left/i)!=-1||(A.corner.search(/left/i)==-1&&!t.left))),top:(t.top&&A.corner.search(/top/i)==-1),bottom:(t.bottom&&A.corner.search(/bottom/i)==-1)};if(x.left){if(z.options.position.target!=="mouse"){s.left=v.position.left+v.dimensions.width}else{s.left=z.cache.mouse.x}y.x="Left"}else{if(x.right){if(z.options.position.target!=="mouse"){s.left=v.position.left-A.dimensions.width}else{s.left=z.cache.mouse.x-A.dimensions.width}y.x="Right"}}if(x.top){if(z.options.position.target!=="mouse"){s.top=v.position.top+v.dimensions.height}else{s.top=z.cache.mouse.y}y.y="top"}else{if(x.bottom){if(z.options.position.target!=="mouse"){s.top=v.position.top-A.dimensions.height}else{s.top=z.cache.mouse.y-A.dimensions.height}y.y="bottom"}}if(s.left<0){s.left=u.left;y.x=false}if(s.top<0){s.top=u.top;y.y=false}if(z.options.style.tip.corner!==false){s.corner=new String(A.corner);if(y.x!==false){s.corner=s.corner.replace(/Left|Right|Middle/,y.x)}if(y.y!==false){s.corner=s.corner.replace(/top|bottom/,y.y)}if(s.corner!==z.elements.tip.attr("rel")){e.call(z,s.corner)}}return s}function q(u,t){var v,s;v=f.extend(true,{},u);for(s in v){if(t===true&&s.search(/(tip|classes)/i)!==-1){delete v[s]}else{if(!t&&s.search(/(width|border|tip|title|classes|user)/i)!==-1){delete v[s]}}}return v}function c(s){if(typeof s.tip!=="object"){s.tip={corner:s.tip}}if(typeof s.tip.size!=="object"){s.tip.size={width:s.tip.size,height:s.tip.size}}if(typeof s.border!=="object"){s.border={width:s.border}}if(typeof s.width!=="object"){s.width={value:s.width}}if(typeof s.width.max=="string"){s.width.max=parseInt(s.width.max.replace(/([0-9]+)/i,"$1"))}if(typeof s.width.min=="string"){s.width.min=parseInt(s.width.min.replace(/([0-9]+)/i,"$1"))}if(typeof s.tip.size.x=="number"){s.tip.size.width=s.tip.size.x;delete s.tip.size.x}if(typeof s.tip.size.y=="number"){s.tip.size.height=s.tip.size.y;delete s.tip.size.y}return s}function a(){var s,t,u,x,v,w;s=this;u=[true,{}];for(t=0;t<arguments.length;t++){u.push(arguments[t])}x=[f.extend.apply(f,u)];while(typeof x[0].name=="string"){x.unshift(c(f.fn.qtip.styles[x[0].name]))}x.unshift(true,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},f.fn.qtip.styles.defaults);v=f.extend.apply(f,x);w=(f.browser.msie)?1:0;v.tip.size.width+=w;v.tip.size.height+=w;if(v.tip.size.width%2>0){v.tip.size.width+=1}if(v.tip.size.height%2>0){v.tip.size.height+=1}if(v.tip.corner===true){v.tip.corner=(s.options.position.corner.tooltip==="center")?false:s.options.position.corner.tooltip}return v}function b(v,u,t){var s={bottomRight:[[0,0],[u,t],[u,0]],bottomLeft:[[0,0],[u,0],[0,t]],topRight:[[0,t],[u,0],[u,t]],topLeft:[[0,0],[0,t],[u,t]],topMiddle:[[0,t],[u/2,0],[u,t]],bottomMiddle:[[0,0],[u,0],[u/2,t]],rightMiddle:[[0,0],[u,t/2],[0,t]],leftMiddle:[[u,0],[u,t],[0,t/2]]};s.leftTop=s.bottomRight;s.rightTop=s.bottomLeft;s.leftBottom=s.topRight;s.rightBottom=s.topLeft;return s[v]}function g(s){var t;if(f("<canvas>").get(0).getContext){t={topLeft:[s,s],topRight:[0,s],bottomLeft:[s,0],bottomRight:[0,0]}}else{if(f.browser.msie){t={topLeft:[-90,90,0],topRight:[-90,90,-s],bottomLeft:[90,270,0],bottomRight:[90,270,-s]}}}return t}function k(){var s,t,u;s=this;u=s.getDimensions();t='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+u.height+"px; width:"+u.width+'px" />';s.elements.bgiframe=s.elements.wrapper.prepend(t).children(".qtip-bgiframe:first")}f(document).ready(function(){f.fn.qtip.cache={screen:{scroll:{left:f(window).scrollLeft(),top:f(window).scrollTop()},width:f(window).width(),height:f(window).height()}};var s;f(window).bind("resize scroll",function(t){clearTimeout(s);s=setTimeout(function(){if(t.type==="scroll"){f.fn.qtip.cache.screen.scroll={left:f(window).scrollLeft(),top:f(window).scrollTop()}}else{f.fn.qtip.cache.screen.width=f(window).width();f.fn.qtip.cache.screen.height=f(window).height()}for(i=0;i<f.fn.qtip.interfaces.length;i++){var u=f.fn.qtip.interfaces[i];if(u.status.rendered===true&&(u.options.position.type!=="static"||u.options.position.adjust.scroll&&t.type==="scroll"||u.options.position.adjust.resize&&t.type==="resize")){u.updatePosition(t,true)}}},100)});f(document).bind("mousedown.qtip",function(t){if(f(t.target).parents("div.qtip").length===0){f(".qtip[unfocus]").each(function(){var u=f(this).qtip("api");if(f(this).is(":visible")&&!u.status.disabled&&f(t.target).add(u.elements.target).length>1){u.hide(t)}})}})});f.fn.qtip.interfaces=[];f.fn.qtip.log={error:function(){return this}};f.fn.qtip.constants={};f.fn.qtip.defaults={content:{prerender:false,text:false,url:false,data:null,title:{text:false,button:false}},position:{target:false,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:true,screen:false,scroll:true,resize:true},type:"absolute",container:false},show:{when:{target:false,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:false,ready:false},hide:{when:{target:false,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:false},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}};f.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:false,color:false,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery);eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(I($){8($.1P.1J)J;$.1P.1J=I(y,z){8(1h.W==0){1c(M,\'5q 4p 6t 1m "\'+1h.3U+\'".\');J 1h}8(1h.W>1){J 1h.1Q(I(){$(1h).1J(y,z)})}F A=1h,$19=1h[0];8(A.1q(\'4q\')){F B=A.1A(\'5r\');A.X(\'5s\',M)}Q{F B=O}A.3V=I(o,b,c){o=3W($19,o);8(o.1c){H.1c=o.1c;1c(H,\'6u "1c" 6v 6w 6x 6y 3u 5t 6z 4r-1j.\')}F e=[\'G\',\'1n\',\'T\',\'17\',\'1a\',\'1b\'];1m(F a=0,l=e.W;a<l;a++){o[e[a]]=3W($19,o[e[a]])}8(K o.1n==\'14\'){8(o.1n<=50)o.1n={\'G\':o.1n};Q o.1n={\'1k\':o.1n}}Q{8(K o.1n==\'1l\')o.1n={\'1G\':o.1n}}8(K o.G==\'14\')o.G={\'P\':o.G};Q 8(o.G==\'1e\')o.G={\'P\':o.G,\'S\':o.G,\'1s\':o.G};8(K o.G!=\'1j\')o.G={};8(b)2u=$.25(M,{},$.1P.1J.4s,o);7=$.25(M,{},$.1P.1J.4s,o);8(K 7.G.12!=\'1j\')7.G.12={};8(7.G.2I==0&&K c==\'14\'){7.G.2I=c}C.4t=(7.2J);C.2k=(7.2k==\'4u\'||7.2k==\'1t\')?\'1a\':\'17\';F f=[[\'S\',\'34\',\'26\',\'1s\',\'5u\',\'2K\',\'1t\',\'2L\',\'1E\',0,1,2,3],[\'1s\',\'5u\',\'2K\',\'S\',\'34\',\'26\',\'2L\',\'1t\',\'3X\',3,2,1,0]];F g=f[0].W,5v=(7.2k==\'2M\'||7.2k==\'1t\')?0:1;7.d={};1m(F d=0;d<g;d++){7.d[f[0][d]]=f[5v][d]}F h=A.Z();1x(K 7.G.P){V\'1j\':7.G.12.2N=7.G.P.2N;7.G.12.27=7.G.P.27;7.G.P=O;18;V\'1l\':8(7.G.P==\'1e\'){7.G.12.1e=M}Q{7.G.12.2l=7.G.P}7.G.P=O;18;V\'I\':7.G.12.2l=7.G.P;7.G.P=O;18}8(K 7.G.1v==\'1y\'){7.G.1v=(h.1v(\':2O\').W>0)?\':P\':\'*\'}8(7[7.d[\'S\']]==\'T\'){7[7.d[\'S\']]=3v(h,7,\'26\')}8(3Y(7[7.d[\'S\']])&&!7.2J){7[7.d[\'S\']]=3Z(35($1B.36(),7,\'34\'),7[7.d[\'S\']]);C.4t=M}8(7[7.d[\'1s\']]==\'T\'){7[7.d[\'1s\']]=3v(h,7,\'2K\')}8(!7.G[7.d[\'S\']]){8(7.2J){1c(M,\'5w a \'+7.d[\'S\']+\' 1m 5t G!\');7.G[7.d[\'S\']]=3v(h,7,\'26\')}Q{7.G[7.d[\'S\']]=(4v(h,7,\'26\'))?\'1e\':h[7.d[\'26\']](M)}}8(!7.G[7.d[\'1s\']]){7.G[7.d[\'1s\']]=(4v(h,7,\'2K\'))?\'1e\':h[7.d[\'2K\']](M)}8(!7[7.d[\'1s\']]){7[7.d[\'1s\']]=7.G[7.d[\'1s\']]}8(!7.G.P&&!7.2J){8(7.G[7.d[\'S\']]==\'1e\'){7.G.12.1e=M}8(!7.G.12.1e){8(K 7[7.d[\'S\']]==\'14\'){7.G.P=1K.3w(7[7.d[\'S\']]/7.G[7.d[\'S\']])}Q{F i=35($1B.36(),7,\'34\');7.G.P=1K.3w(i/7.G[7.d[\'S\']]);7[7.d[\'S\']]=7.G.P*7.G[7.d[\'S\']];8(!7.G.12.2l)7.1C=O}8(7.G.P==\'6A\'||7.G.P<1){1c(M,\'28 a 4w 14 3x P G: 5w 3u "1e".\');7.G.12.1e=M}}}8(!7[7.d[\'S\']]){7[7.d[\'S\']]=\'1e\';8(!7.2J&&7.G.1v==\'*\'&&!7.G.12.1e&&7.G[7.d[\'S\']]!=\'1e\'){7[7.d[\'S\']]=7.G.P*7.G[7.d[\'S\']];7.1C=O}}8(7.G.12.1e){7.3y=(7[7.d[\'S\']]==\'1e\')?35($1B.36(),7,\'34\'):7[7.d[\'S\']];8(7.1C===O){7[7.d[\'S\']]=\'1e\'}7.G.P=2P(h,7,0)}Q 8(7.G.1v!=\'*\'){7.G.12.41=7.G.P;7.G.P=3z(h,7,0)}8(K 7.1C==\'1y\'){7.1C=(7[7.d[\'S\']]==\'1e\')?O:\'4x\'}7.G.P=2Q(7.G.P,7,7.G.12.2l,$19);7.G.12.2m=7.G.P;7.1u=O;8(7.2J){8(!7.G.12.2N)7.G.12.2N=7.G.P;8(!7.G.12.27)7.G.12.27=7.G.P;7.1C=O;7.1i=[0,0,0,0];F j=$1B.1W(\':P\');8(j)$1B.3a();F k=3Z(35($1B.36(),7,\'34\'),7[7.d[\'S\']]);8(K 7[7.d[\'S\']]==\'14\'&&k<7[7.d[\'S\']]){k=7[7.d[\'S\']]}8(j)$1B.3b();F m=4y(1K.2v(k/7.G[7.d[\'S\']]),7.G.12);8(m>h.W){m=h.W}F n=1K.3w(k/m),4z=7[7.d[\'1s\']],5x=3Y(4z);h.1Q(I(){F a=$(1h),4A=n-5y(a,7,\'6B\');a[7.d[\'S\']](4A);8(5x){a[7.d[\'1s\']](3Z(4A,4z))}});7.G.P=m;7.G[7.d[\'S\']]=n;7[7.d[\'S\']]=m*n}Q{7.1i=5z(7.1i);8(7.1C==\'2L\')7.1C=\'1t\';8(7.1C==\'4B\')7.1C=\'2M\';1x(7.1C){V\'4x\':V\'1t\':V\'2M\':8(7[7.d[\'S\']]!=\'1e\'){F p=42(3c(h,7),7);7.1u=M;7.1i[7.d[1]]=p[1];7.1i[7.d[3]]=p[0]}18;2w:7.1C=O;7.1u=(7.1i[0]==0&&7.1i[1]==0&&7.1i[2]==0&&7.1i[3]==0)?O:M;18}}8(K 7.2n==\'1r\'&&7.2n)7.2n=\'6C\'+A.6D(\'6E\');8(K 7.G.3d!=\'14\')7.G.3d=7.G.P;8(K 7.1n.1k!=\'14\')7.1n.1k=5A;8(K 7.1n.G==\'1y\')7.1n.G=(7.G.12.1e||7.G.1v!=\'*\')?\'P\':7.G.P;7.T=3A($19,7.T,\'T\');7.17=3A($19,7.17);7.1a=3A($19,7.1a);7.1b=3A($19,7.1b,\'1b\');7.T=$.25(M,{},7.1n,7.T);7.17=$.25(M,{},7.1n,7.17);7.1a=$.25(M,{},7.1n,7.1a);7.1b=$.25(M,{},7.1n,7.1b);8(K 7.1b.43!=\'1r\')7.1b.43=O;8(K 7.1b.3e!=\'I\'&&7.1b.3e!==O)7.1b.3e=$.1P.1J.5B;8(K 7.T.1H!=\'1r\')7.T.1H=M;8(K 7.T.4C!=\'14\')7.T.4C=0;8(K 7.T.44==\'1y\')7.T.44=M;8(K 7.T.4D!=\'1r\')7.T.4D=M;8(K 7.T.3f!=\'14\')7.T.3f=(7.T.1k<10)?6F:7.T.1k*5;8(7.29){7.29=4E(7.29)}8(H.1c){1c(H,\'3g S: \'+7.S);1c(H,\'3g 1s: \'+7.1s);8(7.3y)1c(H,\'6G \'+7.d[\'S\']+\': \'+7.3y);1c(H,\'5C 6H: \'+7.G.S);1c(H,\'5C 6I: \'+7.G.1s);1c(H,\'45 3x G P: \'+7.G.P);8(7.T.1H)1c(H,\'45 3x G 4F 6J: \'+7.T.G);8(7.17.Y)1c(H,\'45 3x G 4F 4G: \'+7.17.G);8(7.1a.Y)1c(H,\'45 3x G 4F 5D: \'+7.1a.G)}};A.5E=I(){A.1q(\'4q\',M);F a={\'4H\':A.16(\'4H\'),\'4I\':A.16(\'4I\'),\'3B\':A.16(\'3B\'),\'2L\':A.16(\'2L\'),\'2M\':A.16(\'2M\'),\'4B\':A.16(\'4B\'),\'1t\':A.16(\'1t\'),\'S\':A.16(\'S\'),\'1s\':A.16(\'1s\'),\'4J\':A.16(\'4J\'),\'1E\':A.16(\'1E\'),\'3X\':A.16(\'3X\'),\'4K\':A.16(\'4K\')};1x(a.3B){V\'4L\':F b=\'4L\';18;V\'5F\':F b=\'5F\';18;2w:F b=\'6K\'}$1B.16(a).16({\'6L\':\'2O\',\'3B\':b});A.1q(\'5G\',a).16({\'4H\':\'1t\',\'4I\':\'46\',\'3B\':\'4L\',\'2L\':0,\'1t\':0,\'4J\':0,\'1E\':0,\'3X\':0,\'4K\':0});8(7.1u){A.Z().1Q(I(){F m=2o($(1h).16(7.d[\'1E\']));8(2p(m))m=0;$(1h).1q(\'1S\',m)})}};A.5H=I(){A.4M();A.13(L(\'4N\',H),I(e,a){e.1f();8(!C.1Z){8(7.T.Y){7.T.Y.2R(2q(\'47\',H))}}C.1Z=M;8(7.T.1H){7.T.1H=O;A.X(L(\'2S\',H),a)}J M});A.13(L(\'4O\',H),I(e){e.1f();8(C.1T){3C(R)}J M});A.13(L(\'2S\',H),I(e,a,b){e.1f();1F=3h(1F);8(a&&C.1T){R.1Z=M;F c=2x()-R.2T;R.1k-=c;8(R.1o)R.1o.1k-=c;8(R.1R)R.1R.1k-=c;3C(R,O)}8(!C.1X&&!C.1T){8(b)1F.3D+=2x()-1F.2T}8(!C.1X){8(7.T.Y){7.T.Y.2R(2q(\'5I\',H))}}C.1X=M;8(7.T.5J){F d=7.T.3f-1F.3D,3E=3F-1K.2v(d*3F/7.T.3f);7.T.5J.1z($19,3E,d)}J M});A.13(L(\'1H\',H),I(e,b,c,d){e.1f();1F=3h(1F);F v=[b,c,d],t=[\'1l\',\'14\',\'1r\'],a=2U(v,t);F b=a[0],c=a[1],d=a[2];8(b!=\'17\'&&b!=\'1a\')b=C.2k;8(K c!=\'14\')c=0;8(K d!=\'1r\')d=O;8(d){C.1Z=O;7.T.1H=M}8(!7.T.1H){e.20();J 1c(H,\'3g 47: 28 2V.\')}8(C.1X){8(7.T.Y){7.T.Y.2y(2q(\'47\',H));7.T.Y.2y(2q(\'5I\',H))}}C.1X=O;1F.2T=2x();F f=7.T.3f+c;3G=f-1F.3D;3E=3F-1K.2v(3G*3F/f);1F.T=6M(I(){8(7.T.5K){7.T.5K.1z($19,3E,3G)}8(C.1T){A.X(L(\'1H\',H),b)}Q{A.X(L(b,H),7.T)}},3G);8(7.T.5L){7.T.5L.1z($19,3E,3G)}J M});A.13(L(\'2W\',H),I(e){e.1f();8(R.1Z){R.1Z=O;C.1X=O;C.1T=M;R.2T=2x();2a(R)}Q{A.X(L(\'1H\',H))}J M});A.13(L(\'17\',H)+\' \'+L(\'1a\',H),I(e,b,f,g){e.1f();8(C.1Z||A.1W(\':2O\')){e.20();J 1c(H,\'3g 47 6N 2O: 28 2V.\')}8(7.G.3d>=N.U){e.20();J 1c(H,\'28 5M G (\'+N.U+\', \'+7.G.3d+\' 5N): 28 2V.\')}F v=[b,f,g],t=[\'1j\',\'14/1l\',\'I\'],a=2U(v,t);F b=a[0],f=a[1],g=a[2];F h=e.4P.1d(H.3i.3H.W);8(K b!=\'1j\'||b==2b)b=7[h];8(K g==\'I\')b.21=g;8(K f!=\'14\'){8(7.G.1v!=\'*\'){f=\'P\'}Q{F i=[f,b.G,7[h].G];1m(F a=0,l=i.W;a<l;a++){8(K i[a]==\'14\'||i[a]==\'5O\'||i[a]==\'P\'){f=i[a];18}}}1x(f){V\'5O\':e.20();J A.1A(h+\'6O\',[b,g]);18;V\'P\':8(!7.G.12.1e&&7.G.1v==\'*\'){f=7.G.P}18}}8(R.1Z){A.X(L(\'2W\',H));A.X(L(\'3j\',H),[h,[b,f,g]]);e.20();J 1c(H,\'3g 6P 2V.\')}8(b.1k>0){8(C.1T){8(b.3j)A.X(L(\'3j\',H),[h,[b,f,g]]);e.20();J 1c(H,\'3g 6Q 2V.\')}}8(b.4Q&&!b.4Q.1z($19)){e.20();J 1c(H,\'6R "4Q" 6S O.\')}1F.3D=0;A.X(\'5P\'+h,[b,f]);8(7.29){F s=7.29,c=[b,f];1m(F j=0,l=s.W;j<l;j++){F d=h;8(!s[j][1])c[0]=s[j][0].1A(\'5Q\',h);8(!s[j][2])d=(d==\'17\')?\'1a\':\'17\';c[1]=f+s[j][3];s[j][0].X(\'5P\'+d,c)}}J M});A.13(L(\'6T\',H,O),I(e,f,g){e.1f();F h=A.Z();8(!7.1L){8(N.11==0){8(7.3k){A.X(L(\'1a\',H),N.U-1)}J e.20()}}8(7.1u)1M(h,7);8(K g!=\'14\'){8(7.G.12.1e){g=48(h,7,N.U-1)}Q 8(7.G.1v!=\'*\'){F i=(K f.G==\'14\')?f.G:4R(A,7);g=5R(h,7,N.U-1,i)}Q{g=7.G.P}g=4a(g,7,f.G,$19)}8(!7.1L){8(N.U-g<N.11){g=N.U-N.11}}7.G.12.2m=7.G.P;8(7.G.12.1e){F j=2P(h,7,N.U-g);8(7.G.P+g<=j&&g<N.U){g++;j=2P(h,7,N.U-g)}7.G.P=2Q(j,7,7.G.12.2l,$19)}Q 8(7.G.1v!=\'*\'){F j=3z(h,7,N.U-g);7.G.P=2Q(j,7,7.G.12.2l,$19)}8(7.1u)1M(h,7,M);8(g==0){e.20();J 1c(H,\'0 G 3u 1n: 28 2V.\')}1c(H,\'5S \'+g+\' G 4G.\');N.11+=g;22(N.11>=N.U){N.11-=N.U}8(!7.1L){8(N.11==0&&f.4b)f.4b.1z($19);8(!7.3k)2X(7,N.11,H)}A.Z().1d(N.U-g,N.U).6U(A);8(N.U<7.G.P+g){A.Z().1d(0,(7.G.P+g)-N.U).4c(M).3I(A)}F h=A.Z(),2r=5T(h,7,g),1U=5U(h,7),2c=h.1N(g-1),2d=2r.2Y(),2z=1U.2Y();8(7.1u)1M(h,7);8(7.1C){F p=42(1U,7),k=p[0],2s=p[1]}Q{F k=0,2s=0}F l=(k<0)?7.1i[7.d[3]]:0;8(f.1I==\'5V\'&&7.G.P<g){F m=h.1d(7.G.12.2m,g),4d=7.G[7.d[\'S\']];m.1Q(I(){F a=$(1h);a.1q(\'4e\',a.1W(\':2O\')).3a()});7.G[7.d[\'S\']]=\'1e\'}Q{F m=O}F n=3l(h.1d(0,g),7,\'S\'),2e=4f(2A(1U,7,M),7,!7.1u);8(m)7.G[7.d[\'S\']]=4d;8(7.1u){1M(h,7,M);8(2s>=0){1M(2d,7,7.1i[7.d[1]])}1M(2c,7,7.1i[7.d[3]])}8(7.1C){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=k}F o={},1w=f.1k;8(f.1I==\'46\')1w=0;Q 8(1w==\'T\')1w=7.1n.1k/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=23(1w,f.1G);8(7[7.d[\'S\']]==\'1e\'||7[7.d[\'1s\']]==\'1e\'){R.1g.1p([$1B,2e])}8(7.1u){F q=7.1i[7.d[3]];8(2z.4S(2c).W){F r={};r[7.d[\'1E\']]=2c.1q(\'1S\');8(k<0)2c.16(r);Q R.1g.1p([2c,r])}8(2z.4S(2d).W){F s={};s[7.d[\'1E\']]=2d.1q(\'1S\');R.1g.1p([2d,s])}8(2s>=0){F t={};t[7.d[\'1E\']]=2z.1q(\'1S\')+7.1i[7.d[1]];R.1g.1p([2z,t])}}Q{F q=0}o[7.d[\'1t\']]=q;F u=[2r,1U,2e,1w];8(f.2f)f.2f.3J($19,u);1Y.2f=3K(1Y.2f,$19,u);1x(f.1I){V\'2B\':V\'2g\':V\'2C\':V\'2h\':R.1o=23(R.1k,R.1G);R.1R=23(R.1k,R.1G);R.1k=0;18}1x(f.1I){V\'2g\':V\'2C\':V\'2h\':F v=A.4c().3I($1B);18}1x(f.1I){V\'2h\':v.Z().1d(0,g).1O();V\'2g\':V\'2C\':v.Z().1d(7.G.P).1O();18}1x(f.1I){V\'2B\':R.1o.1g.1p([A,{\'2i\':0}]);18;V\'2g\':v.16({\'2i\':0});R.1o.1g.1p([A,{\'S\':\'+=0\'},I(){v.1O()}]);R.1R.1g.1p([v,{\'2i\':1}]);18;V\'2C\':R=4T(R,A,v,7,M);18;V\'2h\':R=4U(R,A,v,7,M,g);18}F w=I(){F b=7.G.P+g-N.U;8(b>0){A.Z().1d(N.U).1O();2r=$(A.Z().1d(N.U-(7.G.P-b)).4g().5W(A.Z().1d(0,b).4g()))}8(m){m.1Q(I(){F a=$(1h);8(!a.1q(\'4e\'))a.3b()})}8(7.1u){F c=A.Z().1N(7.G.P+g-1);c.16(7.d[\'1E\'],c.1q(\'1S\'))}R.1g=[];8(R.1o)R.1o=23(R.4V,R.1G);F d=I(){1x(f.1I){V\'2B\':V\'2g\':A.16(\'1v\',\'\');18}R.1R=23(0,2b);C.1T=O;F a=[2r,1U,2e];8(f.21)f.21.3J($19,a);1Y.21=3K(1Y.21,$19,a);8(1V.W){A.X(L(1V[0][0],H),1V[0][1]);1V.5X()}8(!C.1X)A.X(L(\'1H\',H))};1x(f.1I){V\'2B\':R.1o.1g.1p([A,{\'2i\':1},d]);2a(R.1o);18;V\'2h\':R.1o.1g.1p([A,{\'S\':\'+=0\'},d]);2a(R.1o);18;2w:d();18}};R.1g.1p([A,o,w]);C.1T=M;A.16(7.d[\'1t\'],-(n-l));1F=3h(1F);2a(R);4W(7.2n,A.1A(L(\'3L\',H)));A.X(L(\'2D\',H),[O,2e]);J M});A.13(L(\'6V\',H,O),I(e,f,g){e.1f();F h=A.Z();8(!7.1L){8(N.11==7.G.P){8(7.3k){A.X(L(\'17\',H),N.U-1)}J e.20()}}8(7.1u)1M(h,7);8(K g!=\'14\'){8(7.G.1v!=\'*\'){F i=(K f.G==\'14\')?f.G:4R(A,7);g=5Y(h,7,0,i)}Q{g=7.G.P}g=4a(g,7,f.G,$19)}F j=(N.11==0)?N.U:N.11;8(!7.1L){8(7.G.12.1e){F k=2P(h,7,g),i=48(h,7,j-1)}Q{F k=7.G.P,i=7.G.P}8(g+k>j){g=j-i}}7.G.12.2m=7.G.P;8(7.G.12.1e){F k=4X(h,7,g,j);22(7.G.P-g>=k&&g<N.U){g++;k=4X(h,7,g,j)}7.G.P=2Q(k,7,7.G.12.2l,$19)}Q 8(7.G.1v!=\'*\'){F k=3z(h,7,g);7.G.P=2Q(k,7,7.G.12.2l,$19)}8(7.1u)1M(h,7,M);8(g==0){e.20();J 1c(H,\'0 G 3u 1n: 28 2V.\')}1c(H,\'5S \'+g+\' G 5D.\');N.11-=g;22(N.11<0){N.11+=N.U}8(!7.1L){8(N.11==7.G.P&&f.4b)f.4b.1z($19);8(!7.3k)2X(7,N.11,H)}8(N.U<7.G.P+g){A.Z().1d(0,(7.G.P+g)-N.U).4c(M).3I(A)}F h=A.Z(),2r=4Y(h,7),1U=4Z(h,7,g),2c=h.1N(g-1),2d=2r.2Y(),2z=1U.2Y();8(7.1u)1M(h,7);8(7.1C){F p=42(1U,7),l=p[0],2s=p[1]}Q{F l=0,2s=0}8(f.1I==\'5V\'&&7.G.12.2m<g){F m=h.1d(7.G.12.2m,g),4d=7.G[7.d[\'S\']];m.1Q(I(){F a=$(1h);a.1q(\'4e\',a.1W(\':2O\')).3a()});7.G[7.d[\'S\']]=\'1e\'}Q{F m=O}F n=3l(h.1d(0,g),7,\'S\'),2e=4f(2A(1U,7,M),7,!7.1u);8(m)7.G[7.d[\'S\']]=4d;8(7.1C){8(7.1i[7.d[1]]<0){7.1i[7.d[1]]=0}}8(7.1u){1M(h,7,M);1M(2d,7,7.1i[7.d[1]])}8(7.1C){7.1i[7.d[1]]=2s;7.1i[7.d[3]]=l}F o={},1w=f.1k;8(f.1I==\'46\')1w=0;Q 8(1w==\'T\')1w=7.1n.1k/7.1n.G*g;Q 8(1w<=0)1w=0;Q 8(1w<10)1w=n/1w;R=23(1w,f.1G);8(7[7.d[\'S\']]==\'1e\'||7[7.d[\'1s\']]==\'1e\'){R.1g.1p([$1B,2e])}8(7.1u){F q=2z.1q(\'1S\');8(2s>=0){q+=7.1i[7.d[1]]}2z.16(7.d[\'1E\'],q);8(2c.4S(2d).W){F r={};r[7.d[\'1E\']]=2d.1q(\'1S\');R.1g.1p([2d,r])}F s=2c.1q(\'1S\');8(l>=0){s+=7.1i[7.d[3]]}F t={};t[7.d[\'1E\']]=s;R.1g.1p([2c,t])}o[7.d[\'1t\']]=-n;8(l<0){o[7.d[\'1t\']]+=l}F u=[2r,1U,2e,1w];8(f.2f)f.2f.3J($19,u);1Y.2f=3K(1Y.2f,$19,u);1x(f.1I){V\'2B\':V\'2g\':V\'2C\':V\'2h\':R.1o=23(R.1k,R.1G);R.1R=23(R.1k,R.1G);R.1k=0;18}1x(f.1I){V\'2g\':V\'2C\':V\'2h\':F v=A.4c().3I($1B);18}1x(f.1I){V\'2h\':v.Z().1d(7.G.12.2m).1O();18;V\'2g\':V\'2C\':v.Z().1d(0,g).1O();v.Z().1d(7.G.P).1O();18}1x(f.1I){V\'2B\':R.1o.1g.1p([A,{\'2i\':0}]);18;V\'2g\':v.16({\'2i\':0});R.1o.1g.1p([A,{\'S\':\'+=0\'},I(){v.1O()}]);R.1R.1g.1p([v,{\'2i\':1}]);18;V\'2C\':R=4T(R,A,v,7,O);18;V\'2h\':R=4U(R,A,v,7,O,g);18}F w=I(){F b=7.G.P+g-N.U,5Z=(7.1u)?7.1i[7.d[3]]:0;A.16(7.d[\'1t\'],5Z);8(b>0){A.Z().1d(N.U).1O()}F c=A.Z().1d(0,g).3I(A).2Y();8(b>0){1U=3c(h,7)}8(m){m.1Q(I(){F a=$(1h);8(!a.1q(\'4e\'))a.3b()})}8(7.1u){8(N.U<7.G.P+g){F d=A.Z().1N(7.G.P-1);d.16(7.d[\'1E\'],d.1q(\'1S\')+7.1i[7.d[3]])}c.16(7.d[\'1E\'],c.1q(\'1S\'))}R.1g=[];8(R.1o)R.1o=23(R.4V,R.1G);F e=I(){1x(f.1I){V\'2B\':V\'2g\':A.16(\'1v\',\'\');18}R.1R=23(0,2b);C.1T=O;F a=[2r,1U,2e];8(f.21)f.21.3J($19,a);1Y.21=3K(1Y.21,$19,a);8(1V.W){A.X(L(1V[0][0],H),1V[0][1]);1V.5X()}8(!C.1X)A.X(L(\'1H\',H))};1x(f.1I){V\'2B\':R.1o.1g.1p([A,{\'2i\':1},e]);2a(R.1o);18;V\'2h\':R.1o.1g.1p([A,{\'S\':\'+=0\'},e]);2a(R.1o);18;2w:e();18}};R.1g.1p([A,o,w]);C.1T=M;1F=3h(1F);2a(R);4W(7.2n,A.1A(L(\'3L\',H)));A.X(L(\'2D\',H),[O,2e]);J M});A.13(L(\'2Z\',H),I(e,b,c,d,f,g,h){e.1f();F v=[b,c,d,f,g,h],t=[\'1l/14/1j\',\'14\',\'1r\',\'1j\',\'1l\',\'I\'],a=2U(v,t);F f=a[3],g=a[4],h=a[5];b=3m(a[0],a[1],a[2],N,A);8(b==0)J;8(K f!=\'1j\')f=O;8(C.1T){8(K f!=\'1j\'||f.1k>0)J O}8(g!=\'17\'&&g!=\'1a\'){8(7.1L){8(b<=N.U/2)g=\'1a\';Q g=\'17\'}Q{8(N.11==0||N.11>b)g=\'1a\';Q g=\'17\'}}8(g==\'17\')b=N.U-b;A.X(L(g,H),[f,b,h]);J M});A.13(L(\'6W\',H),I(e,a,b){e.1f();F c=A.1A(L(\'3M\',H));J A.1A(L(\'51\',H),[c-1,a,\'17\',b])});A.13(L(\'6X\',H),I(e,a,b){e.1f();F c=A.1A(L(\'3M\',H));J A.1A(L(\'51\',H),[c+1,a,\'1a\',b])});A.13(L(\'51\',H),I(e,a,b,c,d){e.1f();8(K a!=\'14\')a=A.1A(L(\'3M\',H));F f=7.1b.G||7.G.P,27=1K.2v(N.U/f)-1;8(a<0)a=27;8(a>27)a=0;J A.1A(L(\'2Z\',H),[a*f,0,M,b,c,d])});A.13(L(\'60\',H),I(e,s){e.1f();8(s)s=3m(s,0,M,N,A);Q s=0;s+=N.11;8(s!=0){22(s>N.U)s-=N.U;A.6Y(A.Z().1d(s,N.U))}J M});A.13(L(\'29\',H),I(e,s){e.1f();8(s)s=4E(s);Q 8(7.29)s=7.29;Q J 1c(H,\'5q 6Z 3u 29.\');F n=A.1A(L(\'3L\',H)),x=M;1m(F j=0,l=s.W;j<l;j++){8(!s[j][0].1A(L(\'2Z\',H),[n,s[j][3],M])){x=O}}J x});A.13(L(\'3j\',H),I(e,a,b){e.1f();8(K a==\'I\'){a.1z($19,1V)}Q 8(31(a)){1V=a}Q 8(K a!=\'1y\'){1V.1p([a,b])}J 1V});A.13(L(\'70\',H),I(e,b,c,d,f){e.1f();F v=[b,c,d,f],t=[\'1l/1j\',\'1l/14/1j\',\'1r\',\'14\'],a=2U(v,t);F b=a[0],c=a[1],d=a[2],f=a[3];8(K b==\'1j\'&&K b.3n==\'1y\')b=$(b);8(K b==\'1l\')b=$(b);8(K b!=\'1j\'||K b.3n==\'1y\'||b.W==0)J 1c(H,\'28 a 4w 1j.\');8(K c==\'1y\')c=\'4h\';8(7.1u){b.1Q(I(){F m=2o($(1h).16(7.d[\'1E\']));8(2p(m))m=0;$(1h).1q(\'1S\',m)})}F g=c,3N=\'3N\';8(c==\'4h\'){8(d){8(N.11==0){c=N.U-1;3N=\'61\'}Q{c=N.11;N.11+=b.W}8(c<0)c=0}Q{c=N.U-1;3N=\'61\'}}Q{c=3m(c,f,d,N,A)}8(g!=\'4h\'&&!d){8(c<N.11)N.11+=b.W}8(N.11>=N.U)N.11-=N.U;F h=A.Z().1N(c);8(h.W){h[3N](b)}Q{A.62(b)}N.U=A.Z().W;F i=A.1A(\'52\');3O(7,N.U,H);2X(7,N.11,H);A.X(L(\'53\',H));A.X(L(\'2D\',H),[M,i]);J M});A.13(L(\'71\',H),I(e,b,c,d){e.1f();F v=[b,c,d],t=[\'1l/14/1j\',\'1r\',\'14\'],a=2U(v,t);F b=a[0],c=a[1],d=a[2];8(K b==\'1y\'||b==\'4h\'){A.Z().2Y().1O()}Q{b=3m(b,d,c,N,A);F f=A.Z().1N(b);8(f.W){8(b<N.11)N.11-=f.W;f.1O()}}N.U=A.Z().W;F g=A.1A(\'52\');3O(7,N.U,H);2X(7,N.11,H);A.X(L(\'2D\',H),[M,g]);J M});A.13(L(\'2f\',H)+\' \'+L(\'21\',H),I(e,a){e.1f();F b=e.4P.1d(H.3i.3H.W);8(31(a))1Y[b]=a;8(K a==\'I\')1Y[b].1p(a);J 1Y[b]});A.13(L(\'5r\',H,O),I(e,a){e.1f();J A.1A(L(\'3L\',H),a)});A.13(L(\'3L\',H),I(e,a){e.1f();8(N.11==0)F b=0;Q F b=N.U-N.11;8(K a==\'I\')a.1z($19,b);J b});A.13(L(\'3M\',H),I(e,a){e.1f();F b=7.1b.G||7.G.P;F c=1K.2v(N.U/b-1);8(N.11==0)F d=0;Q 8(N.11<N.U%b)F d=0;Q 8(N.11==b&&!7.1L)F d=c;Q F d=1K.72((N.U-N.11)/b);8(d<0)d=0;8(d>c)d=c;8(K a==\'I\')a.1z($19,d);J d});A.13(L(\'73\',H),I(e,a){e.1f();$i=3c(A.Z(),7);8(K a==\'I\')a.1z($19,$i);J $i});A.13(L(\'1d\',H),I(e,f,l,b){e.1f();F v=[f,l,b],t=[\'14\',\'14\',\'I\'],a=2U(v,t);f=(K a[0]==\'14\')?a[0]:0,l=(K a[1]==\'14\')?a[1]:N.U,b=a[2];f+=N.11;l+=N.11;22(f>N.U){f-=N.U}22(l>N.U){l-=N.U}22(f<0){f+=N.U}22(l<0){l+=N.U}F c=A.Z();8(l>f){F d=c.1d(f,l)}Q{F d=$(c.1d(f,N.U).4g().5W(c.1d(0,l).4g()))}8(K b==\'I\')b.1z($19,d);J d});A.13(L(\'1X\',H)+\' \'+L(\'1Z\',H)+\' \'+L(\'1T\',H),I(e,a){e.1f();F b=e.4P.1d(H.3i.3H.W);8(K a==\'I\')a.1z($19,C[b]);J C[b]});A.13(L(\'5Q\',H,O),I(e,a,b,c){e.1f();J A.1A(L(\'4r\',H),[a,b,c])});A.13(L(\'4r\',H),I(e,a,b,c){e.1f();F d=O;8(K a==\'I\'){a.1z($19,7)}Q 8(K a==\'1j\'){2u=$.25(M,{},2u,a);8(b!==O)d=M;Q 7=$.25(M,{},7,a)}Q 8(K a!=\'1y\'){8(K b==\'I\'){F f=4i(\'7.\'+a);8(K f==\'1y\')f=\'\';b.1z($19,f)}Q 8(K b!=\'1y\'){8(K c!==\'1r\')c=M;4i(\'2u.\'+a+\' = b\');8(c!==O)d=M;Q 4i(\'7.\'+a+\' = b\')}Q{J 4i(\'7.\'+a)}}8(d){1M(A.Z(),7);A.3V(2u);A.54();F g=3P(A,7,O);A.X(L(\'2D\',H),[M,g])}J 7});A.13(L(\'53\',H),I(e,a,b){e.1f();8(K a==\'1y\'||a.W==0)a=$(\'74\');Q 8(K a==\'1l\')a=$(a);8(K a!=\'1j\')J 1c(H,\'28 a 4w 1j.\');8(K b!=\'1l\'||b.W==0)b=\'a.63\';a.75(b).1Q(I(){F h=1h.64||\'\';8(h.W>0&&A.Z().65($(h))!=-1){$(1h).24(\'55\').55(I(e){e.2j();A.X(L(\'2Z\',H),h)})}});J M});A.13(L(\'2D\',H),I(e,b,c){e.1f();8(!7.1b.1D)J;8(b){F d=7.1b.G||7.G.P,l=1K.2v(N.U/d);8(7.1b.3e){7.1b.1D.Z().1O();7.1b.1D.1Q(I(){1m(F a=0;a<l;a++){F i=A.Z().1N(3m(a*d,0,M,N,A));$(1h).62(7.1b.3e(a+1,i))}})}7.1b.1D.1Q(I(){$(1h).Z().24(7.1b.3o).1Q(I(a){$(1h).13(7.1b.3o,I(e){e.2j();A.X(L(\'2Z\',H),[a*d,0,M,7.1b])})})})}7.1b.1D.1Q(I(){$(1h).Z().2y(2q(\'66\',H)).1N(A.1A(L(\'3M\',H))).2R(2q(\'66\',H))});J M});A.13(L(\'52\',H),I(e){F a=A.Z(),3Q=7.G.P;8(7.G.12.1e)3Q=2P(a,7,0);Q 8(7.G.1v!=\'*\')3Q=3z(a,7,0);8(!7.1L&&N.11!=0&&3Q>N.11){8(7.G.12.1e){F b=48(a,7,N.11)-N.11}Q 8(7.G.1v!=\'*\'){F b=68(a,7,N.11)-N.11}Q{b=7.G.P-N.11}1c(H,\'76 77-1L: 78 \'+b+\' G 4G.\');A.X(\'17\',b)}7.G.P=2Q(3Q,7,7.G.12.2l,$19);J 3P(A,7)});A.13(L(\'5s\',H,O),I(e,a){e.1f();A.X(L(\'69\',H),a);J M});A.13(L(\'69\',H),I(e,a){e.1f();1F=3h(1F);A.1q(\'4q\',O);A.X(L(\'4O\',H));8(a){A.X(L(\'60\',H))}8(7.1u){1M(A.Z(),7)}A.16(A.1q(\'5G\'));A.4M();A.56();$1B.79(A);J M})};A.4M=I(){A.24(L(\'\',H));A.24(L(\'\',H,O))};A.54=I(){A.56();3O(7,N.U,H);2X(7,N.11,H);8(7.T.2t){F c=3p(7.T.2t);$1B.13(L(\'4j\',H,O),I(){A.X(L(\'2S\',H),c)}).13(L(\'4k\',H,O),I(){A.X(L(\'2W\',H))})}8(7.T.Y){7.T.Y.13(L(7.T.3o,H,O),I(e){e.2j();F a=O,c=2b;8(C.1X){a=\'1H\'}Q 8(7.T.44){a=\'2S\';c=3p(7.T.44)}8(a){A.X(L(a,H),c)}})}8(7.17.Y){7.17.Y.13(L(7.17.3o,H,O),I(e){e.2j();A.X(L(\'17\',H))});8(7.17.2t){F c=3p(7.17.2t);7.17.Y.13(L(\'4j\',H,O),I(){A.X(L(\'2S\',H),c)}).13(L(\'4k\',H,O),I(){A.X(L(\'2W\',H))})}}8(7.1a.Y){7.1a.Y.13(L(7.1a.3o,H,O),I(e){e.2j();A.X(L(\'1a\',H))});8(7.1a.2t){F c=3p(7.1a.2t);7.1a.Y.13(L(\'4j\',H,O),I(){A.X(L(\'2S\',H),c)}).13(L(\'4k\',H,O),I(){A.X(L(\'2W\',H))})}}8($.1P.2E){8(7.17.2E){8(!C.57){C.57=M;$1B.2E(I(e,a){8(a>0){e.2j();F b=59(7.17.2E);A.X(L(\'17\',H),b)}})}}8(7.1a.2E){8(!C.5a){C.5a=M;$1B.2E(I(e,a){8(a<0){e.2j();F b=59(7.1a.2E);A.X(L(\'1a\',H),b)}})}}}8($.1P.3R){F d=(7.17.5b)?I(){A.X(L(\'17\',H))}:2b,3S=(7.1a.5b)?I(){A.X(L(\'1a\',H))}:2b;8(3S||3S){8(!C.3R){C.3R=M;F f={\'7a\':30,\'7b\':30,\'7c\':M};1x(7.2k){V\'4u\':V\'6a\':f.7d=d;f.7e=3S;18;2w:f.7f=3S;f.7g=d}$1B.3R(f)}}}8(7.1b.1D){8(7.1b.2t){F c=3p(7.1b.2t);7.1b.1D.13(L(\'4j\',H,O),I(){A.X(L(\'2S\',H),c)}).13(L(\'4k\',H,O),I(){A.X(L(\'2W\',H))})}}8(7.17.2F||7.1a.2F){$(3T).13(L(\'6b\',H,O,M,M),I(e){F k=e.6c;8(k==7.1a.2F){e.2j();A.X(L(\'1a\',H))}8(k==7.17.2F){e.2j();A.X(L(\'17\',H))}})}8(7.1b.43){$(3T).13(L(\'6b\',H,O,M,M),I(e){F k=e.6c;8(k>=49&&k<58){k=(k-49)*7.G.P;8(k<=N.U){e.2j();A.X(L(\'2Z\',H),[k,0,M,7.1b])}}})}8(7.T.1H){A.X(L(\'1H\',H),7.T.4C)}8(C.4t){$(3q).13(L(\'7h\',H,O,M,M),I(e){A.X(L(\'4O\',H));8(7.T.4D&&!C.1X){A.X(L(\'1H\',H))}1M(A.Z(),7);A.3V(2u);F a=3P(A,7,O);A.X(L(\'2D\',H),[M,a])})}};A.56=I(){F a=L(\'\',H),3r=L(\'\',H,O);5c=L(\'\',H,O,M,M);$(3T).24(5c);$(3q).24(5c);$1B.24(3r);8(7.T.Y)7.T.Y.24(3r);8(7.17.Y)7.17.Y.24(3r);8(7.1a.Y)7.1a.Y.24(3r);8(7.1b.1D){7.1b.1D.24(3r);8(7.1b.3e){7.1b.1D.Z().1O()}}3O(7,\'3a\',H);2X(7,\'2y\',H)};F C={\'2k\':\'1a\',\'1X\':M,\'1T\':O,\'1Z\':O,\'5a\':O,\'57\':O,\'3R\':O},N={\'U\':A.Z().W,\'11\':0},1F={\'7i\':2b,\'T\':2b,\'3j\':2b,\'2T\':2x(),\'3D\':0},R={\'1Z\':O,\'1k\':0,\'2T\':0,\'1G\':\'\',\'1g\':[]},1Y={\'2f\':[],\'21\':[]},1V=[],H=$.25(M,{},$.1P.1J.6d,z),7={},2u=y,$1B=A.7j(\'<\'+H.5d.4p+\' 7k="\'+H.5d.6e+\'" />\').36();H.3U=A.3U;H.4l=$.1P.1J.4l++;A.3V(2u,M,B);A.5E();A.5H();A.54();8(31(7.G.2I)){F D=7.G.2I}Q{F D=[];8(7.G.2I!=0){D.1p(7.G.2I)}}8(7.2n){D.7l(6f(7.2n))}8(D.W>0){1m(F a=0,l=D.W;a<l;a++){F s=D[a];8(s==0){5e}8(s===M){s=3q.7m.64;8(s.W<1){5e}}Q 8(s===\'6g\'){s=1K.3w(1K.6g()*N.U)}8(A.1A(L(\'2Z\',H),[s,0,M,{1I:\'46\'}])){18}}}F E=3P(A,7,O),6h=3c(A.Z(),7);8(7.6i){7.6i.1z($19,6h,E)}A.X(L(\'2D\',H),[M,E]);A.X(L(\'53\',H));J A};$.1P.1J.4l=1;$.1P.1J.4s={\'29\':O,\'3k\':M,\'1L\':M,\'2J\':O,\'2k\':\'1t\',\'G\':{\'2I\':0},\'1n\':{\'1G\':\'7n\',\'1k\':5A,\'2t\':O,\'2E\':O,\'5b\':O,\'3o\':\'55\',\'3j\':O}};$.1P.1J.6d={\'1c\':O,\'3i\':{\'3H\':\'\',\'6j\':\'7o\'},\'5d\':{\'4p\':\'7p\',\'6e\':\'7q\'},\'5f\':{}};$.1P.1J.5B=I(a,b){J\'<a 7r="#"><6k>\'+a+\'</6k></a>\'};I 23(d,e){J{1g:[],1k:d,4V:d,1G:e,2T:2x()}}I 2a(s){8(K s.1o==\'1j\'){2a(s.1o)}1m(F a=0,l=s.1g.W;a<l;a++){F b=s.1g[a];8(!b)5e;8(b[3])b[0].4N();b[0].6l(b[1],{6m:b[2],1k:s.1k,1G:s.1G})}8(K s.1R==\'1j\'){2a(s.1R)}}I 3C(s,c){8(K c!=\'1r\')c=M;8(K s.1o==\'1j\'){3C(s.1o,c)}1m(F a=0,l=s.1g.W;a<l;a++){F b=s.1g[a];b[0].4N(M);8(c){b[0].16(b[1]);8(K b[2]==\'I\')b[2]()}}8(K s.1R==\'1j\'){3C(s.1R,c)}}I 3h(t){8(t.T)7s(t.T);J t}I 3K(b,t,c){8(b.W){1m(F a=0,l=b.W;a<l;a++){b[a].3J(t,c)}}J[]}I 7t(a,c,x,d,f){F o={\'1k\':d,\'1G\':a.1G};8(K f==\'I\')o.6m=f;c.6l({2i:x},o)}I 4T(a,b,c,o,d){F e=2A(4Y(b.Z(),o),o,M)[0],5g=2A(c.Z(),o,M)[0],4m=(d)?-5g:e,2G={},3s={};2G[o.d[\'S\']]=5g;2G[o.d[\'1t\']]=4m;3s[o.d[\'1t\']]=0;a.1o.1g.1p([b,{\'2i\':1}]);a.1R.1g.1p([c,3s,I(){$(1h).1O()}]);c.16(2G);J a}I 4U(a,b,c,o,d,n){F e=2A(4Z(b.Z(),o,n),o,M)[0],5h=2A(c.Z(),o,M)[0],4m=(d)?-5h:e,2G={},3s={};2G[o.d[\'S\']]=5h;2G[o.d[\'1t\']]=0;3s[o.d[\'1t\']]=4m;a.1R.1g.1p([c,3s,I(){$(1h).1O()}]);c.16(2G);J a}I 3O(o,t,c){8(t==\'3b\'||t==\'3a\'){F f=t}Q 8(o.G.3d>=t){1c(c,\'28 5M G: 7u 7v (\'+t+\' G, \'+o.G.3d+\' 5N).\');F f=\'3a\'}Q{F f=\'3b\'}F s=(f==\'3b\')?\'2y\':\'2R\',h=2q(\'2O\',c);8(o.T.Y)o.T.Y[f]()[s](h);8(o.17.Y)o.17.Y[f]()[s](h);8(o.1a.Y)o.1a.Y[f]()[s](h);8(o.1b.1D)o.1b.1D[f]()[s](h)}I 2X(o,f,c){8(o.1L||o.3k)J;F a=(f==\'2y\'||f==\'2R\')?f:O,4n=2q(\'7w\',c);8(o.T.Y&&a){o.T.Y[a](4n)}8(o.17.Y){F b=a||(f==0)?\'2R\':\'2y\';o.17.Y[b](4n)}8(o.1a.Y){F b=a||(f==o.G.P)?\'2R\':\'2y\';o.1a.Y[b](4n)}}I 3W(a,b){8(K b==\'I\')b=b.1z(a);8(K b==\'1y\')b={};J b}I 3A(a,b,c){8(K c!=\'1l\')c=\'\';b=3W(a,b);8(K b==\'1l\'){F d=5i(b);8(d==-1)b=$(b);Q b=d}8(c==\'1b\'){8(K b==\'1r\')b={\'43\':b};8(K b.3n!=\'1y\')b={\'1D\':b};8(K b.1D==\'I\')b.1D=b.1D.1z(a);8(K b.1D==\'1l\')b.1D=$(b.1D);8(K b.G!=\'14\')b.G=O}Q 8(c==\'T\'){8(K b.3n!=\'1y\')b={\'Y\':b};8(K b==\'1r\')b={\'1H\':b};8(K b==\'14\')b={\'3f\':b};8(K b.Y==\'I\')b.Y=b.Y.1z(a);8(K b.Y==\'1l\')b.Y=$(b.Y)}Q{8(K b.3n!=\'1y\')b={\'Y\':b};8(K b==\'14\')b={\'2F\':b};8(K b.Y==\'I\')b.Y=b.Y.1z(a);8(K b.Y==\'1l\')b.Y=$(b.Y);8(K b.2F==\'1l\')b.2F=5i(b.2F)}J b}I 3m(a,b,c,d,e){8(K a==\'1l\'){8(2p(a))a=$(a);Q a=2o(a)}8(K a==\'1j\'){8(K a.3n==\'1y\')a=$(a);a=e.Z().65(a);8(a==-1)a=0;8(K c!=\'1r\')c=O}Q{8(K c!=\'1r\')c=M}8(2p(a))a=0;Q a=2o(a);8(2p(b))b=0;Q b=2o(b);8(c){a+=d.11}a+=b;8(d.U>0){22(a>=d.U){a-=d.U}22(a<0){a+=d.U}}J a}I 48(i,o,s){F t=0,x=0;1m(F a=s;a>=0;a--){F j=i.1N(a);t+=(j.1W(\':P\'))?j[o.d[\'26\']](M):0;8(t>o.3y)J x;8(a==0)a=i.W;x++}}I 68(i,o,s){J 5j(i,o.G.1v,o.G.12.41,s)}I 5R(i,o,s,m){J 5j(i,o.G.1v,m,s)}I 5j(i,f,m,s){F t=0,x=0;1m(F a=s,l=i.W-1;a>=0;a--){x++;8(x==l)J x;F j=i.1N(a);8(j.1W(f)){t++;8(t==m)J x}8(a==0)a=i.W}}I 4R(a,o){J o.G.12.41||a.Z().1d(0,o.G.P).1v(o.G.1v).W}I 2P(i,o,s){F t=0,x=0;1m(F a=s,l=i.W-1;a<=l;a++){F j=i.1N(a);t+=(j.1W(\':P\'))?j[o.d[\'26\']](M):0;8(t>o.3y)J x;x++;8(x==l)J x;8(a==l)a=-1}}I 4X(i,o,s,l){F v=2P(i,o,s);8(!o.1L){8(s+v>l)v=l-s}J v}I 3z(i,o,s){J 5k(i,o.G.1v,o.G.12.41,s,o.1L)}I 5Y(i,o,s,m){J 5k(i,o.G.1v,m+1,s,o.1L)-1}I 5k(i,f,m,s,c){F t=0,x=0;1m(F a=s,l=i.W-1;a<=l;a++){x++;8(x==l)J x;F j=i.1N(a);8(j.1W(f)){t++;8(t==m)J x}8(a==l)a=-1}}I 3c(i,o){J i.1d(0,o.G.P)}I 5T(i,o,n){J i.1d(n,o.G.12.2m+n)}I 5U(i,o){J i.1d(0,o.G.P)}I 4Y(i,o){J i.1d(0,o.G.12.2m)}I 4Z(i,o,n){J i.1d(n,o.G.P+n)}I 1M(i,o,m){F x=(K m==\'1r\')?m:O;8(K m!=\'14\')m=0;i.1Q(I(){F j=$(1h);F t=2o(j.16(o.d[\'1E\']));8(2p(t))t=0;j.1q(\'6n\',t);j.16(o.d[\'1E\'],((x)?j.1q(\'6n\'):m+j.1q(\'1S\')))})}I 3P(a,o,p){F b=a.36(),$i=a.Z(),$v=3c($i,o),4o=4f(2A($v,o,M),o,p);b.16(4o);8(o.1u){F p=o.1i,r=p[o.d[1]];8(o.1C){8(r<0)r=0}F c=$v.2Y();c.16(o.d[\'1E\'],c.1q(\'1S\')+r);a.16(o.d[\'2L\'],p[o.d[0]]);a.16(o.d[\'1t\'],p[o.d[3]])}a.16(o.d[\'S\'],4o[o.d[\'S\']]+(3l($i,o,\'S\')*2));a.16(o.d[\'1s\'],5l($i,o,\'1s\'));J 4o}I 2A(i,o,a){F b=3l(i,o,\'S\',a),6o=5l(i,o,\'1s\',a);J[b,6o]}I 5l(i,o,a,b){8(K b!=\'1r\')b=O;8(K o[o.d[a]]==\'14\'&&b)J o[o.d[a]];8(K o.G[o.d[a]]==\'14\')J o.G[o.d[a]];F c=(a.5m().32(\'S\')>-1)?\'26\':\'2K\';J 3v(i,o,c)}I 3v(i,o,b){F s=0;1m(F a=0,l=i.W;a<l;a++){F j=i.1N(a);F m=(j.1W(\':P\'))?j[o.d[b]](M):0;8(s<m)s=m}J s}I 35(b,o,c){8(!b.1W(\':P\'))J 0;F d=b[o.d[c]](),5n=(o.d[c].5m().32(\'S\')>-1)?[\'7x\',\'7y\']:[\'7z\',\'7A\'];1m(F a=0,l=5n.W;a<l;a++){F m=2o(b.16(5n[a]));d-=(2p(m))?0:m}J d}I 3l(i,o,b,c){8(K c!=\'1r\')c=O;8(K o[o.d[b]]==\'14\'&&c)J o[o.d[b]];8(K o.G[o.d[b]]==\'14\')J o.G[o.d[b]]*i.W;F d=(b.5m().32(\'S\')>-1)?\'26\':\'2K\',s=0;1m(F a=0,l=i.W;a<l;a++){F j=i.1N(a);s+=(j.1W(\':P\'))?j[o.d[d]](M):0}J s}I 4v(i,o,b){F s=O,v=O;1m(F a=0,l=i.W;a<l;a++){F j=i.1N(a);F c=(j.1W(\':P\'))?j[o.d[b]](M):0;8(s===O)s=c;Q 8(s!=c)v=M;8(s==0)v=M}J v}I 5y(i,o,d){J i[o.d[\'7B\'+d]](M)-35(i,o,\'7C\'+d)}I 3Y(x){J(K x==\'1l\'&&x.1d(-1)==\'%\')}I 3Z(s,o){8(3Y(o)){o=o.1d(0,-1);8(2p(o))J s;s*=o/3F}J s}I L(n,c,a,b,d){8(K a!=\'1r\')a=M;8(K b!=\'1r\')b=M;8(K d!=\'1r\')d=O;8(a)n=c.3i.3H+n;8(b)n=n+\'.\'+c.3i.6j;8(b&&d)n+=c.4l;J n}I 2q(n,c){J(K c.5f[n]==\'1l\')?c.5f[n]:n}I 4f(a,o,p){8(K p!=\'1r\')p=M;F b=(o.1u&&p)?o.1i:[0,0,0,0];F c={};c[o.d[\'S\']]=a[0]+b[1]+b[3];c[o.d[\'1s\']]=a[1]+b[0]+b[2];J c}I 2U(c,d){F e=[];1m(F a=0,6p=c.W;a<6p;a++){1m(F b=0,6q=d.W;b<6q;b++){8(d[b].32(K c[a])>-1&&K e[b]==\'1y\'){e[b]=c[a];18}}}J e}I 5z(p){8(K p==\'1y\')J[0,0,0,0];8(K p==\'14\')J[p,p,p,p];Q 8(K p==\'1l\')p=p.3t(\'7D\').6r(\'\').3t(\'7E\').6r(\'\').3t(\' \');8(!31(p)){J[0,0,0,0]}1m(F i=0;i<4;i++){p[i]=2o(p[i])}1x(p.W){V 0:J[0,0,0,0];V 1:J[p[0],p[0],p[0],p[0]];V 2:J[p[0],p[1],p[0],p[1]];V 3:J[p[0],p[1],p[2],p[1]];2w:J[p[0],p[1],p[2],p[3]]}}I 42(a,o){F x=(K o[o.d[\'S\']]==\'14\')?1K.2v(o[o.d[\'S\']]-3l(a,o,\'S\')):0;1x(o.1C){V\'1t\':J[0,x];V\'2M\':J[x,0];V\'4x\':2w:J[1K.2v(x/2),1K.3w(x/2)]}}I 4a(x,o,a,b){F v=x;8(K a==\'I\'){v=a.1z(b,v)}Q 8(K a==\'1l\'){F p=a.3t(\'+\'),m=a.3t(\'-\');8(m.W>p.W){F c=M,5o=m[0],2H=m[1]}Q{F c=O,5o=p[0],2H=p[1]}1x(5o){V\'7F\':v=(x%2==1)?x-1:x;18;V\'7G\':v=(x%2==0)?x-1:x;18;2w:v=x;18}2H=2o(2H);8(!2p(2H)){8(c)2H=-2H;v+=2H}}8(K v!=\'14\')v=1;8(v<1)v=1;J v}I 2Q(x,o,a,b){J 4y(4a(x,o,a,b),o.G.12)}I 4y(v,i){8(K i.2N==\'14\'&&v<i.2N)v=i.2N;8(K i.27==\'14\'&&v>i.27)v=i.27;8(v<1)v=1;J v}I 4E(s){8(!31(s))s=[[s]];8(!31(s[0]))s=[s];1m(F j=0,l=s.W;j<l;j++){8(K s[j][0]==\'1l\')s[j][0]=$(s[j][0]);8(K s[j][1]!=\'1r\')s[j][1]=M;8(K s[j][2]!=\'1r\')s[j][2]=M;8(K s[j][3]!=\'14\')s[j][3]=0}J s}I 5i(k){8(k==\'2M\')J 39;8(k==\'1t\')J 37;8(k==\'4u\')J 38;8(k==\'6a\')J 40;J-1}I 4W(n,v){8(n)3T.2n=n+\'=\'+v+\'; 7H=/\'}I 6f(n){n+=\'=\';F b=3T.2n.3t(\';\');1m(F a=0,l=b.W;a<l;a++){F c=b[a];22(c.7I(0)==\' \'){c=c.1d(1)}8(c.32(n)==0){J c.1d(n.W)}}J 0}I 3p(p){8(p&&K p==\'1l\'){F i=(p.32(\'7J\')>-1)?M:O,r=(p.32(\'2W\')>-1)?M:O}Q{F i=r=O}J[i,r]}I 59(a){J(K a==\'14\')?a:2b}I 31(a){J K(a)==\'1j\'&&(a 7K 7L)}I 2x(){J 7M 7N().2x()}I 1c(d,m){8(K d==\'1j\'){F s=\' (\'+d.3U+\')\';d=d.1c}Q{F s=\'\'}8(!d)J O;8(K m==\'1l\')m=\'1J\'+s+\': \'+m;Q m=[\'1J\'+s+\':\',m];8(3q.5p&&3q.5p.6s)3q.5p.6s(m);J O}$.1P.63=I(o,c){J 1h.1J(o,c)};$.25($.1G,{\'7O\':I(t){F a=t*t;J t*(-a*t+4*a-6*t+4)},\'7P\':I(t){J t*(4*t*t-9*t+6)},\'7Q\':I(t){F a=t*t;J t*(33*a*a-7R*a*t+7S*a-67*t+15)}})})(7T);',62,490,'|||||||opts|if|||||||||||||||||||||||||||||||||var|items|conf|function|return|typeof|cf_e|true|itms|false|visible|else|scrl|width|auto|total|case|length|trigger|button|children||first|visibleConf|bind|number||css|prev|break|tt0|next|pagination|debug|slice|variable|stopPropagation|anims|this|padding|object|duration|string|for|scroll|pre|push|data|boolean|height|left|usePadding|filter|a_dur|switch|undefined|call|triggerHandler|wrp|align|container|marginRight|tmrs|easing|play|fx|carouFredSel|Math|circular|sz_resetMargin|eq|remove|fn|each|post|cfs_origCssMargin|isScrolling|c_new|queu|is|isPaused|clbk|isStopped|stopImmediatePropagation|onAfter|while|sc_setScroll|unbind|extend|outerWidth|max|Not|synchronise|sc_startScroll|null|l_cur|l_old|w_siz|onBefore|crossfade|uncover|opacity|preventDefault|direction|adjust|old|cookie|parseInt|isNaN|cf_c|c_old|pR|pauseOnHover|opts_orig|ceil|default|getTime|removeClass|l_new|ms_getSizes|fade|cover|updatePageStatus|mousewheel|key|css_o|adj|start|responsive|outerHeight|top|right|min|hidden|gn_getVisibleItemsNext|cf_getItemsAdjust|addClass|pause|startTime|cf_sortParams|scrolling|resume|nv_enableNavi|last|slideTo||is_array|indexOf||innerWidth|ms_getTrueInnerSize|parent||||hide|show|gi_getCurrentItems|minimum|anchorBuilder|pauseDuration|Carousel|sc_clearTimers|events|queue|infinite|ms_getTotalSize|gn_getItemIndex|jquery|event|bt_pauseOnHoverConfig|window|ns2|ani_o|split|to|ms_getTrueLargestSize|floor|of|maxDimention|gn_getVisibleItemsNextFilter|go_getNaviObject|position|sc_stopScroll|timePassed|perc|100|dur2|prefix|appendTo|apply|sc_callCallbacks|currentPosition|currentPage|before|nv_showNavi|sz_setSizes|vI|touchwipe|wN|document|selector|_cfs_init|go_getObject|marginBottom|ms_isPercentage|ms_getPercentage||org|cf_getAlignPadding|keys|pauseOnEvent|Number|none|stopped|gn_getVisibleItemsPrev||cf_getAdjust|onEnd|clone|orgW|isHidden|cf_mapWrapperSizes|get|end|eval|mouseenter|mouseleave|serialNumber|cur_l|di|sz|element|cfs_isCarousel|configuration|defaults|upDateOnWindowResize|up|ms_hasVariableSizes|valid|center|cf_getItemAdjustMinMax|seco|nw|bottom|delay|pauseOnResize|cf_getSynchArr|scrolled|backward|textAlign|float|marginTop|marginLeft|absolute|_cfs_unbind_events|stop|finish|type|conditions|gn_getVisibleOrg|not|fx_cover|fx_uncover|orgDuration|cf_setCookie|gn_getVisibleItemsNextTestCircular|gi_getOldItemsNext|gi_getNewItemsNext||slideToPage|updateSizes|linkAnchors|_cfs_bind_buttons|click|_cfs_unbind_buttons|mousewheelPrev||bt_mousesheelNumber|mousewheelNext|wipe|ns3|wrapper|continue|classnames|new_w|old_w|cf_getKeyCode|gn_getItemsPrevFilter|gn_getItemsNextFilter|ms_getLargestSize|toLowerCase|arr|sta|console|No|_cfs_currentPosition|_cfs_destroy|the|innerHeight|dx|Set|secp|ms_getPaddingBorderMargin|cf_getPadding|500|pageAnchorBuilder|Item|forward|_cfs_build|fixed|cfs_origCss|_cfs_bind_events|paused|onPausePause|onPauseEnd|onPauseStart|enough|needed|page|_cfs_slide_|_cfs_configuration|gn_getScrollItemsPrevFilter|Scrolling|gi_getOldItemsPrev|gi_getNewItemsPrev|directscroll|concat|shift|gn_getScrollItemsNextFilter|new_m|jumpToStart|after|append|caroufredsel|hash|index|selected||gn_getVisibleItemsPrevFilter|destroy|down|keyup|keyCode|configs|classname|cf_readCookie|random|itm|onCreate|namespace|span|animate|complete|cfs_tempCssMargin|s2|l1|l2|join|log|found|The|option|should|be|moved|second|Infinity|Width|caroufredsel_cookie_|attr|id|2500|Available|widths|heights|automatically|relative|overflow|setTimeout|or|Page|resumed|currently|Callback|returned|_cfs_slide_prev|prependTo|_cfs_slide_next|prevPage|nextPage|prepend|carousel|insertItem|removeItem|round|currentVisible|body|find|Preventing|non|sliding|replaceWith|min_move_x|min_move_y|preventDefaultEvents|wipeUp|wipeDown|wipeLeft|wipeRight|resize|timer|wrap|class|unshift|location|swing|cfs|div|caroufredsel_wrapper|href|clearTimeout|fx_fade|hiding|navigation|disabled|paddingLeft|paddingRight|paddingTop|paddingBottom|outer|inner|px|em|even|odd|path|charAt|immediate|instanceof|Array|new|Date|quadratic|cubic|elastic|106|126|jQuery'.split('|'),0,{}))
function clickbutton(){if(elSearch.value!=""){setTimeout(function(){window.location='/searchAll.aspx?q='+elSearch.value;},0);return false;}
else{alert('Please enter keword in search box!');return false;}}
function mouseclick(){if(elSearch.value!=""){setTimeout(function(){window.location='/searchAll.aspx?q='+elSearch.value;},0);return false;}}
function searchnew(){setTimeout('mouseclick()',500);}
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case"add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case"remove":if(!b){delete f[d.name];return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case"select":return c("option:selected",b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case"string":f=!!c(e.depends,b.form).length;break;case"function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case"select":return(a=c(b).val())&&a.length>0;case"input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);(function(s,l,d,t){var m=d(s),q=d(l),a=d.fancybox=function(){a.open.apply(this,arguments)},u=!1,k=l.createTouch!==t,o=function(a){return"string"===d.type(a)},n=function(b,c){c&&o(b)&&0<b.indexOf("%")&&(b=a.getViewport()[c]/100*parseInt(b,10));return Math.round(b)+"px"};d.extend(a,{version:"2.0.5",defaults:{padding:5,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!k,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+
(d.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,c){a.close(!0);b&&!d.isArray(b)&&(b=b instanceof d?d(b).get():[b]);a.isActive=!0;a.opts=d.extend(!0,{},a.defaults,c);d.isPlainObject(c)&&c.keys!==t&&(a.opts.keys=c.keys?d.extend({},a.defaults.keys,c.keys):!1);a.group=b;a._start(a.opts.index||0)},cancel:function(){a.coming&&!1===a.trigger("onCancel")||(a.coming=null,a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onabort=a.imgPreload.onerror=null))},close:function(b){a.cancel();a.current&&!1!==a.trigger("beforeClose")&&(a.unbindEvents(),!a.isOpen||b&&!0===b[0]?(d(".fancybox-wrap").stop().trigger("onReset").remove(),a._afterZoomOut()):(a.isOpen=a.isOpened=!1,d(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.closeMethod]()))},play:function(b){var c=function(){clearTimeout(a.player.timer)},e=function(){c();a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},f=function(){c();d("body").unbind(".player");a.player.isActive=!1;a.trigger("onPlayEnd")};if(a.player.isActive||b&&!1===b[0])f();else if(a.current&&(a.current.loop||a.current.index<a.group.length-1))a.player.isActive=!0,d("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":f,"beforeLoad.player":c}),e(),a.trigger("onPlayStart")},next:function(){a.current&&a.jumpto(a.current.index+1)},prev:function(){a.current&&a.jumpto(a.current.index-1)},jumpto:function(b){a.current&&(b=parseInt(b,10),1<a.group.length&&a.current.loop&&(b>=a.group.length?b=0:0>b&&(b=a.group.length-1)),a.group[b]!==t&&(a.cancel(),a._start(b)))},reposition:function(b,c){var e;a.isOpen&&(e=a._getPosition(c),b&&"scroll"===b.type?(delete e.position,a.wrap.stop(!0,!0).animate(e,200)):a.wrap.css(e))},update:function(b){a.isOpen&&(u||setTimeout(function(){var c=a.current,e=!b||b&&"orientationchange"===b.type;if(u&&(u=!1,c)){if(!b||"scroll"!==b.type||e)c.autoSize&&"iframe"!==c.type&&(a.inner.height("auto"),c.height=a.inner.height()),(c.autoResize||e)&&a._setDimension(),c.canGrow&&"iframe"!==c.type&&a.inner.height("auto");(c.autoCenter||e)&&a.reposition(b);a.trigger("onUpdate")}},200),u=!0)},toggle:function(){a.isOpen&&(a.current.fitToView=!a.current.fitToView,a.update())},hideLoading:function(){q.unbind("keypress.fb");d("#fancybox-loading").remove()},showLoading:function(){a.hideLoading();q.bind("keypress.fb",function(b){27===b.keyCode&&(b.preventDefault(),a.cancel())});d('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body")},getViewport:function(){return{x:m.scrollLeft(),y:m.scrollTop(),w:k&&s.innerWidth?s.innerWidth:m.width(),h:k&&s.innerHeight?s.innerHeight:m.height()}},unbindEvents:function(){a.wrap&&a.wrap.unbind(".fb");q.unbind(".fb");m.unbind(".fb")},bindEvents:function(){var b=a.current,c=b.keys;b&&(m.bind("resize.fb orientationchange.fb"+(b.autoCenter&&!b.fixed?" scroll.fb":""),a.update),c&&q.bind("keydown.fb",function(b){var f;f=b.target||b.srcElement;if(!b.ctrlKey&&!b.altKey&&!b.shiftKey&&!b.metaKey&&(!f||!f.type&&!d(f).is("[contenteditable]")))f=b.keyCode,-1<d.inArray(f,c.close)?(a.close(),b.preventDefault()):-1<d.inArray(f,c.next)?(a.next(),b.preventDefault()):-1<d.inArray(f,c.prev)&&(a.prev(),b.preventDefault())}),d.fn.mousewheel&&b.mouseWheel&&1<a.group.length&&a.wrap.bind("mousewheel.fb",function(b,c){var d=b.target||null;if(0!==c&&(!d||0===d.clientHeight||d.scrollHeight===d.clientHeight&&d.scrollWidth===d.clientWidth))b.preventDefault(),a[0<c?"prev":"next"]()}))},trigger:function(b,c){var e,f=c||a[-1<d.inArray(b,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(f){d.isFunction(f[b])&&(e=f[b].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;f.helpers&&d.each(f.helpers,function(c,e){if(e&&d.isPlainObject(a.helpers[c])&&d.isFunction(a.helpers[c][b]))a.helpers[c][b](e,f)});d.event.trigger(b+".fb")}},isImage:function(a){return o(a)&&a.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(a){return o(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var c={},e=a.group[b]||null,f,g,i;if(e&&(e.nodeType||e instanceof d))f=!0,d.metadata&&(c=d(e).metadata());c=d.extend(!0,{},a.opts,{index:b,element:e},d.isPlainObject(e)?e:c);d.each(["href","title","content","type"],function(b,g){c[g]=a.opts[g]||f&&d(e).attr(g)||c[g]||null});"number"===typeof c.margin&&(c.margin=[c.margin,c.margin,c.margin,c.margin]);c.modal&&d.extend(!0,c,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});a.coming=c;if(!1===a.trigger("beforeLoad"))a.coming=null;else{g=c.type;b=c.href||e;g||(f&&(g=d(e).data("fancybox-type"),g||(g=(g=e.className.match(/fancybox\.(\w+)/))?g[1]:null)),!g&&o(b)&&(a.isImage(b)?g="image":a.isSWF(b)?g="swf":b.match(/^#/)&&(g="inline")),g||(g=f?"inline":"html"),c.type=g);if("inline"===g||"html"===g){if(c.content||(c.content="inline"===g?d(o(b)?b.replace(/.*(?=#[^\s]+$)/,""):b):e),!c.content||!c.content.length)g=null}else b||(g=null);"ajax"===g&&o(b)&&(i=b.split(/\s+/,2),b=i.shift(),c.selector=i.shift());c.href=b;c.group=a.group;c.isDom=f;switch(g){case"image":a._loadImage();break;case"ajax":a._loadAjax();break;case"inline":case"iframe":case"swf":case"html":a._afterLoad();break;default:a._error("type")}}},_error:function(b){a.hideLoading();d.extend(a.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:b,content:a.coming.tpl.error});a._afterLoad()},_loadImage:function(){var b=a.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;a.coming.width=this.width;a.coming.height=this.height;a._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;a._error("image")};b.src=a.coming.href;(b.complete===t||!b.complete)&&a.showLoading()},_loadAjax:function(){a.showLoading();a.ajaxLoad=d.ajax(d.extend({},a.coming.ajax,{url:a.coming.href,error:function(b,c){a.coming&&"abort"!==c?a._error("ajax",b):a.hideLoading()},success:function(b,c){"success"===c&&(a.coming.content=b,a._afterLoad())}}))},_preloadImages:function(){var b=a.group,c=a.current,e=b.length,f,g,i,h=Math.min(c.preload,e-1);if(c.preload&&!(2>b.length))for(i=1;i<=h;i+=1)if(f=b[(c.index+i)%e],g=f.href||d(f).attr("href")||f,"image"===f.type||a.isImage(g))(new Image).src=g},_afterLoad:function(){a.hideLoading();!a.coming||!1===a.trigger("afterLoad",a.current)?a.coming=!1:(a.isOpened?(d(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0).removeClass("fancybox-opened"),a.inner.css("overflow","hidden"),a.transitions[a.current.prevMethod]()):(d(".fancybox-wrap").stop().trigger("onReset").remove(),a.trigger("afterClose")),a.unbindEvents(),a.isOpen=!1,a.current=a.coming,a.wrap=d(a.current.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+a.current.type+" fancybox-tmp "+a.current.wrapCSS).appendTo("body"),a.skin=d(".fancybox-skin",a.wrap).css("padding",n(a.current.padding)),a.outer=d(".fancybox-outer",a.wrap),a.inner=d(".fancybox-inner",a.wrap),a._setContent())},_setContent:function(){var b=a.current,c=b.content,e=b.type,f=b.minWidth,g=b.minHeight,i=b.maxWidth,h=b.maxHeight;switch(e){case"inline":case"ajax":case"html":b.selector?c=d("<div>").html(c).find(b.selector):c instanceof d&&(c.parent().hasClass("fancybox-inner")&&c.parents(".fancybox-wrap").unbind("onReset"),c=c.show().detach(),d(a.wrap).bind("onReset",function(){c.appendTo("body").hide()}));b.autoSize&&(f=d('<div class="fancybox-wrap '+a.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:n(f,"w"),minHeight:n(g,"h"),maxWidth:n(i,"w"),maxHeight:n(h,"h")}).append(c),b.width=f.width(),b.height=f.height(),f.width(a.current.width),f.height()>b.height&&(f.width(b.width+1),b.width=f.width(),b.height=f.height()),c=f.contents().detach(),f.remove());break;case"image":c=b.tpl.image.replace("{href}",b.href);b.aspectRatio=!0;break;case"swf":c=b.tpl.swf.replace(/\{width\}/g,b.width).replace(/\{height\}/g,b.height).replace(/\{href\}/g,b.href);break;case"iframe":c=d(b.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",b.scrolling).attr("src",b.href),b.scrolling=k?"scroll":"auto"}if("image"===e||"swf"===e)b.autoSize=!1,b.scrolling="visible";"iframe"===e&&b.autoSize?(a.showLoading(),a._setDimension(),a.inner.css("overflow",b.scrolling),c.bind({onCancel:function(){d(this).unbind();a._afterZoomOut()},load:function(){a.hideLoading();try{this.contentWindow.document.location&&(a.current.height=d(this).contents().find("body").height())}catch(b){a.current.autoSize=!1}a[a.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(a.inner)):(a.inner.append(c),a._beforeShow())},_beforeShow:function(){a.coming=null;a.trigger("beforeShow");a._setDimension();a.wrap.hide().removeClass("fancybox-tmp");a.bindEvents();a._preloadImages();a.transitions[a.isOpened?a.current.nextMethod:a.current.openMethod]()},_setDimension:function(){var b=a.wrap,c=a.inner,e=a.current,f=a.getViewport(),g=e.margin,i=2*e.padding,h=e.width,j=e.height,r=e.maxWidth+i,k=e.maxHeight+i,l=e.minWidth+i,m=e.minHeight+i,p;f.w-=g[1]+g[3];f.h-=g[0]+g[2];o(h)&&0<h.indexOf("%")&&(h=(f.w-i)*parseFloat(h)/100);o(j)&&0<j.indexOf("%")&&(j=(f.h-i)*parseFloat(j)/100);g=h/j;h+=i;j+=i;e.fitToView&&(r=Math.min(f.w,r),k=Math.min(f.h,k));if(e.aspectRatio){if(h>r&&(h=r,j=(h-i)/g+i),j>k&&(j=k,h=(j-i)*g+i),h<l&&(h=l,j=(h-i)/g+i),j<m)j=m,h=(j-i)*g+i}else h=Math.max(l,Math.min(h,r)),j=Math.max(m,Math.min(j,k));h=Math.round(h);j=Math.round(j);d(b.add(c)).width("auto").height("auto");c.width(h-i).height(j-i);b.width(h);p=b.height();if(h>r||p>k)for(;(h>r||p>k)&&h>l&&p>m;)j-=10,e.aspectRatio?(h=Math.round((j-i)*g+i),h<l&&(h=l,j=(h-i)/g+i)):h-=10,c.width(h-i).height(j-i),b.width(h),p=b.height();e.dim={width:n(h),height:n(p)};e.canGrow=e.autoSize&&j>m&&j<k;e.canShrink=!1;e.canExpand=!1;if(h-i<e.width||j-i<e.height)e.canExpand=!0;else if((h>f.w||p>f.h)&&h>l&&j>m)e.canShrink=!0;a.innerSpace=p-i-
c.height()},_getPosition:function(b){var c=a.current,e=a.getViewport(),f=c.margin,d=a.wrap.width()+f[1]+f[3],i=a.wrap.height()+f[0]+f[2],h={position:"absolute",top:f[0]+e.y,left:f[3]+e.x};c.autoCenter&&c.fixed&&!b&&i<=e.h&&d<=e.w&&(h={position:"fixed",top:f[0],left:f[3]});h.top=n(Math.max(h.top,h.top+(e.h-i)*c.topRatio));h.left=n(Math.max(h.left,h.left+0.5*(e.w-d)));return h},_afterZoomIn:function(){var b=a.current,c=b?b.scrolling:"no";if(b&&(a.isOpen=a.isOpened=!0,a.wrap.addClass("fancybox-opened"),a.inner.css("overflow","yes"===c?"scroll":"no"===c?"hidden":c),a.trigger("afterShow"),a.update(),(b.closeClick||b.nextClick)&&a.inner.css("cursor","pointer").bind("click.fb",function(c){if(!d(c.target).is("a")&&!d(c.target).parent().is("a"))a[b.closeClick?"close":"next"]()}),b.closeBtn&&d(b.tpl.closeBtn).appendTo(a.skin).bind("click.fb",a.close),b.arrows&&1<a.group.length&&((b.loop||0<b.index)&&d(b.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(b.loop||b.index<a.group.length-1)&&d(b.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.opts.autoPlay&&!a.player.isActive))a.opts.autoPlay=!1,a.play()},_afterZoomOut:function(){var b=a.current;a.wrap.trigger("onReset").remove();d.extend(a,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});a.trigger("afterClose",b)}});a.transitions={getOrigPosition:function(){var b=a.current,c=b.element,e=b.padding,f=d(b.orig),g={},i=50,h=50;!f.length&&b.isDom&&d(c).is(":visible")&&(f=d(c).find("img:first"),f.length||(f=d(c)));f.length?(g=f.offset(),f.is("img")&&(i=f.outerWidth(),h=f.outerHeight())):(b=a.getViewport(),g.top=b.y+0.5*(b.h-h),g.left=b.x+0.5*(b.w-i));return g={top:n(g.top-e),left:n(g.left-e),width:n(i+2*e),height:n(h+2*e)}},step:function(b,c){var e=c.prop,d,g;if("width"===e||"height"===e)d=Math.ceil(b-2*a.current.padding),"height"===e&&(g=(b-c.start)/(c.end-c.start),c.start>c.end&&(g=1-g),d-=a.innerSpace*g),a.inner[e](d)},zoomIn:function(){var b=a.wrap,c=a.current,e=c.openEffect,f="elastic"===e,g=d.extend({},c.dim,a._getPosition(f)),i=d.extend({opacity:1},g);delete i.position;f?(g=this.getOrigPosition(),c.openOpacity&&(g.opacity=0),a.outer.add(a.inner).width("auto").height("auto")):"fade"===e&&(g.opacity=0);b.css(g).show().animate(i,{duration:"none"===e?0:c.openSpeed,easing:c.openEasing,step:f?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var b=a.wrap,c=a.current,d=c.openEffect,f="elastic"===d,g={opacity:0};f&&("fixed"===b.css("position")&&b.css(a._getPosition(!0)),g=this.getOrigPosition(),c.closeOpacity&&(g.opacity=0));b.animate(g,{duration:"none"===d?0:c.closeSpeed,easing:c.closeEasing,step:f?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var b=a.wrap,c=a.current,d=c.nextEffect,f="elastic"===d,g=a._getPosition(f),i={opacity:1};g.opacity=0;f&&(g.top=n(parseInt(g.top,10)-200),i.top="+=200px");b.css(g).show().animate(i,{duration:"none"===d?0:c.nextSpeed,easing:c.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var b=a.wrap,c=a.current,e=c.prevEffect,f={opacity:0};b.removeClass("fancybox-opened");"elastic"===e&&(f.top="+=200px");b.animate(f,{duration:"none"===e?0:c.prevSpeed,easing:c.prevEasing,complete:function(){d(this).trigger("onReset").remove()}})}};a.helpers.overlay={overlay:null,update:function(){var a,c;this.overlay.width("100%").height("100%");d.browser.msie||k?(a=Math.max(l.documentElement.scrollWidth,l.body.scrollWidth),c=Math.max(l.documentElement.offsetWidth,l.body.offsetWidth),a=a<c?m.width():a):a=q.width();this.overlay.width(a).height(q.height())},beforeShow:function(b){this.overlay||(b=d.extend(!0,{},a.defaults.helpers.overlay,b),this.overlay=d('<div id="fancybox-overlay"></div>').css(b.css).appendTo("body"),b.closeClick&&this.overlay.bind("click.fb",a.close),a.current.fixed&&!k?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(b.speedIn,b.opacity))},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){d(this).remove()});this.overlay=null}};a.helpers.title={beforeShow:function(b){var c;if(c=a.current.title)c=d('<div class="fancybox-title fancybox-title-'+b.type+'-wrap">'+c+"</div>").appendTo("body"),"float"===b.type&&(c.width(c.width()),c.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(parseInt(c.css("margin-bottom"),10))),c.appendTo("over"===b.type?a.inner:"outside"===b.type?a.wrap:a.skin)}};d.fn.fancybox=function(b){var c=d(this),e=this.selector||"",f,g=function(g){var h=this,j=f,k;!g.ctrlKey&&!g.altKey&&!g.shiftKey&&!g.metaKey&&!d(h).is(".fancybox-wrap")&&(g.preventDefault(),g=b.groupAttr||"data-fancybox-group",k=d(h).attr(g),k||(g="rel",k=h[g]),k&&""!==k&&"nofollow"!==k&&(h=e.length?d(e):c,h=h.filter("["+g+'="'+k+'"]'),j=h.index(this)),b.index=j,a.open(h,b))},b=b||{};f=b.index||0;e?q.undelegate(e,"click.fb-start").delegate(e,"click.fb-start",g):c.unbind("click.fb-start").bind("click.fb-start",g);return this};d(l).ready(function(){a.defaults.fixed=d.support.fixedPosition||!(d.browser.msie&&6>=d.browser.version)&&!k})})(window,document,jQuery);(function($){$.fn.appear=function(f,o){var s=$.extend({one:true},o);return this.each(function(){var t=$(this);t.appeared=false;if(!f){t.trigger('appear',s.data);return;}var w=$(window);var c=function(){if(!t.is(':visible')){t.appeared=false;return;}var a=w.scrollLeft();var b=w.scrollTop();var o=t.offset();var x=o.left;var y=o.top;if(y+t.height()>=b&&y<=b+w.height()&&x+t.width()>=a&&x<=a+w.width()){if(!t.appeared)t.trigger('appear',s.data);}else{t.appeared=false;}};var m=function(){t.appeared=true;if(s.one){w.unbind('scroll',c);var i=$.inArray(c,$.fn.appear.checks);if(i>=0)$.fn.appear.checks.splice(i,1);}f.apply(this,arguments);};if(s.one)t.one('appear',s.data,m);else t.bind('appear',s.data,m);w.scroll(c);$.fn.appear.checks.push(c);(c)();});};$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var l=$.fn.appear.checks.length;if(l>0)while(l--)($.fn.appear.checks[l])();},run:function(){if($.fn.appear.timeout)clearTimeout($.fn.appear.timeout);$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20);}});$.each(['append','prepend','after','before','attr','removeAttr','addClass','removeClass','toggleClass','remove','css','show','hide'],function(i,n){var u=$.fn[n];if(u){$.fn[n]=function(){var r=u.apply(this,arguments);$.fn.appear.run();return r;}}});})(jQuery);jQuery.fn.iphoneSwitch=function(start_state,switched_on_callback,switched_off_callback,options){var state=start_state=='on'?start_state:'off';var settings={mouse_over:'pointer',mouse_out:'default',switch_on_container_path:'/template/yebhi/img/Switch/iphone_switch_container_on.png',switch_off_container_path:'/template/yebhi/img/Switch/iphone_switch_container_off.png',switch_path:'/template/yebhi/img/Switch/iphone_switch.png',switch_height:27,switch_width:94};if(options){jQuery.extend(settings,options);}
return this.each(function(){var container1;var image;container1=jQuery('<div class="iphone_switch_container" style="height:'+settings.switch_height+'px; width:'+settings.switch_width+'px; position: relative; overflow: hidden"></div>');image=jQuery('<img class="iphone_switch" style="height:'+settings.switch_height+'px; width:'+settings.switch_width+'px; background-image:url('+settings.switch_path+'); background-repeat:none; background-position:'+(state=='on'?0:-53)+'px" src="'+(state=='on'?settings.switch_on_container_path:settings.switch_off_container_path)+'" ><div>');jQuery(this).html(jQuery(container1).html(jQuery(image)));jQuery(this).mouseover(function(){jQuery(this).css("cursor",settings.mouse_over);});jQuery(this).mouseout(function(){jQuery(this).css("background",settings.mouse_out);});jQuery(this).click(function(){if(state=='on'){jQuery(this).find('.iphone_switch').animate({backgroundPosition:-53},"slow",function(){jQuery(this).attr('src',settings.switch_off_container_path);switched_off_callback();});state='off';}
else{jQuery(this).find('.iphone_switch').animate({backgroundPosition:0},"slow",function(){switched_on_callback();});jQuery(this).find('.iphone_switch').attr('src',settings.switch_on_container_path);state='on';}});});};window.FB||(function(window){var document=window.document;var ES5=function(){__d("ES5ArrayPrototype",[],function(a,b,c,d,e,f){var g={};g.map=function(h,i){if(typeof h!='function')throw new TypeError();var j,k=this.length,l=new Array(k);for(j=0;j<k;++j)if(j in this)l[j]=h.call(i,this[j],j,this);return l;};g.forEach=function(h,i){g.map.call(this,h,i);};g.filter=function(h,i){if(typeof h!='function')throw new TypeError();var j,k,l=this.length,m=[];for(j=0;j<l;++j)if(j in this){k=this[j];if(h.call(i,k,j,this))m.push(k);}return m;};g.every=function(h,i){if(typeof h!='function')throw new TypeError();var j=new Object(this),k=j.length;for(var l=0;l<k;l++)if(l in j)if(!h.call(i,j[l],l,j))return false;return true;};g.some=function(h,i){if(typeof h!='function')throw new TypeError();var j=new Object(this),k=j.length;for(var l=0;l<k;l++)if(l in j)if(h.call(i,j[l],l,j))return true;return false;};g.indexOf=function(h,i){var j=this.length;i|=0;if(i<0)i+=j;for(;i<j;i++)if(i in this&&this[i]===h)return i;return-1;};e.exports=g;});__d("ES5FunctionPrototype",[],function(a,b,c,d,e,f){var g={};g.bind=function(h){if(typeof this!='function')throw new TypeError('Bind must be called on a function');var i=this,j=Array.prototype.slice.call(arguments,1);function k(){return i.apply(h,j.concat(Array.prototype.slice.call(arguments)));}k.displayName='bound:'+(i.displayName||i.name||'(?)');k.toString=function l(){return'bound: '+i;};return k;};e.exports=g;});__d("ES5StringPrototype",[],function(a,b,c,d,e,f){var g={};g.trim=function(){if(this==null)throw new TypeError('String.prototype.trim called on null or undefined');return String.prototype.replace.call(this,/^\s+|\s+$/g,'');};e.exports=g;});__d("ES5Array",[],function(a,b,c,d,e,f){var g={};g.isArray=function(h){return Object.prototype.toString.call(h)=='[object Array]';};e.exports=g;});__d("ES5Object",[],function(a,b,c,d,e,f){var g={};g.create=function(h){var i=typeof h;if(i!='object'&&i!='function')throw new TypeError('Object prototype may only be a Object or null');var j=new Function();j.prototype=h;return new j();};g.keys=function(h){var i=typeof h;if(i!='object'&&i!='function'||h===null)throw new TypeError('Object.keys called on non-object');var j=[];for(var k in h)if(Object.prototype.hasOwnProperty.call(h,k))j.push(k);var l=!({toString:true}).propertyIsEnumerable('toString'),m=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','prototypeIsEnumerable','constructor'];if(l)for(var n=0;n<m.length;n++){var o=m[n];if(Object.prototype.hasOwnProperty.call(h,o))j.push(o);}return j;};e.exports=g;});__d("ES5Date",[],function(a,b,c,d,e,f){var g={};g.now=function(){return new Date().getTime();};e.exports=g;});__d("JSON3",[],function(a,b,c,d,e,f){(function(){var g={}.toString,h,i,j,k=e.exports={},l='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba=new Date(-3509827334573292),ca,da,ea;try{ba=ba.getUTCFullYear()==-109252&&ba.getUTCMonth()===0&&ba.getUTCDate()==1&&ba.getUTCHours()==10&&ba.getUTCMinutes()==37&&ba.getUTCSeconds()==6&&ba.getUTCMilliseconds()==708;}catch(fa){}if(!ba){ca=Math.floor;da=[0,31,59,90,120,151,181,212,243,273,304,334];ea=function(ga,ha){return da[ha]+365*(ga-1970)+ca((ga-1969+(ha=+(ha>1)))/4)-ca((ga-1901+ha)/100)+ca((ga-1601+ha)/400);};}if(typeof JSON=="object"&&JSON){k.stringify=JSON.stringify;k.parse=JSON.parse;}if((m=typeof k.stringify=="function"&&!ea)){(ba=function(){return 1;}).toJSON=ba;try{m=k.stringify(0)==="0"&&k.stringify(new Number())==="0"&&k.stringify(new String())=='""'&&k.stringify(g)===j&&k.stringify(j)===j&&k.stringify()===j&&k.stringify(ba)==="1"&&k.stringify([ba])=="[1]"&&k.stringify([j])=="[null]"&&k.stringify(null)=="null"&&k.stringify([j,g,null])=="[null,null,null]"&&k.stringify({result:[ba,true,false,null,"\0\b\n\f\r\t"]})==l&&k.stringify(null,ba)==="1"&&k.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&k.stringify(new Date(-8.64e+15))=='"-271821-04-20T00:00:00.000Z"'&&k.stringify(new Date(8.64e+15))=='"+275760-09-13T00:00:00.000Z"'&&k.stringify(new Date(-62198755200000))=='"-000001-01-01T00:00:00.000Z"'&&k.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"';}catch(fa){m=false;}}if(typeof k.parse=="function")try{if(k.parse("0")===0&&!k.parse(false)){ba=k.parse(l);if((r=ba.A.length==5&&ba.A[0]==1)){try{r=!k.parse('"\t"');}catch(fa){}if(r)try{r=k.parse("01")!=1;}catch(fa){}}}}catch(fa){r=false;}ba=l=null;if(!m||!r){if(!(h={}.hasOwnProperty))h=function(ga){var ha={},ia;if((ha.__proto__=null,ha.__proto__={toString:1},ha).toString!=g){h=function(ja){var ka=this.__proto__,la=ja in(this.__proto__=null,this);this.__proto__=ka;return la;};}else{ia=ha.constructor;h=function(ja){var ka=(this.constructor||ia).prototype;return ja in this&&!(ja in ka&&this[ja]===ka[ja]);};}ha=null;return h.call(this,ga);};i=function(ga,ha){var ia=0,ja,ka,la,ma;(ja=function(){this.valueOf=0;}).prototype.valueOf=0;ka=new ja();for(la in ka)if(h.call(ka,la))ia++;ja=ka=null;if(!ia){ka=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];ma=function(na,oa){var pa=g.call(na)=="[object Function]",qa,ra;for(qa in na)if(!(pa&&qa=="prototype")&&h.call(na,qa))oa(qa);for(ra=ka.length;qa=ka[--ra];h.call(na,qa)&&oa(qa));};}else if(ia==2){ma=function(na,oa){var pa={},qa=g.call(na)=="[object Function]",ra;for(ra in na)if(!(qa&&ra=="prototype")&&!h.call(pa,ra)&&(pa[ra]=1)&&h.call(na,ra))oa(ra);};}else ma=function(na,oa){var pa=g.call(na)=="[object Function]",qa,ra;for(qa in na)if(!(pa&&qa=="prototype")&&h.call(na,qa)&&!(ra=qa==="constructor"))oa(qa);if(ra||h.call(na,(qa="constructor")))oa(qa);};return ma(ga,ha);};if(!m){n={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};o=function(ga,ha){return("000000"+(ha||0)).slice(-ga);};p=function(ga){var ha='"',ia=0,ja;for(;ja=ga.charAt(ia);ia++)ha+='\\"\b\f\n\r\t'.indexOf(ja)>-1?n[ja]:ja<" "?"\\u00"+o(2,ja.charCodeAt(0).toString(16)):ja;return ha+'"';};q=function(ga,ha,ia,ja,ka,la,ma){var na=ha[ga],oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb;if(typeof na=="object"&&na){oa=g.call(na);if(oa=="[object Date]"&&!h.call(na,"toJSON")){if(na>-1/0&&na<1/0){if(ea){ra=ca(na/86400000);for(pa=ca(ra/365.2425)+1970-1;ea(pa+1,0)<=ra;pa++);for(qa=ca((ra-ea(pa,0))/30.42);ea(pa,qa+1)<=ra;qa++);ra=1+ra-ea(pa,qa);sa=(na%86400000+86400000)%86400000;ta=ca(sa/3600000)%24;ua=ca(sa/60000)%60;va=ca(sa/1000)%60;wa=sa%1000;}else{pa=na.getUTCFullYear();qa=na.getUTCMonth();ra=na.getUTCDate();ta=na.getUTCHours();ua=na.getUTCMinutes();va=na.getUTCSeconds();wa=na.getUTCMilliseconds();}na=(pa<=0||pa>=10000?(pa<0?"-":"+")+o(6,pa<0?-pa:pa):o(4,pa))+"-"+o(2,qa+1)+"-"+o(2,ra)+"T"+o(2,ta)+":"+o(2,ua)+":"+o(2,va)+"."+o(3,wa)+"Z";}else na=null;}else if(typeof na.toJSON=="function"&&((oa!="[object Number]"&&oa!="[object String]"&&oa!="[object Array]")||h.call(na,"toJSON")))na=na.toJSON(ga);}if(ia)na=ia.call(ha,ga,na);if(na===null)return"null";oa=g.call(na);if(oa=="[object Boolean]"){return""+na;}else if(oa=="[object Number]"){return na>-1/0&&na<1/0?""+na:"null";}else if(oa=="[object String]")return p(na);if(typeof na=="object"){for(ab=ma.length;ab--;)if(ma[ab]===na)throw TypeError();ma.push(na);xa=[];bb=la;la+=ka;if(oa=="[object Array]"){for(za=0,ab=na.length;za<ab;cb||(cb=true),za++){ya=q(za,na,ia,ja,ka,la,ma);xa.push(ya===j?"null":ya);}return cb?(ka?"[\n"+la+xa.join(",\n"+la)+"\n"+bb+"]":("["+xa.join(",")+"]")):"[]";}else{i(ja||na,function(db){var eb=q(db,na,ia,ja,ka,la,ma);if(eb!==j)xa.push(p(db)+":"+(ka?" ":"")+eb);cb||(cb=true);});return cb?(ka?"{\n"+la+xa.join(",\n"+la)+"\n"+bb+"}":("{"+xa.join(",")+"}")):"{}";}ma.pop();}};k.stringify=function(ga,ha,ia){var ja,ka,la,ma,na,oa;if(typeof ha=="function"||typeof ha=="object"&&ha)if(g.call(ha)=="[object Function]"){ka=ha;}else if(g.call(ha)=="[object Array]"){la={};for(ma=0,na=ha.length;ma<na;oa=ha[ma++],((g.call(oa)=="[object String]"||g.call(oa)=="[object Number]")&&(la[oa]=1)));}if(ia)if(g.call(ia)=="[object Number]"){if((ia-=ia%1)>0)for(ja="",ia>10&&(ia=10);ja.length<ia;ja+=" ");}else if(g.call(ia)=="[object String]")ja=ia.length<=10?ia:ia.slice(0,10);return q("",(oa={},oa[""]=ga,oa),ka,la,ja,"",[]);};}if(!r){s=String.fromCharCode;t={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};u=function(){z=aa=null;throw SyntaxError();};v=function(){var ga=aa,ha=ga.length,ia,ja,ka,la,ma;while(z<ha){ia=ga.charAt(z);if("\t\r\n ".indexOf(ia)>-1){z++;}else if("{}[]:,".indexOf(ia)>-1){z++;return ia;}else if(ia=='"'){for(ja="@",z++;z<ha;){ia=ga.charAt(z);if(ia<" "){u();}else if(ia=="\\"){ia=ga.charAt(++z);if('\\"/btnfr'.indexOf(ia)>-1){ja+=t[ia];z++;}else if(ia=="u"){ka=++z;for(la=z+4;z<la;z++){ia=ga.charAt(z);if(!(ia>="0"&&ia<="9"||ia>="a"&&ia<="f"||ia>="A"&&ia<="F"))u();}ja+=s("0x"+ga.slice(ka,z));}else u();}else{if(ia=='"')break;ja+=ia;z++;}}if(ga.charAt(z)=='"'){z++;return ja;}u();}else{ka=z;if(ia=="-"){ma=true;ia=ga.charAt(++z);}if(ia>="0"&&ia<="9"){if(ia=="0"&&(ia=ga.charAt(z+1),ia>="0"&&ia<="9"))u();ma=false;for(;z<ha&&(ia=ga.charAt(z),ia>="0"&&ia<="9");z++);if(ga.charAt(z)=="."){la=++z;for(;la<ha&&(ia=ga.charAt(la),ia>="0"&&ia<="9");la++);if(la==z)u();z=la;}ia=ga.charAt(z);if(ia=="e"||ia=="E"){ia=ga.charAt(++z);if(ia=="+"||ia=="-")z++;for(la=z;la<ha&&(ia=ga.charAt(la),ia>="0"&&ia<="9");la++);if(la==z)u();z=la;}return+ga.slice(ka,z);}if(ma)u();if(ga.slice(z,z+4)=="true"){z+=4;return true;}else if(ga.slice(z,z+5)=="false"){z+=5;return false;}else if(ga.slice(z,z+4)=="null"){z+=4;return null;}u();}}return"$";};w=function(ga){var ha,ia,ja;if(ga=="$")u();if(typeof ga=="string"){if(ga.charAt(0)=="@")return ga.slice(1);if(ga=="["){ha=[];for(;;ia||(ia=true)){ga=v();if(ga=="]")break;if(ia)if(ga==","){ga=v();if(ga=="]")u();}else u();if(ga==",")u();ha.push(w(ga));}return ha;}else if(ga=="{"){ha={};for(;;ia||(ia=true)){ga=v();if(ga=="}")break;if(ia)if(ga==","){ga=v();if(ga=="}")u();}else u();if(ga==","||typeof ga!="string"||ga.charAt(0)!="@"||v()!=":")u();ha[ga.slice(1)]=w(v());}return ha;}u();}return ga;};y=function(ga,ha,ia){var ja=x(ga,ha,ia);if(ja===j){delete ga[ha];}else ga[ha]=ja;};x=function(ga,ha,ia){var ja=ga[ha],ka;if(typeof ja=="object"&&ja)if(g.call(ja)=="[object Array]"){for(ka=ja.length;ka--;)y(ja,ka,ia);}else i(ja,function(la){y(ja,la,ia);});return ia.call(ga,ha,ja);};k.parse=function(ga,ha){z=0;aa=ga;var ia=w(v());if(v()!="$")u();z=aa=null;return ha&&g.call(ha)=="[object Function]"?x((ba={},ba[""]=ia,ba),"",ha):ia;};}}}).call(this);});__d("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(a,b,c,d,e,f){var g=b('ES5ArrayPrototype'),h=b('ES5FunctionPrototype'),i=b('ES5StringPrototype'),j=b('ES5Array'),k=b('ES5Object'),l=b('ES5Date'),m=b('JSON3'),n=Array.prototype.slice,o=Object.prototype.toString,p={'JSON.stringify':m.stringify,'JSON.parse':m.parse},q={array:g,'function':h,string:i,Object:k,Array:j,Date:l};for(var r in q){if(!q.hasOwnProperty(r))continue;var s=q[r],t=r===r.toLowerCase()?window[r.replace(/^\w/,function(x){return x.toUpperCase();})].prototype:window[r];for(var u in s){if(!s.hasOwnProperty(u))continue;var v=t[u];p[r+'.'+u]=v&&/\{\s+\[native code\]\s\}/.test(v)?v:s[u];}}function w(x,y,z){var aa=n.call(arguments,3),ba=z?/\s(.*)\]/.exec(o.call(x).toLowerCase())[1]:x,ca=p[ba+'.'+y]||x[y];if(typeof ca==='function')return ca.apply(x,aa);}e.exports=w;});ES5=require('ES5');return ES5.apply(null,arguments);};var FB={};var __DEV__=0;function bagofholding(){};function __c(){__d("UrlMapConfig",[],{"www":"www.facebook.com","m":"m.facebook.com","connect":"connect.facebook.net","api_https":"api.facebook.com","api_read_https":"api-read.facebook.com","graph_https":"graph.facebook.com","fbcdn_http":"static.ak.fbcdn.net","fbcdn_https":"s-static.ak.fbcdn.net","cdn_http":"static.ak.facebook.com","cdn_https":"s-static.ak.facebook.com"});__d("SDKConfig",[],{"xfbmlUseLegacy":false,"useAsync":true,"migrate":true,"errorHandling":{"rate":4},"api":{"mode":"warn","whitelist":["Arbiter","Arbiter.inform","Canvas","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.query","Data.waitOn","Dom","Dom.addCssRules","Event","Event.subscribe","Event.unsubscribe","Insights","Insights.impression","Music","Music.flashCallback","Music.init","Music.send","Payment","Payment.init","Payment.setSize","UA","UA.nativeApp","XD","XD.onMessage","XFBML","XFBML.parse","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","ui"]}});__d("ApiClientConfig",[],{"FlashRequest":{"swfUrl":"https:\/\/connect.facebook.net\/rsrc.php\/v1\/y5\/r\/SrnvQJBTxo-.swf"}});__d("XDConfig",[],{"XdUrl":"connect\/xd_arbiter.php?version=11","Flash":{"path":"https:\/\/connect.facebook.net\/rsrc.php\/v1\/ys\/r\/WON-TVLCpDP.swf"},"useCdn":true});__d("CanvasPrefetcherConfig",[],{"blacklist":[144959615576466],"sampleRate":500});}
(function(){(function(a){if(a.require)return;var b=Object.prototype.toString,c={},d={},e={},f=0,g=1,h=2,i=Object.prototype.hasOwnProperty;function j(u){if(a.ErrorUtils&&!a.ErrorUtils.inGuard())return ErrorUtils.applyWithGuard(j,this,arguments);var v=c[u],w,x,y;if(!c[u]){y='Requiring unknown module "'+u+'"';throw new Error(y);}if(v.waiting&&v.special&h)m();if(v.waiting){y='Requiring module "'+u+'" with unresolved dependencies';throw new Error(y);}if(!v.exports){var z=v.exports={},aa=v.factory;if(typeof aa==='string'){var ba='('+aa+')';aa=eval.apply(window,[ba]);}if(b.call(aa)==='[object Function]'){var ca=[],da=v.dependencies,ea=da.length;if(v.special&h)ea=Math.min(ea,aa.length);for(x=0;x<ea;x++){w=da[x];ca.push(w==='module'?v:(w==='exports'?z:j(w)));}var fa=aa.apply(v.context||a,ca);if(fa)v.exports=fa;}else v.exports=aa;}if(v.refcount--===1)delete c[u];return v.exports;}function k(u,v,w,x,y,z){if(v===undefined){v=[];w=u;u=o();}else if(w===undefined){w=v;if(b.call(u)==='[object Array]'){v=u;u=o();}else v=[];}var aa=c[u];if(aa){if(z)aa.refcount+=z;return;}else if(!v&&!w&&z){e[u]=(e[u]||0)+z;return;}else{aa={id:u};aa.refcount=(e[u]||0)+(z||0);delete e[u];}aa.factory=w;aa.dependencies=v;aa.context=y;aa.special=x;c[u]=aa;p(u);}function l(u,v,w){k(u,v,undefined,g,w,1);}function m(){var u={},v;for(v in d)if(i.call(d,v))if(c[v]&&!u[v]&&c[v].special&h)n({},v,u);}function n(u,v,w){w[v]=1;var x=d[v],y;if(!x)return;u[v]=1;for(y in x)if(i.call(x,y)){if(!c[y]||!c[y].special&h)continue;if(u[y]){delete x[y];c[y].waiting--;if(!c[y].waiting)q(y);}else n(u,y,w);}u[v]=0;}function o(){return'__mod__'+f++;}function p(u){var v=c[u],w=0;for(var x=0;x<v.dependencies.length;x++){var y=v.dependencies[x];if(!c[y]||c[y].waiting){d[y]||(d[y]={});if(!d[y][u])w++;d[y][u]=1;}}v.waiting=w;if(!w)q(u);}function q(u){var v=c[u];if(v.special&g)j(u);var w=d[u],x=[];if(w){delete d[u];for(var y in w)if(i.call(w,y))if(!--c[y].waiting)x.push(y);}for(var z=0;z<x.length;z++)q(x[z]);}function r(u,v){c[u]={id:u};c[u].exports=v;}r('module',0);r('exports',0);r('define',k);r('global',a);r('require',j);r('requireDynamic',j);r('requireLazy',l);k.amd={};a.define=k;a.require=j;a.requireDynamic=j;a.requireLazy=l;j.__debug={modules:c,deps:d};var s=false,t=function(u,v,w,x){k(u,v,w,x||h);if(c[u].waiting&&!s)s=setTimeout(function(){m();s=false;},9);};a.__d=function(u,v,w,x){v=['global','require','requireDynamic','requireLazy','module','exports'].concat(v);t(u,v,w,x);};a.__e=a.__d;})(this);}).call(FB);var require=FB.require;var requireLazy=FB.requireLazy;var define=FB.define;var __d=FB.__d;__d("copyProperties",[],function(a,b,c,d,e,f){function g(h,i,j,k,l,m,n){h=h||{};var o=[i,j,k,l,m],p=0,q;while(o[p]){q=o[p++];for(var r in q)h[r]=q[r];if(q.hasOwnProperty&&q.hasOwnProperty('toString')&&(typeof q.toString!='undefined')&&(h.toString!==q.toString))h.toString=q.toString;}return h;}e.exports=g;});__d("dotAccess",[],function(a,b,c,d,e,f){function g(h,i,j){var k=i.split('.');do{var l=k.shift();h=h[l]||j&&(h[l]={});}while(k.length&&h);return h;}e.exports=g;});__d("UserAgent",[],function(a,b,c,d,e,f){var g=false,h,i,j,k,l,m,n,o,p,q,r,s,t,u;function v(){if(g)return;g=true;var x=navigator.userAgent,y=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(x),z=/(Mac OS X)|(Windows)|(Linux)/.exec(x);r=/\b(iPhone|iP[ao]d)/.exec(x);s=/\b(iP[ao]d)/.exec(x);p=/Android/i.exec(x);t=/FBAN\/\w+;/i.exec(x);u=/Mobile/i.exec(x);q=!!(/Win64/.exec(x));if(y){h=y[1]?parseFloat(y[1]):NaN;if(h&&document.documentMode)h=document.documentMode;i=y[2]?parseFloat(y[2]):NaN;j=y[3]?parseFloat(y[3]):NaN;k=y[4]?parseFloat(y[4]):NaN;if(k){y=/(?:Chrome\/(\d+\.\d+))/.exec(x);l=y&&y[1]?parseFloat(y[1]):NaN;}else l=NaN;}else h=i=j=l=k=NaN;if(z){if(z[1]){var aa=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(x);m=aa?parseFloat(aa[1].replace('_','.')):true;}else m=false;n=!!z[2];o=!!z[3];}else m=n=o=false;}var w={ie:function(){return v()||h;},ie64:function(){return w.ie()&&q;},firefox:function(){return v()||i;},opera:function(){return v()||j;},safari:function(){return v()||k;},chrome:function(){return v()||l;},windows:function(){return v()||n;},osx:function(){return v()||m;},linux:function(){return v()||o;},iphone:function(){return v()||r;},mobile:function(){return v()||(r||s||p||u);},nativeApp:function(){return v()||t;},android:function(){return v()||p;},ipad:function(){return v()||s;}};e.exports=w;});__d("UrlMap",["UrlMapConfig"],function(a,b,c,d,e,f){var g=c('UrlMapConfig'),h={resolve:function(i,j){var k=typeof j=='undefined'?location.protocol.replace(':',''):j?'https':'http';if(i in g)return k+'://'+g[i];if(typeof j=='undefined'&&i+'_'+k in g)return k+'://'+g[i+'_'+k];if(j!==true&&i+'_http'in g)return'http://'+g[i+'_http'];if(j!==false&&i+'_https'in g)return'https://'+g[i+'_https'];}};e.exports=h;});__d("QueryString",[],function(a,b,c,d,e,f){var g={encode:function(h){var i=[];ES5(ES5('Object','keys',false,h),'forEach',true,function(j){var k=h[j];if(typeof k==='undefined')return;if(k===null){i.push(j);return;}i.push(encodeURIComponent(j)+'='+encodeURIComponent(k));});return i.join('&');},decode:function(h){var i={};if(h==='')return i;var j=h.split('&'),k=j.length;while(k--){var l=j[k].split('=',2);i[decodeURIComponent(l[0])]=l.length===2?decodeURIComponent(l[1]):null;}return i;},appendToUrl:function(h,i){return h+(~ES5(h,'indexOf',true,'?')?'&':'?')+(typeof i==='string'?i:g.encode(i));}};e.exports=g;});__d("sdk.Scribe",["UrlMap","QueryString"],function(a,b,c,d,e,f){var g=b('UrlMap'),h=b('QueryString');function i(k,l){(new Image()).src=h.appendToUrl(g.resolve('www',true)+'/common/scribe_endpoint.php',{c:k,m:ES5('JSON','stringify',false,l)});}var j={log:i};e.exports=j;});__d("ManagedError",[],function(a,b,c,d,e,f){function g(h,i){Error.prototype.constructor.call(this,h);this.message=h;this.innerError=i;}g.prototype=new Error();g.prototype.constructor=g;e.exports=g;});__d("AssertionError",["ManagedError"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});__d("sprintf",[],function(a,b,c,d,e,f){function g(h,i){i=Array.prototype.slice.call(arguments,1);var j=0;return h.replace(/%s/g,function(k){return i[j++];});}e.exports=g;});__d("Assert",["AssertionError","sprintf"],function(a,b,c,d,e,f){var g=b('AssertionError'),h=b('sprintf');function i(p,q){if(!p)throw new g(q);return p;}function j(p,q,r){var s=Object.prototype.toString.call(q),t=/\s(\w*)/.exec(s)[1].toLowerCase();i(~ES5(p,'indexOf',true,t),r||h('Expression is of type %s, not %s',t,p));return q;}function k(p,q,r){i(q instanceof p,r||'Expression not instance of type');return q;}var l={isInstanceOf:k,isTrue:i,type:j,define:function(p,q){l.isString(p);l.isFunction(q);p=p.substring(0,1).toUpperCase()+p.substring(1).toLowerCase();l['is'+p]=function(r,s){i(q(r),s);};}},m=['Array','Boolean','Date','Function','Null','Number','Object','Regexp','String','Undefined'],n=m.length;while(n--){var o=m[n];l['is'+o]=ES5(j,'bind',true,null,o.toLowerCase());}e.exports=l;});__d("Type",["copyProperties","Assert"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Assert');function i(){var m=this.__mixins;if(m)for(var n=0;n<m.length;n++)m[n].apply(this,arguments);}function j(m,n){h.isObject(n);h.isFunction(m);if(n instanceof m)return true;if(n instanceof i)for(var o=0;o<n.__mixins.length;o++)if(n.__mixins[o]==m)return true;return false;}function k(m,n){var o=m.prototype;if(Object.prototype.toString.call(n)!='[object Array]')n=[n];for(var p=0;p<n.length;p++){var q=n[p];if(typeof q=='function'){o.__mixins.push(q);q=q.prototype;}ES5(ES5('Object','keys',false,q),'forEach',true,function(r){o[r]=q[r];});}}function l(m,n,o){var p=n&&n.hasOwnProperty('constructor')?n.constructor:function(){this.parent.apply(this,arguments);};h.isFunction(p);if(m&&m.prototype instanceof i===false)throw new Error('parent type does not inherit from Type');m=m||i;var q=new Function();q.prototype=m.prototype;p.prototype=new q();g(p.prototype,n);p.prototype.__mixins=m.prototype.__mixins?Array.prototype.slice.call(m.prototype.__mixins):[];if(o)k(p,o);p.prototype.parent=function(){this.parent=m.prototype.parent;m.apply(this,arguments);};p.prototype.parentCall=function(r){return m.prototype[r].apply(this,Array.prototype.slice.call(arguments,1));};p.extend=function(r,s){return l(this,r,s);};return p;}g(i.prototype,{instanceOf:function(m){return j(m,this);}});g(i,{extend:function(m,n){return typeof m==='function'?l.apply(null,arguments):l(null,m,n);},instanceOf:j});e.exports=i;});__d("ObservableMixin",["Assert"],function(a,b,c,d,e,f){var g=b('Assert');function h(){this.__observableEvents={};}h.prototype={inform:function(i){g.isString(i);var j=Array.prototype.slice.call(arguments,1),k=this.getSubscribers(i);for(var l=0;l<k.length;l++)try{k[l].apply(this,j);}catch(m){setTimeout(function(){throw m;},0);}return this;},getSubscribers:function(i){g.isString(i);return this.__observableEvents[i]||(this.__observableEvents[i]=[]);},clearSubscribers:function(i){g.isString(i);if(i)this.__observableEvents[i]=[];return this;},clearAllSubscribers:function(){this.__observableEvents={};return this;},subscribe:function(i,j){g.isString(i);g.isFunction(j);var k=this.getSubscribers(i);k.push(j);return this;},unsubscribe:function(i,j){g.isString(i);g.isFunction(j);var k=this.getSubscribers(i);for(var l=0;l<k.length;l++)if(k[l]==j){k.splice(l,1);break;}return this;}};e.exports=h;});__d("sdk.Model",["Assert","Type","ObservableMixin"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('Type'),i=b('ObservableMixin'),j=h.extend({constructor:function(k){g.isObject(k);this.parent();var l={},m=this;ES5(ES5('Object','keys',false,k),'forEach',true,function(n){l[n]=k[n];m['set'+n]=function(o){if(o===l[n])return this;l[n]=o;m.inform(n+'.change',o);return m;};m['get'+n]=function(){return l[n];};});}},i);e.exports=j;});__d("sdk.Runtime",["sdk.Model","copyProperties"],function(a,b,c,d,e,f){var g=b('sdk.Model'),h=b('copyProperties'),i={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},j=new g({AccessToken:'',UserID:0,ClientID:'',Initialized:false,LoginStatus:undefined,Environment:i.UNKNOWN,Secure:undefined,UseCookie:false});h(j,{ENVIRONMENTS:i,isEnvironment:function(k){var l=this.getEnvironment();return(k|l)===l;}});(function(){var k=/app_runner/.test(window.name)?i.PAGETAB:/iframe_canvas/.test(window.name)?i.CANVAS:i.UNKNOWN;if((k|i.PAGETAB)===k)k=k|i.CANVAS;j.setEnvironment(k);})();e.exports=j;});__d("wrapFunction",["Assert"],function(a,b,c,d,e,f){var g=b('Assert'),h={};function i(j,k,l){g.isFunction(j);k=k||'default';return function(){var m=k in h?h[k](j,l):j;return m.apply(this,arguments);};}i.setWrapper=function(j,k){g.isFunction(j);k=k||'default';h[k]=j;};e.exports=i;});__d("sdk.ErrorHandling",["UserAgent","sdk.Scribe","sdk.Runtime","wrapFunction","ManagedError","SDKConfig"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=b('sdk.Scribe'),i=c('SDKConfig'),j=b('sdk.Runtime'),k=b('wrapFunction'),l=b('ManagedError'),m=false;function n(t){var u=t._originalError;delete t._originalError;h.log('jssdk_error',{appId:j.getClientID(),error:t.name||t.message,extra:t});throw u;}function o(t){var u={line:t.lineNumber||t.line,message:t.message,name:t.name,script:t.fileName||t.sourceURL||t.script,stack:t.stackTrace||t.stack};u._originalError=t;if(g.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(t.stack)){u.script=RegExp.$1;u.line=parseInt(RegExp.$2,10);}for(var v in u)(u[v]==null&&delete u[v]);return u;}function p(t,u){return function(){if(!m)return t.apply(this,arguments);try{return t.apply(this,arguments);}catch(v){if(v instanceof l)throw v;var w=o(v);w.entry=u;var x=ES5(Array.prototype.slice.call(arguments),'map',true,function(y){var z=Object.prototype.toString.call(y);return(/^\[object (String|Number|Boolean|Object|Date)\]$/).test(z)?y:y.toString();});w.args=ES5('JSON','stringify',false,x).substring(0,200);n(w);}};}function q(t){if(!t.__wrapper)t.__wrapper=function(){try{return t.apply(this,arguments);}catch(u){setTimeout(function(){throw u;},0);return false;}};return t.__wrapper;}var r=i.errorHandling.rate;if(r&&Math.floor(Math.random()*100)+1<=r)m=true;if(m)k.setWrapper(p,'entry');var s={guard:p,unguard:q};e.exports=s;});__d("sdk.getContextType",["UserAgent","sdk.Runtime"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=b('sdk.Runtime');function i(){if(g.nativeApp())return 3;if(g.mobile())return 2;if(h.isEnvironment(h.ENVIRONMENTS.CANVAS))return 5;return 1;}e.exports=i;});__d("GlobalCallback",["wrapFunction","dotAccess"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h=b('dotAccess'),i,j,k=0,l={setPrefix:function(m){i=h(window,m,true);j=m;},create:function(m){if(!i)this.setPrefix('window.__globalCallbacks');var n='__gcb'+(++k);i[n]=g(m,'entry','GlobalCallback');return j+'.'+n;},remove:function(m){var n=m.substring(j.length+1);delete i[n];}};e.exports=l;});__d("guid",[],function(a,b,c,d,e,f){function g(){return'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});__d("sdk.Insights",["guid","QueryString","sdk.Runtime","UrlMap"],function(a,b,c,d,e,f){var g=b('guid'),h=b('QueryString'),i=b('sdk.Runtime'),j=b('UrlMap');function k(m,n){var o=i.getClientID();if(!m.api_key&&o)m.api_key=o;var p=new Image();if(n)p.onload=n;p.src=h.appendToUrl(j.resolve('www',true)+'/impression.php/'+g()+'/',m);}var l={TYPE:{NOTICE:'notice',WARNING:'warn',ERROR:'error'},CATEGORY:{DEPRECATED:'deprecated',APIERROR:'apierror'},log:function(m,n,o){k({lid:113,payload:ES5('JSON','stringify',false,{source:'jssdk',type:m,category:n,payload:o})});},impression:function(m,n){k(m,n);}};e.exports=l;});__d("Log",["sprintf"],function(a,b,c,d,e,f){var g=b('sprintf'),h={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function i(k,l){var m=Array.prototype.slice.call(arguments,2),n=g.apply(null,m),o=window.console;if(o&&j.level>=k)o[l in o?l:'log'](n);}var j={level:-1,Level:h,debug:ES5(i,'bind',true,null,h.DEBUG,'debug'),info:ES5(i,'bind',true,null,h.INFO,'debug'),warn:ES5(i,'bind',true,null,h.WARNING,'debug'),error:ES5(i,'bind',true,null,h.ERROR,'debug')};e.exports=j;});__d("safeEval",[],function(a,b,c,d,e,f){function g(h){if(h===null||typeof h==='undefined')return;if(typeof h!=='string')return h;return Function('return eval("'+h.replace(/"/g,'\\"')+'");')();}e.exports=g;});__d("FB",["copyProperties","dotAccess","sdk.ErrorHandling","sdk.getContextType","GlobalCallback","guid","sdk.Insights","Log","sdk.Runtime","safeEval","sdk.Scribe","wrapFunction","SDKConfig"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('dotAccess'),i=b('sdk.ErrorHandling'),j=b('sdk.getContextType'),k=b('GlobalCallback'),l=b('guid'),m=b('sdk.Insights'),n=b('Log'),o=b('sdk.Runtime'),p=b('safeEval'),q=b('sdk.Scribe'),r=c('SDKConfig'),s=b('wrapFunction'),t,u,v,w=h(r,'api.mode'),x={};t=FB;u=window.FB={};k.setPrefix('FB._callbacks');if(h(r,'api.whitelist.length')){v={};ES5(r.api.whitelist,'forEach',true,function(da){v[da]=1;});}function y(da,ea,fa,ga){var ha;if(/^_/.test(fa)){ha='hide';}else if(v&&!v[ea])ha=w;switch(ha){case'hide':return;case'stub':return function(){n.warn('The method FB.%s has been removed from the JS SDK.',ea);};break;default:return i.guard(function(){if(ha==='warn'){n.warn('The method FB.%s is not officially supported by '+'Facebook and access to it will soon be removed.',ea);if(!x.hasOwnProperty(ea)){m.log(m.TYPE.WARNING,m.CATEGORY.DEPRECATED,'FB.'+ea);q.log('jssdk_error',{appId:t._apiKey,error:'Private method used',extra:{args:ea}});x[ea]=true;}}var ia=ES5(Array.prototype.slice.call(arguments),'map',true,function(pa){return typeof pa==='function'&&/^function/.test(pa.toString())?i.unguard(pa):pa;}),ja=da.apply(ga,ia),ka,la=true;if(ja&&typeof ja==='object'){var ma=Function();ma.prototype=ja;ka=new ma();for(var na in ja){var oa=ja[na];if(typeof oa!=='function'||na==='constructor')continue;la=false;ka[na]=y(oa,ea+':'+na,na,ja);}}if(!la)return ka;return la?ja:ka;},ea);}}function z(da,ea){var fa=da?h(t,da,true):t,ga=da?h(u,da,true):u;ES5(ES5('Object','keys',false,ea),'forEach',true,function(ha){var ia=ea[ha];fa[ha]=ia;if(typeof ia==='function'){var ja=(da?da+'.':'')+ha,ka=y(ia,ja,ha,fa);if(ka)ga[ha]=ka;}});}var aa=/iframe_canvas|app_runner/.test(window.name),ba=/dialog/.test(window.name);o.setSecure((function(){if(location.protocol=='https:'&&(window==top||!(aa||ba)))return true;if(/_fb_https?/.test(window.name))return ES5(window.name,'indexOf',true,'_fb_https')!=-1;})());function ca(da,ea,fa,ga){for(var ha in ea)if(fa||typeof da[ha]==='undefined')da[ha]=ga?ga(ea[ha]):ea[ha];return da;}g(t,{_apiKey:null,_authResponse:null,_logging:true,_inCanvas:aa,onlyUseHttps:function(){return o.getSecure()===true;},onlyUseHttp:function(){return o.setSecure()===false&&location.protocol=='http:';},_locale:null,_localeIsRtl:false,getDomain:function(da,ea){var fa=!ea&&(window.location.protocol=='https:'||o.getSecure());switch(da){case'api':return t._domain.api;case'api_read':return t._domain.api_read;case'cdn':return fa?t._domain.https_cdn:t._domain.cdn;case'cdn_foreign':return t._domain.cdn_foreign;case'https_cdn':return t._domain.https_cdn;case'graph':return t._domain.graph;case'staticfb':return fa?t._domain.https_staticfb:t._domain.staticfb;case'https_staticfb':return t._domain.https_staticfb;case'www':return fa?t._domain.https_www:t._domain.www;case'https_www':return t._domain.https_www;case'm':return fa?t._domain.https_m:t._domain.m;case'https_m':return t._domain.https_m;}},copy:ca,create:function(da,ea){var fa=da.split('.');da=fa.pop();var ga=fa.length?h(t,fa.join('.'),true):t;return da in ga?ga[da]:ga[da]=(ea||{});},provide:z,guid:l,log:function(da){if(t._logging)if(window.Debug&&window.Debug.writeln){window.Debug.writeln(da);}else if(window.console)window.console.log(da);if(t.Event)t.Event.fire('fb.log',da);},$:function(da){return document.getElementById(da);},dotAccess:h,Runtime:o,guard:i.guard,unguard:i.unguard,wrapFunction:s,safeEval:p,_getContextType:j});if(u)g(u,{provide:function(){n.error('FB.provide is no longer supported');if(!x.hasOwnProperty('provide')){m.log(m.TYPE.ERROR,m.CATEGORY.DEPRECATED,'FB.provide');q.log('jssdk_error',{appId:t._apiKey,error:'Private method used',extra:{args:'provide'}});x.provide=true;}}});e.exports=t;});__d("flattenObject",[],function(a,b,c,d,e,f){function g(h){var i={};for(var j in h)if(h.hasOwnProperty(j)){var k=h[j];if(null===k||undefined===k){continue;}else if(typeof k=='string'){i[j]=k;}else i[j]=ES5('JSON','stringify',false,k);}return i;}e.exports=g;});__d("CORSRequest",["wrapFunction","QueryString"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h=b('QueryString');function i(l,m){if(!window.XMLHttpRequest)return null;var n=new XMLHttpRequest(),o=function(){};if('withCredentials'in n){n.open(l,m,true);n.setRequestHeader('Content-type','application/x-www-form-urlencoded');}else if(window.XDomainRequest){n=new XDomainRequest();try{n.open(l,m);n.onprogress=n.ontimeout=o;}catch(p){return null;}}else return null;var q={send:function(t){n.send(t);}},r=g(function(){r=o;if('onload'in q)q.onload(n);},'entry','XMLHttpRequest:load'),s=g(function(){s=o;if('onerror'in q)q.onerror(n);},'entry','XMLHttpRequest:error');n.onload=function(){r();};n.onerror=function(){s();};n.onreadystatechange=function(){if(n.readyState==4)if(n.status==200){r();}else s();};return q;}function j(l,m,n,o){n.suppress_http_code=1;var p=h.encode(n);if(m!='post'){l=h.appendToUrl(l,p);p='';}var q=i(m,l);if(!q)return false;q.onload=function(r){o(ES5('JSON','parse',false,r.responseText));};q.onerror=function(r){if(r.responseText){o(ES5('JSON','parse',false,r.responseText));}else o({error:{type:'http',message:'unknown error',status:r.status}});};q.send(p);return true;}var k={execute:j};e.exports=k;});__d("DOMWrapper",[],function(a,b,c,d,e,f){var g,h,i={setRoot:function(j){g=j;},getRoot:function(){return g||document.body;},setWindow:function(j){h=j;},getWindow:function(){return h||window;}};e.exports=i;});__d("Flash",["DOMWrapper","QueryString","UserAgent","copyProperties","guid"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('QueryString'),i=b('UserAgent'),j=b('copyProperties'),k=b('guid'),l={},m,n=g.getWindow().document;function o(t){var u=n.getElementById(t);if(u)u.parentNode.removeChild(u);delete l[t];}function p(){for(var t in l)if(l.hasOwnProperty(t))o(t);}function q(t){return t.replace(/\d+/g,function(u){return'000'.substring(u.length)+u;});}function r(t){if(!m){if(i.ie()>=9)window.attachEvent('onunload',p);m=true;}l[t]=t;}var s={embed:function(t,u,v,w){var x=k();t=encodeURI(t);v=j({allowscriptaccess:'always',flashvars:w,movie:t},v||{});if(typeof v.flashvars=='object')v.flashvars=h.encode(v.flashvars);var y=[];for(var z in v)if(v.hasOwnProperty(z)&&v[z])y.push('<param name="'+encodeURI(z)+'" value="'+encodeURI(v[z])+'">');var aa=n.createElement('div'),ba='<object '+(i.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+t+'" '+'id="'+x+'">'+y.join('')+'</object>';aa.innerHTML=ba;var ca=u.appendChild(aa.firstChild);r(x);return ca;},remove:o,getVersion:function(){var t='Shockwave Flash',u='application/x-shockwave-flash',v='ShockwaveFlash.ShockwaveFlash',w;if(navigator.plugins&&typeof navigator.plugins[t]=='object'){var x=navigator.plugins[t].description;if(x&&navigator.mimeTypes&&navigator.mimeTypes[u]&&navigator.mimeTypes[u].enabledPlugin)w=x.match(/\d+/g);}if(!w)try{w=(new ActiveXObject(v)).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);w=Array.prototype.slice.call(w,1);}catch(y){}return w;},checkMinVersion:function(t){var u=s.getVersion();if(!u)return false;return q(u.join('.'))>=q(t);},isAvailable:function(){return!!s.getVersion();}};e.exports=s;});__d("Queue",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h={};function i(l,m){return function(){m.apply(l,arguments);};}function j(){var l=Array.prototype.slice.call(arguments);for(var m=0;m<l.length;m++)if(typeof l[m]!='undefined')return l[m];}function k(l){this._opts=g({interval:0,processor:null},l);this._queue=[];this._stopped=true;}g(k.prototype,{_dispatch:function(l){if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=true;throw new Error('No processor available');}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=setTimeout(i(this,this._dispatch),this._opts.interval);}else while(this._queue.length)this._opts.processor.call(this,this._queue.shift());},enqueue:function(l){if(this._opts.processor&&!this._stopped){this._opts.processor.call(this,l);}else this._queue.push(l);return this;},start:function(l){if(l)this._opts.processor=l;this._stopped=false;this._dispatch();return this;},dispatch:function(){this._dispatch(true);},stop:function(l){this._stopped=true;if(j(l,false))clearTimeout(this._timeout);return this;},merge:function(l,m){this._queue[m?'unshift':'push'].apply(this._queue,l._queue);l._queue=[];this._dispatch();return this;},getLength:function(){return this._queue.length;}});g(k,{get:function(l,m){var n;if(l in h){n=h[l];}else n=h[l]=new k(m);return n;},exists:function(l){return l in h;},remove:function(l){return delete h[l];}});e.exports=k;});__d("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('Flash'),i=b('GlobalCallback'),j=b('QueryString'),k=b('Queue'),l,m={},n,o;function p(){if(!n)throw new Error('swfUrl has not been set');var s=i.create(function(){l.start(function(u){var v=o.execute(u.method,u.url,u.body);if(!v)throw new Error('Could create request');m[v]=u.callback;});}),t=i.create(function(u,v,w){var x;try{x=ES5('JSON','parse',false,decodeURIComponent(w));}catch(y){x={error:{type:'SyntaxError',message:y.message,status:v,raw:w}};}m[u](x);delete m[u];});o=h.embed(n,g.getRoot(),null,{log:false,initCallback:s,requestCallback:t});}function q(s,t,u,v){u.suppress_http_code=1;if(!u.method)u.method=t;var w=j.encode(u);if(t==='get'&&s.length+w.length<2000){s=j.appendToUrl(s,w);w='';}else t='post';if(!l){if(!h.isAvailable())return false;l=new k();p();}l.enqueue({method:t,url:s,body:w,callback:v});return true;}var r={setSwfUrl:function(s){n=s;},execute:q};e.exports=r;});__d("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('GlobalCallback'),i=b('QueryString');function j(l,m,n,o){var p=document.createElement('script'),q=function(s){q=function(){};h.remove(n.callback);o(s);p.parentNode.removeChild(p);};n.callback=h.create(q);if(!n.method)n.method=m;l=i.appendToUrl(l,n);if(l.length>2000){h.remove(n.callback);return false;}p.onerror=function(){q({error:{type:'http',message:'unknown error'}});};var r=function(){setTimeout(function(){q({error:{type:'http',message:'unknown error'}});},0);};if(p.addEventListener){p.addEventListener('load',r,false);}else p.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState))r();};p.src=l;g.getRoot().appendChild(p);return true;}var k={execute:j};e.exports=k;});__d("URL",["copyProperties","QueryString","Log"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('QueryString'),i=b('Log'),j=new RegExp('('+'(((\\w+):)?//)'+'(.*?@)?'+'([^~/?#:]+)'+'(:(\\d+))?'+')?'+'([^\\?$#]+)?'+'(\\?([^$#]+))?'+'(#([^$]+))?'),k=/[\0\\]/,l=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,m=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,n=/\.facebook\.com$/;function o(p){if(typeof p!='string')throw new TypeError('The passed argument was of invalid type.');if(k.test(p))throw new URIError('The passed argument could not be parsed as a url.');if(this instanceof o===false)return new o(p);var q=p.replace(l,function(s){i.warn('Escaping unescaped character \\x%s from "%s"',s.charCodeAt(0).toString(16),p);return encodeURIComponent(s);}).match(j);if(!p||!q)throw new URIError('The passed argument could not be parsed as a url.');var r=!!location.hostname;this.setProtocol(q[4]||(r?location.protocol.replace(/:/,''):''));this.setDomain(q[6]||location.hostname);this.setPort(q[8]||(r&&!q[6]?location.port:''));this.setPath(q[9]||'');this.setSearch(q[11]||'');this.setFragment(q[13]||'');if(this._path.substring(0,1)!='/')this._path='/'+this._path;if(this._domain&&!m.test(decodeURIComponent(this._domain.toLowerCase()))){i.error('Invalid characters found in domain name: %s',this._domain);throw new URIError('Domain contained invalid characters.');}}g(o.prototype,{constructor:o,getProtocol:function(){return this._protocol;},setProtocol:function(p){this._protocol=p;return this;},getDomain:function(){return this._domain;},setDomain:function(p){this._domain=p;return this;},getPort:function(){return this._port;},setPort:function(p){this._port=p;return this;},getPath:function(){return this._path;},setPath:function(p){this._path=p;return this;},getSearch:function(){return this._search;},setSearch:function(p){this._search=p;return this;},getFragment:function(){return this._fragment;},setFragment:function(p){this._fragment=p;return this;},getParsedSearch:function(){return h.decode(this._search);},getParsedFragment:function(){return h.decode(this._fragment);},isFacebookURL:function(){return n.test(this._domain);},toString:function(){return(this._protocol?this._protocol+':':'')+(this._domain?'//'+this._domain:'')+(this._port?':'+this._port:'')+this._path+(this._search?'?'+this._search:'')+(this._fragment?'#'+this._fragment:'');},valueOf:function(){return this.toString();}});g(o,{getCurrent:function(){return new o(location.href);},getReferrer:function(){return document.referrer?new o(document.referrer):null;}});e.exports=o;});__d("ArgumentError",["ManagedError"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i,j){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});__d("ApiClient",["copyProperties","flattenObject","sprintf","CORSRequest","FlashRequest","JSONPRequest","Log","UrlMap","URL","ArgumentError","Assert","ApiClientConfig"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('flattenObject'),i=b('sprintf'),j=b('CORSRequest'),k=b('FlashRequest'),l=b('JSONPRequest'),m=b('Log'),n=b('UrlMap'),o=b('URL'),p=b('ArgumentError'),q=b('Assert'),r=c('ApiClientConfig'),s,t,u,v,w={get:true,post:true,'delete':true,put:true},x={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true};function y(ca,da,ea,fa){if(!ea.access_token)ea.access_token=s;ea.pretty=0;if(v)g(ea,v);ea=h(ea);if(!fa){m.warn('No callback passed to the ApiClient for %s',ca);fa=function(){};}var ga={jsonp:l,cors:j,flash:k},ha;if(ea.transport){ha=[ea.transport];delete ea.transport;}else ha=['jsonp','cors','flash'];var ia=function(ma){var na=false;if(t&&ma&&typeof ma=='object'){if(ma.error){if(ma.error=='invalid_token'||(ma.error.type=='OAuthException'&&ma.error.code==190))na=true;}else if(ma.error_code)if(ma.error_code=='190')na=true;if(na)t();}fa(ma);};for(var ja=0;ja<ha.length;ja++){var ka=ga[ha[ja]],la=g({},ea);if(ka.execute(ca,da,la,ia))return;}fa({error:{type:'no-transport',message:'Could not find a usable transport for request'}});}function z(ca){q.isString(ca,'Invalid path');var da,ea={};try{da=new o(ca);}catch(fa){throw new p(fa.message,fa);}ES5(Array.prototype.slice.call(arguments,1),'forEach',true,function(ja){ea[typeof ja]=ja;});var ga=(ea.string||'get').toLowerCase(),ha=g(ea.object||{},da.getParsedSearch()),ia=ea['function'];q.isTrue(w[ga],i('Invalid method passed to ApiClient: %s',ga));ha.method=ga;da=n.resolve('graph')+da.getPath();y(da,ga=='get'?'get':'post',ha,ia);}function aa(ca,da){q.isObject(ca);q.isString(ca.method,'method missing');var ea=ca.method.toLowerCase().replace('.','_');ca.format='json-strings';ca.api_key=u;var fa=ea in x?'api_read':'api',ga=n.resolve(fa)+'/restserver.php';y(ga,'get',ca,da);}var ba={setAccessToken:function(ca){s=ca;},setInvalidAccessTokenHandler:function(ca){t=ca;},setClientID:function(ca){u=ca;},setDefaultParams:function(ca){v=ca;},rest:aa,graph:z};k.setSwfUrl(r.FlashRequest.swfUrl);e.exports=ba;});__d("sdk.api",["ApiClient","sdk.Runtime"],function(a,b,c,d,e,f){var g=b('ApiClient'),h=b('sdk.Runtime'),i;h.subscribe('ClientID.change',function(k){g.setClientID(k);});h.subscribe('AccessToken.change',function(k){i=k;g.setAccessToken(k);});g.setDefaultParams({sdk:'joey'});g.setInvalidAccessTokenHandler(function(){if(i===h.getAccessToken())h.setAccessToken(null);});function j(){if(typeof arguments[0]==='string'){g.graph.apply(g,arguments);}else g.rest.apply(g,arguments);}e.exports=j;});__d("legacy:fb.api",["FB","sdk.api"],function(a,b,c,d){var e=b('FB'),f=b('sdk.api');e.provide('',{api:f});},3);__d("sdk.Cookie",["QueryString","sdk.Runtime"],function(a,b,c,d,e,f){var g=b('QueryString'),h=b('sdk.Runtime'),i=null;function j(m,n,o){m=m+h.getClientID();var p=i&&i!=='.';if(p){document.cookie=m+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;';document.cookie=m+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;'+'domain='+location.hostname+';';}var q=new Date(o).toGMTString();document.cookie=m+'='+n+(n&&o===0?'':'; expires='+q)+'; path=/'+(p?'; domain='+i:'');}function k(m){m=m+h.getClientID();var n=new RegExp('\\b'+m+'=([^;]*)\\b');return n.test(document.cookie)?RegExp.$1:null;}var l={setDomain:function(m){i=m;var n=g.encode({base_domain:i&&i!=='.'?i:''}),o=new Date();o.setFullYear(o.getFullYear()+1);j('fbm_',n,o.getTime());},getDomain:function(){return i;},loadMeta:function(){var m=k('fbm_');if(m){var n=g.decode(m);if(!i)i=n.base_domain;return n;}},loadSignedRequest:function(){return k('fbsr_');},setSignedRequestCookie:function(m,n){if(!m)throw new Error('Value passed to Cookie.setSignedRequestCookie '+'was empty.');j('fbsr_',m,n);},clearSignedRequestCookie:function(){j('fbsr_','',0);},setRaw:j};e.exports=l;});__d("sdk.createIframe",["copyProperties","guid"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('guid'),i=function(){var k=document.createElement("form"),l=k.appendChild(document.createElement("input")),m;l.name=h();m=l!==k.elements[l.name];k=l=null;i=function(){return m;};return m;};function j(k){var l=i()?document.createElement('<iframe name="'+k.name+'"/>'):document.createElement("iframe");if(k.style)g(l.style,k.style);l.name=l.id=k.name;l.src="javascript:false";k.root.appendChild(l);l.src=k.url;return l;}e.exports=j;});__d("Base64",[],function(a,b,c,d,e,f){var g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function h(l){l=(l.charCodeAt(0)<<16)|(l.charCodeAt(1)<<8)|l.charCodeAt(2);return String.fromCharCode(g.charCodeAt(l>>>18),g.charCodeAt((l>>>12)&63),g.charCodeAt((l>>>6)&63),g.charCodeAt(l&63));}var i='>___?456789:;<=_______'+'\0\1\2\3\4\5\6\7\b\t\n\13\f\r\16\17\20\21\22\23\24\25\26\27\30\31'+'______\32\33\34\35\36\37 !"#$%&\'()*+,-./0123';function j(l){l=(i.charCodeAt(l.charCodeAt(0)-43)<<18)|(i.charCodeAt(l.charCodeAt(1)-43)<<12)|(i.charCodeAt(l.charCodeAt(2)-43)<<6)|i.charCodeAt(l.charCodeAt(3)-43);return String.fromCharCode(l>>>16,(l>>>8)&255,l&255);}var k={encode:function(l){l=unescape(encodeURI(l));var m=(l.length+2)%3;l=(l+'\0\0'.slice(m)).replace(/[\s\S]{3}/g,h);return l.slice(0,l.length+m-2)+'=='.slice(m);},decode:function(l){l=l.replace(/[^A-Za-z0-9+\/]/g,'');var m=(l.length+3)&3;l=(l+'AAA'.slice(m)).replace(/..../g,j);l=l.slice(0,l.length+m-3);try{return decodeURIComponent(escape(l));}catch(n){throw new Error('Not valid UTF-8');}},encodeObject:function(l){return k.encode(ES5('JSON','stringify',false,l));},decodeObject:function(l){return ES5('JSON','parse',false,k.decode(l));},encodeNums:function(l){return String.fromCharCode.apply(String,ES5(l,'map',true,function(m){return g.charCodeAt((m|-(m>63))&-(m>0)&63);}));}};e.exports=k;});__d("sdk.SignedRequest",["Base64"],function(a,b,c,d,e,f){var g=b('Base64');function h(j){if(!j)return null;var k=j.split('.',2)[1].replace(/\-/g,'+').replace(/\_/g,'/');return g.decodeObject(k);}var i={parse:h};e.exports=i;});__d("resolveWindow",[],function(a,b,c,d,e,f){function g(h){var i=window,j=h.split('.');try{for(var l=0;l<j.length;l++){var m=j[l],n=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(m);if(n){i=i.frames[n[1]];}else if(m==='opener'||m==='parent'||m==='top'){i=i[m];}else return null;}}catch(k){return null;}return i;}e.exports=g;});__d("DOMEventListener",[],function(a,b,c,d,e,f){var g,h;if(window.addEventListener){g=function(j,k,l){j.addEventListener(k,l,false);};h=function(j,k,l){j.removeEventListener(k,l,false);};}else if(window.attachEvent){g=function(j,k,l){j.attachEvent('on'+k,l);};h=function(j,k,l){j.detachEvent('on'+k,l);};}var i={add:function(j,k,l){g(j,k,l);return{remove:function(){h(j,k,l);j=null;}};},remove:h};e.exports=i;});__d("XDM",["guid","DOMEventListener","DOMWrapper","Flash","Log","UserAgent"],function(a,b,c,d,e,f){var g=b('guid'),h=b('DOMEventListener'),i=b('DOMWrapper'),j=b('Flash'),k=b('Log'),l=b('UserAgent'),m={},n={transports:[]},o=i.getWindow();function p(r){var s={},t=r.length,u=n.transports;while(t--)s[r[t]]=1;t=u.length;while(t--){var v=u[t],w=m[v];if(!s[v]&&w.isAvailable())return v;}}var q={register:function(r,s){k.debug('Registering %s as XDM provider',r);n.transports.push(r);m[r]=s;},create:function(r){if(!r.whenReady&&!r.onMessage){k.error('An instance without whenReady or onMessage makes no sense');throw new Error('An instance without whenReady or '+'onMessage makes no sense');}if(!r.channel){k.warn('Missing channel name, selecting at random');r.channel=g();}if(!r.whenReady)r.whenReady=bagofholding;if(!r.onMessage)r.onMessage=bagofholding;var s=r.transport||p(r.blacklist||[]),t=m[s];if(t&&t.isAvailable()){k.debug('%s is available',s);t.init(r);return s;}}};q.register('fragment',(function(){var r=false,s,t=location.protocol+'//'+location.host;function u(v){var w=document.createElement('iframe');w.src='javascript:false';var x=h.add(w,'load',function(){x.remove();setTimeout(function(){w.parentNode.removeChild(w);},5000);});s.appendChild(w);w.src=v;}return{isAvailable:function(){return true;},init:function(v){k.debug('init fragment');var w={send:function(x,y,z,aa){k.debug('sending to: %s (%s)',y+v.channelPath,aa);u(y+v.channelPath+x+'&xd_rel=parent.parent&relation=parent.parent&xd_origin='+encodeURIComponent(t));}};if(r){v.whenReady(w);return;}s=v.root;r=true;v.whenReady(w);}};})());q.register('flash',(function(){var r=false,s,t={},u=false,v=15000,w;return{isAvailable:function(){return j.checkMinVersion('8.0.24');},init:function(x){k.debug('init flash: '+x.channel);var y={send:function(ba,ca,da,ea){k.debug('sending to: %s (%s)',ca,ea);s.postMessage(ba,ca,ea);}};if(r){x.whenReady(y);return;}var z=x.root.appendChild(o.document.createElement('div')),aa=g();t[aa]=function(){clearTimeout(w);k.info('xdm.swf called the callback');delete t[aa];aa=g();t[aa]=function(ba,ca){ba=decodeURIComponent(ba);k.debug('received message %s from %s',ba,ca);x.onMessage(ba,ca);};s.init(x.channel,'FB_XDM_CALLBACKS.'+aa);x.whenReady(y);};o.FB_XDM_CALLBACKS=t;s=j.embed(x.flashUrl,z,null,{protocol:location.protocol.replace(':',''),host:location.host,callback:'FB_XDM_CALLBACKS.'+aa,log:u});w=setTimeout(function(){k.warn('The Flash component did not load within %s ms - '+'verify that the container is not set to hidden or invisible '+'using CSS as this will cause some browsers to not load '+'the components',v);},v);r=true;}};})());q.register('postmessage',(function(){var r=false;return{isAvailable:function(){return!!o.postMessage;},init:function(s){k.debug('init postMessage: '+s.channel);var t='_FB_'+s.channel,u={send:function(v,w,x,y){if(o===x){k.error('Invalid windowref, equal to window (self)');throw new Error();}k.debug('sending to: %s (%s)',w,y);var z=function(){x.postMessage('_FB_'+y+v,w);};if(l.ie()==8){setTimeout(z,0);}else z();}};if(r){s.whenReady(u);return;}h.add(o,'message',function(event){var v=event.data,w=event.origin||'native';if(typeof v!='string'){k.warn('Received message of type %s from %s, expected a string',typeof v,w);return;}k.debug('received message %s from %s',v,w);if(v.substring(0,t.length)==t)v=v.substring(t.length);s.onMessage(v,w);});s.whenReady(u);r=true;}};})());e.exports=q;});__d("JSONRPC",["copyProperties","Log"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Log');function i(j){this._counter=0;this._callbacks={};this.remote={};this.local={};this._write=j;}g(i.prototype,{stub:function(j){this.remote[j]=ES5(function(){var k=Array.prototype.slice.call(arguments),l={jsonrpc:'2.0',method:j};if(typeof k[k.length-1]=='function'){l.id=++this._counter;this._callbacks[l.id]=k.pop();}l.params=k;this._write(ES5('JSON','stringify',false,l),{method:j});},'bind',true,this);},read:function(j,k){var l=ES5('JSON','parse',false,j),m=l.id;if(!l.method){if(!this._callbacks[m]){h.warn('Could not find callback %s',m);return;}var n=this._callbacks[m];delete this._callbacks[m];delete l.id;delete l.jsonrpc;n(l);return;}var o=this,p=this.local[l.method],q;if(m){q=function(t,u){var v={jsonrpc:'2.0',id:m};v[t]=u;setTimeout(function(){o._write(ES5('JSON','stringify',false,v),k);},0);};}else q=function(){};if(!p){h.error('Method "%s" has not been defined',l.method);q('error',{code:-32601,message:'Method not found',data:l.method});return;}l.params.push(ES5(q,'bind',true,null,'result'));l.params.push(ES5(q,'bind',true,null,'error'));try{var s=p.apply(k||null,l.params);if(typeof s!=='undefined')q('result',s);}catch(r){h.error('Invokation of RPC method %s resulted in the error: %s',l.method,r.message);q('error',{code:-32603,message:'Internal error',data:r.message});}}});e.exports=i;});__d("sdk.RPC",["Assert","JSONRPC","Queue"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('JSONRPC'),i=b('Queue'),j=new i(),k=new h(function(m){j.enqueue(m);}),l={local:k.local,remote:k.remote,stub:ES5(k.stub,'bind',true,k),setInQueue:function(m){g.isInstanceOf(i,m);m.start(function(n){k.read(n);});},getOutQueue:function(){return j;}};e.exports=l;});__d("sdk.XD",["guid","resolveWindow","wrapFunction","sdk.createIframe","FB","XDM","Log","QueryString","Queue","URL","sdk.RPC","sdk.Runtime","XDConfig"],function(a,b,c,d,e,f){var g=c('XDConfig'),h=b('guid'),i=b('resolveWindow'),j=b('wrapFunction'),k=b('sdk.createIframe'),l=b('FB'),m=b('XDM'),n=b('Log'),o=b('QueryString'),p=b('Queue'),q=b('URL'),r=b('sdk.RPC'),s=b('sdk.Runtime'),t=new p(),u=new p(),v=new p(),w,x,y=h(),z=h(),aa=location.protocol+'//'+location.host,ba,ca=false,da={},ea=new p();r.setInQueue(ea);function fa(ka){n.info('Remote XD can talk to facebook.com (%s)',ka);if(ka=='canvas'){s.setEnvironment(s.ENVIRONMENTS.CANVAS);l._inCanvas=true;}else{s.setEnvironment(s.ENVIRONMENTS.PAGETAB);l.Canvas._isTabIframe=true;}}function ga(ka,la){if(!la){n.error('No senderOrigin');throw new Error();}var ma=/^https?/.exec(la)[0];switch(ka.xd_action){case'proxy_ready':var na,oa;if(ma=='https'){na=v;oa=x;}else{na=u;oa=w;}if(ka.registered){fa(ka.registered);t=na.merge(t);}n.info('Proxy ready, starting queue %s containing %s messages',ma+'ProxyQueue',na.getLength());na.start(function(qa){ba.send(typeof qa==='string'?qa:o.encode(qa),la,oa.contentWindow,z+'_'+ma);});break;case'plugin_ready':n.info('Plugin %s ready, protocol: %s',ka.name,ma);da[ka.name]={protocol:ma};if(p.exists(ka.name)){var pa=p.get(ka.name);n.debug('Enqueuing %s messages for %s in %s',pa.getLength(),ka.name,ma+'ProxyQueue');(ma=='https'?v:u).merge(pa);}break;}if(ka.data)ha(ka.data,la);}function ha(ka,la){if(la&&la!=='native'&&!q(la).isFacebookURL())return;if(typeof ka=='string'){if(/^FB_RPC:/.test(ka)){ea.enqueue(ka.substring(7));return;}if(ka.substring(0,1)=='{'){try{ka=ES5('JSON','parse',false,ka);}catch(ma){n.warn('Failed to decode %s as JSON',ka);return;}}else ka=o.decode(ka);}if(!la)if(ka.xd_sig==y)la=ka.xd_origin;if(ka.xd_action){ga(ka,la);return;}if(ka.access_token)s.setSecure(/^https/.test(aa));if(ka.cb){var na=ja._callbacks[ka.cb];if(!l.XD._forever[ka.cb])delete ja._callbacks[ka.cb];if(na)na(ka);}}function ia(ka,la){if(ka=='facebook'){la.relation='parent.parent';t.enqueue(la);}else{la.relation='parent.frames["'+ka+'"]';var ma=da[ka];if(ma){n.debug('Enqueuing message for plugin %s in %s',ka,ma.protocol+'ProxyQueue');(ma.protocol=='https'?v:u).enqueue(la);}else{n.debug('Buffering message for plugin %s',ka);p.get(ka).enqueue(la);}}}r.getOutQueue().start(function(ka){ia('facebook','FB_RPC:'+ka);});var ja={rpc:r,_callbacks:{},_forever:{},_channel:z,_origin:aa,onMessage:ha,recv:ha,init:function(ka,la){if(ca)return;var ma=ka?/\/\/.*?(\/[^#]*)/.exec(ka)[1]:location.pathname+location.search;ma+=(~ES5(ma,'indexOf',true,'?')?'&':'?')+'fb_xd_fragment#xd_sig='+y+'&';var na=l.Content.appendHidden(document.createElement('div')),oa=m.create({root:na,channel:z,channelPath:'/'+g.XdUrl+'#',flashUrl:g.Flash.path,whenReady:function(pa){ba=pa;var qa={channel:z,origin:location.protocol+'//'+location.host,channel_path:ma,transport:oa,xd_name:la},ra=g.XdUrl+'#'+o.encode(qa),sa=g.useCdn?l._domain.staticfb:'http://www.facebook.com/',ta=g.useCdn?l._domain.https_staticfb:'https://www.facebook.com/';if(!l.onlyUseHttps())w=k({url:sa+ra,name:'fb_xdm_frame_http',root:na});x=k({url:ta+ra,name:'fb_xdm_frame_https',root:na});},onMessage:j(ha,'entry','XD:message')});ca=true;},sendToFacebook:ia,inform:function(ka,la,ma,na,oa){ia('facebook',{method:ka,params:ES5('JSON','stringify',false,la||{}),behavior:oa||'p',relation:ma});},handler:function(ka,la,ma,na){var oa=location.protocol=='https:'?l._domain.https_staticfb:l._domain.staticfb,pa=g.useCdn?oa:location.protocol+'//www.facebook.com/';return pa+g.XdUrl+'#'+o.encode({cb:this.registerCallback(ka,ma,na),origin:aa+'/'+z,domain:location.hostname,relation:la||'opener'});},registerCallback:function(ka,la,ma){ma=ma||h();if(la)ja._forever[ma]=true;ja._callbacks[ma]=ka;return ma;}};(function(){var ka=location.href.match(/[?&]fb_xd_fragment#(.*)$/);if(ka){document.documentElement.style.display='none';var la=o.decode(ka[1]),ma=i(la.xd_rel);n.debug('Passing fragment based message: %s',ka[1]);ma.FB.XD.onMessage(la);document.open();document.close();}})();e.exports=ja;});__d("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.getContextType","guid","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(a,b,c,d,e,f){var g=b('sdk.Cookie'),h=b('copyProperties'),i=b('sdk.createIframe'),j=b('DOMWrapper'),k=b('sdk.getContextType'),l=b('guid'),m=b('ObservableMixin'),n=b('QueryString'),o=b('sdk.Runtime'),p=b('sdk.SignedRequest'),q=b('UrlMap'),r=b('URL'),s=b('sdk.XD'),t,u,v=new m();function w(aa,ba){var ca=o.getUserID(),da=0;if(aa)if(aa.userID){da=aa.userID;}else if(aa.signedRequest){var ea=p.parse(aa.signedRequest);if(ea&&ea.user_id)da=ea.user_id;}var fa=!ca&&aa,ga=ca&&!aa,ha=aa&&ca&&ca!=da,ia=aa!=t,ja=ba!=(o.getLoginStatus()||'unknown');o.setLoginStatus(ba);o.setAccessToken(aa&&aa.accessToken||null);o.setUserID(da);t=aa;var ka={authResponse:aa,status:ba};if(ga||ha)v.inform('logout',ka);if(fa||ha)v.inform('login',ka);if(ia)v.inform('authresponse.change',ka);if(ja)v.inform('status.change',ka);return ka;}function x(){return t;}function y(aa,ba,ca){return function(da){var ea;if(da&&da.access_token){var fa=p.parse(da.signed_request);ba={accessToken:da.access_token,userID:fa.user_id,expiresIn:parseInt(da.expires_in,10),signedRequest:da.signed_request};if(o.getUseCookie()){var ga=ba.expiresIn===0?0:(new Date()).getTime()+ba.expiresIn*1000,ha=g.getDomain();if(!ha&&da.base_domain)g.setDomain('.'+da.base_domain);g.setSignedRequestCookie(da.signed_request,ga);}ea='connected';w(ba,ea);}else if(ca==='logout'||ca==='login_status'){if(da.error&&da.error==='not_authorized'){ea='not_authorized';}else ea='unknown';w(null,ea);if(o.getUseCookie())g.clearSignedRequestCookie();}if(da&&da.https==1)o.setSecure(true);if(aa)aa({authResponse:ba,status:o.getLoginStatus()});return ba;};}function z(aa){var ba;if(u){clearTimeout(u);u=null;}var ca=y(aa,t,'login_status'),da=r(q.resolve('www',true)+'/dialog/oauth').setSearch(n.encode({client_id:o.getClientID(),response_type:'token,signed_request,code',display:'none',domain:location.hostname,origin:k(),redirect_uri:s.handler(function(ea){ba.parentNode.removeChild(ba);if(ca(ea))u=setTimeout(function(){z();},1200000);},'parent'),sdk:'joey'}));ba=i({root:j.getRoot(),name:l(),url:da.toString(),style:{display:'none'}});}h(v,{fetchLoginStatus:z,setAuthResponse:w,getAuthResponse:x,parseSignedRequest:p.parse,xdResponseWrapper:y});e.exports=v;});__c();__d("legacy:fb.prelude",["FB"],function(a,b,c,d){var e=b('FB');},3);FB.provide('Array',{merge:function(a,b){for(var c=0;c<b.length;c++)if(ES5(a,'indexOf',true,b[c])<0)a.push(b[c]);return a;},forEach:function(a,b,c){if(!a)return;if(Object.prototype.toString.apply(a)==='[object Array]'||(!(a instanceof Function)&&typeof a.length=='number')){if(a.forEach){ES5(a,'forEach',true,b);}else for(var d=0,e=a.length;d<e;d++)b(a[d],d,a);}else for(var f in a)if(c||a.hasOwnProperty(f))b(a[f],f,a);},toArray:function(a){for(var b=0,c=[],d=a.length;b<d;b++)c[b]=a[b];return c;}});FB.provide('EventProvider',{subscribers:function(){if(!this._subscribersMap)this._subscribersMap={};return this._subscribersMap;},subscribe:function(a,b){var c=this.subscribers();if(!c[a]){c[a]=[b];}else c[a].push(b);},unsubscribe:function(a,b){var c=this.subscribers()[a];ES5(FB.Array,'forEach',true,c,function(d,e){if(d==b)c[e]=null;});},monitor:function(a,b){if(!b()){var c=this,d=function(){if(b.apply(b,arguments))c.unsubscribe(a,d);};this.subscribe(a,d);}},clear:function(a){delete this.subscribers()[a];},fire:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=this.subscribers()[b];if(c)ES5(c,'forEach',true,function(d){if(d)d.apply(this,a);});},listen:function(a,event,b){b.wrapper=FB.wrapFunction(b,'entry',a+':'+event);if(a.addEventListener){a.addEventListener(event,b.wrapper,false);}else if(a.attachEvent)a.attachEvent('on'+event,b.wrapper);},unlisten:function(a,event,b){if(a.removeEventListener){a.removeEventListener(event,b.wrapper,false);}else if(a.detachEvent)a.detachEvent('on'+event,b.wrapper);}});FB.provide('Event',FB.EventProvider);__d("sdk.Event",["FB"],function(a,b,c,d,e,f){var g=b('FB');e.exports=g.Event;});__d("hasArrayNature",[],function(a,b,c,d,e,f){function g(h){return(!!h&&(typeof h=='object'||typeof h=='function')&&('length'in h)&&!('setInterval'in h)&&(Object.prototype.toString.call(h)==="[object Array]"||('callee'in h)||('item'in h)));}e.exports=g;});__d("createArrayFrom",["hasArrayNature"],function(a,b,c,d,e,f){var g=b('hasArrayNature');function h(i){if(!g(i))return[i];if(i.item){var j=i.length,k=new Array(j);while(j--)k[j]=i[j];return k;}return Array.prototype.slice.call(i);}e.exports=h;});__d("sdk.computeContentSize",["DOMWrapper","createArrayFrom"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('createArrayFrom');function i(){var j=g.getWindow().document,k=j.body,l=j.documentElement,m=0,n=Math.max(k.offsetTop,0),o=Math.max(l.offsetTop,0),p=k.scrollHeight+n,q=k.offsetHeight+n,r=l.scrollHeight+o,s=l.offsetHeight+o,t=Math.max(p,q,r,s);if(k.offsetWidth<k.scrollWidth){m=k.scrollWidth+k.offsetLeft;}else ES5(h(k.childNodes),'forEach',true,function(u){var v=u.offsetWidth+u.offsetLeft;if(v>m)m=v;});if(l.clientLeft>0)m+=(l.clientLeft*2);if(l.clientTop>0)t+=(l.clientTop*2);return{height:t,width:m};}e.exports=i;});__d("sdk.Canvas.IframeHandling",["sdk.Runtime","Log","sdk.RPC","sdk.computeContentSize"],function(a,b,c,d,e,f){var g=b('sdk.Runtime'),h=b('Log'),i=b('sdk.RPC'),j=b('sdk.computeContentSize'),k=null,l;function m(p){if(!g.getInitialized()&&arguments.callee.caller!=n)h.warn('FB.init is required for setSize to take effect');if(typeof p!='object')p={};var q=0,r=0;if(!p.height){p.height=j().height;q=16;r=4;}if(!p.frame)p.frame=window.name||'iframe_canvas';if(l){var s=l.height,t=p.height-s;if(t<=r&&t>=-q)return false;}l=p;i.remote.setSize(p);return true;}function n(p,q){if(!g.getInitialized())h.warn('FB.init is required for setAutoGrow to take effect');if(q===undefined&&typeof p==='number'){q=p;p=true;}if(p||p===undefined){if(k===null)k=setInterval(m,q||100);m();}else if(k!==null){clearInterval(k);k=null;}}i.stub('setSize');var o={setSize:m,setAutoGrow:n};e.exports=o;});__d("sdk.Canvas.Environment",["sdk.Runtime","Log","sdk.RPC"],function(a,b,c,d,e,f){var g=b('sdk.Runtime'),h=b('Log'),i=b('sdk.RPC');function j(m){if(typeof m!=='function'){h.error('FB.Canvas.getPageInfo called without a callback');return;}if(!g.getInitialized())h.warn('FB.init is required for getPageInfo to take effect');i.remote.getPageInfo(function(n){m(n.result);});}function k(m,n){if(!g.getInitialized())h.warn('FB.init is required for scrollTo to take effect');i.remote.scrollTo({x:m||0,y:n||0});}i.stub('getPageInfo');i.stub('scrollTo');var l={getPageInfo:j,scrollTo:k};e.exports=l;});__d("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(a,b,c,d,e,f){var g=b('sdk.RPC'),h=b('sdk.Runtime');function i(n,o){var p={appId:h.getClientID(),time:(new Date()).getTime(),name:o},q=[p];if(n)q.push(function(r){n(r.result);});g.remote.logTtiMessage.apply(null,q);}function j(){i(null,'StartIframeAppTtiTimer');}function k(n){i(n,'StopIframeAppTtiTimer');}function l(n){i(n,'RecordIframeAppTti');}g.stub('logTtiMessage');var m={setDoneLoading:l,startTimer:j,stopTimer:k};e.exports=m;});__d("sdk.Canvas.Flash",["sdk.api","sdk.RPC","Log","sdk.Runtime","createArrayFrom"],function(a,b,c,d,e,f){var g=b('sdk.api'),h=b('sdk.RPC'),i=b('Log'),j=b('sdk.Runtime'),k=b('createArrayFrom'),l='CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000',m=null;function n(r){r.style.visibility='hidden';}function o(r){r.style.visibility='';}function p(r){i.info('hideFlashCallback called with %s',r.state);var s=window.document.getElementsByTagName('object');ES5(k(s),'forEach',true,function(t){if(t.type.toLowerCase()!="application/x-shockwave-flash"&&(!t.classid||t.classid.toUpperCase()!=l))return;for(var u=0;u<t.childNodes.length;u++){var v=t.childNodes[u];if(/param/i.test(v.nodeName)&&/wmode/i.test(v.name)&&/opaque|transparent/i.test(v.value))return;}if(m){i.info('Calling developer specified callback');var w={state:r.state,elem:t};m(w);setTimeout(function(){if(w.state=='opened'){n(t);}else o(t);},200);}else if(r.state=='opened'){t._old_visibility=t.style.visibility;t.style.visibility='hidden';}else if(r.state=='closed'){t.style.visibility=t._old_visibility||'';delete t._old_visibility;}if(Math.random()<=1/1000)g(j.getClientID()+'/occludespopups','post',{});});}h.local.hideFlashObjects=function(){p({state:'opened'});};h.local.showFlashObjects=function(){p({state:'closed'});};var q={_setHideFlashCallback:function(r){m=r;},hideFlashElement:n,showFlashElement:o};e.exports=q;});__d("sdk.Canvas.Navigation",["sdk.RPC","Log","sdk.Runtime"],function(a,b,c,d,e,f){var g=b('sdk.RPC'),h=b('Log'),i=b('sdk.Runtime');function j(n){if(typeof n!=='string'){h.error('FB.Canvas.setHash must have a String as argument');return;}n=n.replace(/[{}<\[\]>#%"]/,encodeURIComponent);g.remote.setHash(n);}function k(n){if(typeof n!=='function'){h.error('FB.Canvas.getHash called without a callback');return;}g.remote.getHash(function(o){n(o.result);});}function l(n){if(!i.getInitialized())h.warn('FB.init is required for setUrlHandler to take effect');g.local.navigate=function(o){h.info('navigate %s',o);n({path:o});};g.remote.setNavigationEnabled(true);}g.stub('setNavigationEnabled');g.stub('getHash');g.stub('setHash');var m={getHash:k,setHash:j,setUrlHandler:l};e.exports=m;});__d("sdk.Canvas",["copyProperties","sdk.RPC","sdk.Runtime","sdk.Canvas.IframeHandling","sdk.Canvas.Environment","sdk.Canvas.Tti","sdk.Canvas.Flash","sdk.Canvas.Navigation"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('sdk.RPC'),i=b('sdk.Runtime'),j=b('sdk.Canvas.IframeHandling'),k=b('sdk.Canvas.Environment'),l=b('sdk.Canvas.Tti'),m=b('sdk.Canvas.Flash'),n=b('sdk.Canvas.Navigation');h.stub('showDialog');var o={isTabIframe:function(){return i.isEnvironment(i.ENVIRONMENTS.PAGETAB);}};g(o,j);g(o,k);g(o,l);g(o,m);g(o,n);e.exports=o;});__d("legacy:fb.canvas",["FB","sdk.Canvas"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Canvas');e.provide('Canvas',f);e.provide('CanvasInsights',{setDoneLoading:f.setDoneLoading});},3);__d("legacy:fb.ua",["copyProperties","FB","UserAgent"],function(a,b,c,d){var e=b('copyProperties'),f=b('FB'),g=b('UserAgent'),h=e({},g);h.mobile=function(){return!f._inCanvas&&g.mobile();};f.provide('UA',h);},3);__d("insertIframe",["guid","GlobalCallback"],function(a,b,c,d,e,f){var g=b('guid'),h=b('GlobalCallback');function i(j){j.id=j.id||g();j.name=j.name||g();var k=false,l=false,m=function(){if(k&&!l){l=true;j.onload&&j.onload(j.root.firstChild);}},n=h.create(m);if(document.attachEvent){var o=('<iframe'+' id="'+j.id+'"'+' name="'+j.name+'"'+(j.title?' title="'+j.title+'"':'')+(j.className?' class="'+j.className+'"':'')+' style="border:none;'+(j.width?'width:'+j.width+'px;':'')+(j.height?'height:'+j.height+'px;':'')+'"'+' src="javascript:false;"'+' frameborder="0"'+' scrolling="no"'+' allowtransparency="true"'+' onload="'+n+'()"'+'></iframe>');j.root.innerHTML=('<iframe src="javascript:false"'+' frameborder="0"'+' scrolling="no"'+' style="height:1px"></iframe>');k=true;window.setTimeout(function(){j.root.innerHTML=o;j.root.firstChild.src=j.url;j.onInsert&&j.onInsert(j.root.firstChild);},0);}else{var p=document.createElement('iframe');p.id=j.id;p.name=j.name;p.onload=m;p.scrolling='no';p.style.border='none';p.style.overflow='hidden';if(j.title)p.title=j.title;if(j.className)p.className=j.className;if(j.height!==undefined)p.style.height=j.height+'px';if(j.width!==undefined)if(j.width=='100%'){p.style.width=j.width;}else p.style.width=j.width+'px';j.root.appendChild(p);k=true;p.src=j.url;j.onInsert&&j.onInsert(p);}}e.exports=i;});__d("legacy:insertIframe",["FB","insertIframe"],function(a,b,c,d){var e=b('FB'),f=b('insertIframe');e.provide('Content',{insertIframe:f});},3);FB.provide('Content',{_root:null,_hiddenRoot:null,append:function(a,b){if(!b)if(!FB.Content._root){FB.Content._root=b=FB.$('fb-root');if(!b){FB.log('The "fb-root" div has not been created, auto-creating');FB.Content._root=b=document.createElement('div');b.id='fb-root';if(FB.UA.ie()||!document.body){FB.Dom.ready(function(){document.body.appendChild(b);});}else document.body.appendChild(b);}b.className+=' fb_reset';}else b=FB.Content._root;if(typeof a=='string'){var c=document.createElement('div');b.appendChild(c).innerHTML=a;return c;}else return b.appendChild(a);},appendHidden:function(a){if(!FB.Content._hiddenRoot){var b=document.createElement('div'),c=b.style;c.position='absolute';c.top='-10000px';c.width=c.height=0;FB.Content._hiddenRoot=FB.Content.append(b);}return FB.Content.append(a,FB.Content._hiddenRoot);},submitToTarget:function(a,b){var c=document.createElement('form');c.action=a.url;c.target=a.target;c.method=(b)?'GET':'POST';FB.Content.appendHidden(c);ES5(FB.Array,'forEach',true,a.params,function(d,e){if(d!==null&&d!==undefined){var f=document.createElement('input');f.name=e;f.value=d;c.appendChild(f);}});c.submit();c.parentNode.removeChild(c);}});__d("legacy:fb.arbiter",["FB","sdk.XD"],function(a,b,c,d){var e=b('FB'),f=b('sdk.XD');e.provide('Arbiter',{inform:f.inform});},3);__d("sdk.domReady",[],function(a,b,c,d,e,f){var g,h="readyState"in document?/loaded|complete/.test(document.readyState):!!document.body;function i(){if(!g)return;var l;while(l=g.shift())l();g=null;}function j(l){if(g){g.push(l);return;}else l();}if(!h){g=[];if(document.addEventListener){document.addEventListener('DOMContentLoaded',i,false);window.addEventListener('load',i,false);}else if(document.attachEvent){document.attachEvent('onreadystatechange',i);window.attachEvent('onload',i);}if(document.documentElement.doScroll&&window==window.top){var k=function(){try{document.documentElement.doScroll('left');}catch(l){setTimeout(k,0);return;}i();};k();}}e.exports=j;},3);__d("sdk.DOM",["Assert","createArrayFrom","DOMEventListener","sdk.domReady","UserAgent"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('createArrayFrom'),i=b('DOMEventListener'),j=b('sdk.domReady'),k=b('UserAgent'),l={};function m(w,x){var y=' '+w.className+' ';return ES5(y,'indexOf',true,' '+x+' ')>=0;}function n(w,x){if(!m(w,x))w.className=w.className+' '+x;}function o(w,x){var y=new RegExp('\\s*'+x,'g');w.className=ES5(w.className.replace(y,''),'trim',true);}function p(w,x,y){x=x||document.body;y=y||'*';if(x.querySelectorAll)return h(x.querySelectorAll(y+'.'+w));var z=x.getElementsByTagName(y),aa=[];for(var ba=0,ca=z.length;ba<ca;ba++)if(m(z[ba],w))aa[aa.length]=z[ba];return aa;}function q(w,x){x=x.replace(/-(\w)/g,function(aa,ba){return ba.toUpperCase();});var y=w.currentStyle||document.defaultView.getComputedStyle(w,null),z=y[x];if(/backgroundPosition?/.test(x)&&/top|left/.test(z))z='0%';return z;}function r(w,x,y){x=x.replace(/-(\w)/g,function(z,aa){return aa.toUpperCase();});w.style[x]=y;}function s(w,x){var y=true;for(var z=0,aa;aa=x[z++];)if(!(aa in l)){y=false;l[aa]=true;}if(y)return;if(!k.ie()){var ba=document.createElement('style');ba.type='text/css';ba.textContent=w;document.getElementsByTagName('head')[0].appendChild(ba);}else try{document.createStyleSheet().cssText=w;}catch(ca){if(document.styleSheets[0])document.styleSheets[0].cssText+=w;}}function t(){var w=(document.documentElement&&document.compatMode=='CSS1Compat')?document.documentElement:document.body;return{scrollTop:w.scrollTop||document.body.scrollTop,scrollLeft:w.scrollLeft||document.body.scrollLeft,width:window.innerWidth?window.innerWidth:w.clientWidth,height:window.innerHeight?window.innerHeight:w.clientHeight};}function u(w){var x=0,y=0;do{x+=w.offsetLeft;y+=w.offsetTop;}while(w=w.offsetParent);return{x:x,y:y};}var v={containsCss:m,addCss:n,removeCss:o,getByClass:p,getStyle:q,setStyle:r,addCssRules:s,getViewportInfo:t,getPosition:u,ready:j};e.exports=v;});__d("legacy:fb.dom",["FB","sdk.DOM"],function(a,b,c,d){var e=b('FB'),f=b('sdk.DOM');e.provide('Dom',f);},3);FB.provide('Intl',(function(){var a=('['+'.!?'+'\u3002'+'\uFF01'+'\uFF1F'+'\u0964'+'\u2026'+'\u0EAF'+'\u1801'+'\u0E2F'+'\uFF0E'+']');function b(e){if(typeof e!='string')return false;return e.match(new RegExp(a+'['+')"'+"'"+'\u00BB'+'\u0F3B'+'\u0F3D'+'\u2019'+'\u201D'+'\u203A'+'\u3009'+'\u300B'+'\u300D'+'\u300F'+'\u3011'+'\u3015'+'\u3017'+'\u3019'+'\u301B'+'\u301E'+'\u301F'+'\uFD3F'+'\uFF07'+'\uFF09'+'\uFF3D'+'\s'+']*$'));}function c(e,f){if(f!==undefined)if(typeof f!='object'){FB.log('The second arg to FB.Intl.tx() must be an Object for '+'FB.Intl.tx('+e+', ...)');}else{var g;for(var h in f)if(f.hasOwnProperty(h)){if(b(f[h])){g=new RegExp('\{'+h+'\}'+a+'*','g');}else g=new RegExp('\{'+h+'\}','g');e=e.replace(g,f[h]);}}return e;}function d(e,f){if(!FB.Intl._stringTable)return null;return c(FB.Intl._stringTable[e],f);}d._=c;return{tx:d,_tx:c};})());FB.provide('',{Class:function(a,b,c){if(FB.CLASSES[a])return FB.CLASSES[a];var d=b||function(){};d.prototype=c;d.prototype.bind=function(e){return ES5(e,'bind',true,this);};d.prototype.constructor=d;FB.create(a,d);FB.CLASSES[a]=d;return d;},subclass:function(a,b,c,d){if(FB.CLASSES[a])return FB.CLASSES[a];var e=FB.create(b);FB.copy(d,e.prototype);d._base=e;d._callBase=function(f){var g=Array.prototype.slice.call(arguments,1);return e.prototype[f].apply(this,g);};return FB.Class(a,c?c:function(){if(e.apply)e.apply(this,arguments);},d);},CLASSES:{}});FB.provide('Type',{isType:function(a,b){while(a)if(a.constructor===b||a===b){return true;}else a=a._base||a.constructor.prototype._base;return false;}});FB.Class('Obj',null,FB.copy({setProperty:function(a,b){if(ES5('JSON','stringify',false,b)!=ES5('JSON','stringify',false,this[a])){this[a]=b;this.fire(a,b);}}},FB.EventProvider));__d("legacy:fb.xd",["FB","sdk.XD"],function(a,b,c,d){var e=b('FB'),f=b('sdk.XD');e.provide('XD',f);},3);FB.subclass('Dialog','Obj',function(a){this.id=a;if(!FB.Dialog._dialogs){FB.Dialog._dialogs={};FB.Dialog._addOrientationHandler();}FB.Dialog._dialogs[a]=this;},{});FB.provide('Dialog',{_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(a){return FB.Dialog._dialogs[a];},_findRoot:function(a){while(a){if(FB.Dom.containsCss(a,'fb_dialog'))return a;a=a.parentNode;}},_createWWWLoader:function(a){a=parseInt(a,10);a=a?a:460;return FB.Dialog.create({content:('<div class="dialog_title">'+'  <a id="fb_dialog_loader_close">'+'    <div class="fb_dialog_close_icon"></div>'+'  </a>'+'  <span>Facebook</span>'+'  <div style="clear:both;"></div>'+'</div>'+'<div class="dialog_content"></div>'+'<div class="dialog_footer"></div>'),width:a});},_createMobileLoader:function(){var a=FB.UA.nativeApp()?'':('<table>'+'  <tbody>'+'    <tr>'+'      <td class="header_left">'+'        <label class="touchable_button">'+'          <input type="submit" value="'+FB.Intl.tx._("Cancel")+'"'+'            id="fb_dialog_loader_close"/>'+'        </label>'+'      </td>'+'      <td class="header_center">'+'        <div>'+FB.Intl.tx._("Loading...")+'</div>'+'      </td>'+'      <td class="header_right">'+'      </td>'+'    </tr>'+'  </tbody>'+'</table>');return FB.Dialog.create({classes:'loading'+(FB.UA.ipad()?' centered':''),content:('<div class="dialog_header">'+a+'</div>')});},_restoreBodyPosition:function(){if(!FB.UA.ipad()){var a=document.getElementsByTagName('body')[0];FB.Dom.removeCss(a,'fb_hidden');}},_showIPadOverlay:function(){if(!FB.UA.ipad())return;if(!FB.Dialog._overlayEl){FB.Dialog._overlayEl=document.createElement('div');FB.Dialog._overlayEl.setAttribute('id','fb_dialog_ipad_overlay');FB.Content.append(FB.Dialog._overlayEl,null);}FB.Dialog._overlayEl.className='';},_hideIPadOverlay:function(){if(FB.UA.ipad())FB.Dialog._overlayEl.className='hidden';},showLoader:function(a,b){FB.Dialog._showIPadOverlay();if(!FB.Dialog._loaderEl)FB.Dialog._loaderEl=FB.Dialog._findRoot(FB.UA.mobile()?FB.Dialog._createMobileLoader():FB.Dialog._createWWWLoader(b));if(!a)a=function(){};var c=FB.$('fb_dialog_loader_close');FB.Dom.removeCss(c,'fb_hidden');c.onclick=function(){FB.Dialog._hideLoader();FB.Dialog._restoreBodyPosition();FB.Dialog._hideIPadOverlay();a();};var d=FB.$('fb_dialog_ipad_overlay');if(d)d.ontouchstart=c.onclick;FB.Dialog._makeActive(FB.Dialog._loaderEl);},_hideLoader:function(){if(FB.Dialog._loaderEl&&FB.Dialog._loaderEl==FB.Dialog._active)FB.Dialog._loaderEl.style.top='-10000px';},_makeActive:function(a){FB.Dialog._setDialogSizes();FB.Dialog._lowerActive();FB.Dialog._active=a;if(FB.Canvas)FB.Canvas.getPageInfo(function(b){FB.Dialog._centerActive(b);});FB.Dialog._centerActive(FB.Canvas._pageInfo);},_lowerActive:function(){if(!FB.Dialog._active)return;FB.Dialog._active.style.top='-10000px';FB.Dialog._active=null;},_removeStacked:function(a){FB.Dialog._stack=ES5(FB.Dialog._stack,'filter',true,function(b){return b!=a;});},_centerActive:function(a){var b=FB.Dialog._active;if(!b)return;var c=FB.Dom.getViewportInfo(),d=parseInt(b.offsetWidth,10),e=parseInt(b.offsetHeight,10),f=c.scrollLeft+(c.width-d)/2,g=(c.height-e)/2.5;if(f<g)g=f;var h=c.height-e-g,i=(c.height-e)/2;if(a)i=a.scrollTop-a.offsetTop+(a.clientHeight-e)/2;if(i<g){i=g;}else if(i>h)i=h;i+=c.scrollTop;if(FB.UA.mobile()){var j=100;if(FB.UA.ipad()){j+=(c.height-e)/2;}else{var k=document.getElementsByTagName('body')[0];FB.Dom.addCss(k,'fb_hidden');f=10000;i=10000;}var l=FB.Dom.getByClass('fb_dialog_padding',b);if(l.length)l[0].style.height=j+'px';}b.style.left=(f>0?f:0)+'px';b.style.top=(i>0?i:0)+'px';},_setDialogSizes:function(){if(!FB.UA.mobile()||FB.UA.ipad())return;for(var a in FB.Dialog._dialogs)if(document.getElementById(a)){var b=document.getElementById(a);b.style.width=FB.UIServer.getDefaultSize().width+'px';b.style.height=FB.UIServer.getDefaultSize().height+'px';}},_handleOrientationChange:function(a){if(FB.UA.android()&&screen.availWidth==FB.Dialog._availScreenWidth){window.setTimeout(FB.Dialog._handleOrientationChange,50);return;}FB.Dialog._availScreenWidth=screen.availWidth;if(FB.UA.ipad()){FB.Dialog._centerActive();}else for(var b in FB.Dialog._dialogs)if(document.getElementById(b))document.getElementById(b).style.width=FB.UIServer.getDefaultSize().width+'px';},_addOrientationHandler:function(){if(!FB.UA.mobile())return;var a="onorientationchange"in window?'orientationchange':'resize';FB.Dialog._availScreenWidth=screen.availWidth;FB.Event.listen(window,a,FB.Dialog._handleOrientationChange);},create:function(a){a=a||{};var b=document.createElement('div'),c=document.createElement('div'),d='fb_dialog';if(a.closeIcon&&a.onClose){var e=document.createElement('a');e.className='fb_dialog_close_icon';e.onclick=a.onClose;b.appendChild(e);}d+=' '+(a.classes||'');if(FB.UA.ie()){d+=' fb_dialog_legacy';ES5(['vert_left','vert_right','horiz_top','horiz_bottom','top_left','top_right','bottom_left','bottom_right'],'forEach',true,function(h){var i=document.createElement('span');i.className='fb_dialog_'+h;b.appendChild(i);});}else d+=(FB.UA.mobile())?' fb_dialog_mobile':' fb_dialog_advanced';if(a.content)FB.Content.append(a.content,c);b.className=d;var f=parseInt(a.width,10);if(!isNaN(f))b.style.width=f+'px';c.className='fb_dialog_content';b.appendChild(c);if(FB.UA.mobile()){var g=document.createElement('div');g.className='fb_dialog_padding';b.appendChild(g);}FB.Content.append(b);if(a.visible)FB.Dialog.show(b);return c;},show:function(a){var b=FB.Dialog._findRoot(a);if(b){FB.Dialog._removeStacked(b);FB.Dialog._hideLoader();FB.Dialog._makeActive(b);FB.Dialog._stack.push(b);if('fbCallID'in a)FB.Dialog.get(a.fbCallID).fire('iframe_show');}},hide:function(a){var b=FB.Dialog._findRoot(a);if(b==FB.Dialog._active){FB.Dialog._lowerActive();FB.Dialog._restoreBodyPosition();FB.Dialog._hideIPadOverlay();if('fbCallID'in a)FB.Dialog.get(a.fbCallID).fire('iframe_hide');}},remove:function(a){a=FB.Dialog._findRoot(a);if(a){var b=FB.Dialog._active==a;FB.Dialog._removeStacked(a);if(b){FB.Dialog._hideLoader();if(FB.Dialog._stack.length>0){FB.Dialog.show(FB.Dialog._stack.pop());}else{FB.Dialog._lowerActive();FB.Dialog._restoreBodyPosition();FB.Dialog._hideIPadOverlay();}}else if(FB.Dialog._active===null&&FB.Dialog._stack.length>0)FB.Dialog.show(FB.Dialog._stack.pop());window.setTimeout(function(){a.parentNode.removeChild(a);},3000);}},isActive:function(a){var b=FB.Dialog._findRoot(a);return b&&b===FB.Dialog._active;}});FB.provide('QS',{encode:function(a,b,c){b=b===undefined?'&':b;c=c===false?function(e){return e;}:encodeURIComponent;var d=[];ES5(FB.Array,'forEach',true,a,function(e,f){if(e!==null&&typeof e!='undefined')d.push(c(f)+'='+c(e));});d.sort();return d.join(b);},decode:function(a){var b=decodeURIComponent,c={},d=a.split('&'),e,f;for(e=0;e<d.length;e++){f=d[e].split('=',2);if(f&&f[0])c[b(f[0])]=b(f[1]||'');}return c;}});__d("legacy:fb.json",["flattenObject","FB","ManagedError"],function(a,b,c,d){var e=b('flattenObject'),f=b('FB'),g=b('ManagedError');f.provide('JSON',{stringify:function(h){try{return ES5('JSON','stringify',false,h);}catch(i){throw new g(i.message,i);}},parse:function(h){try{return ES5('JSON','parse',false,h);}catch(i){throw new g(i.message,i);}},flatten:e});},3);FB.provide('',{ui:function(a,b){a=FB.copy({},a);if(!a.method){FB.log('"method" is a required parameter for FB.ui().');return null;}if((a.method=='permissions.request'||a.method=='permissions.oauth')&&(a.display=='iframe'||a.display=='dialog')){var c='scope'in a?a.scope:FB._scope;if(c){var d=c.split(/\s|,/g);for(var e=0;e<d.length;e++){var f=ES5(d[e],'trim',true);if(f&&!FB.initSitevars.iframePermissions[f]){a.display='popup';break;}}}}var g=FB.UIServer.prepareCall(a,b||function(){});if(!g)return null;var h=g.params.display;if(h==='dialog'){h='iframe';}else if(h==='none')h='hidden';var i=FB.UIServer[h];if(!i){FB.log('"display" must be one of "popup", '+'"dialog", "iframe", "touch", "async", "hidden", or "none"');return null;}i(g);return g.dialog;}});FB.provide('UIServer',{Methods:{},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',_forceHTTPS:false,genericTransform:function(a){if(a.params.display=='dialog'||a.params.display=='iframe')FB.copy(a.params,{display:'iframe',channel:FB.UIServer._xdChannelHandler(a.id,'parent.parent')},true);return a;},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=FB.copy({},FB.UIServer.Methods[c]),e=FB.guid(),f=(d.noHttps!==true)&&(FB.Runtime.getSecure()||(c!=='auth.status'&&c!='login.status'));FB.UIServer._forceHTTPS=f;FB.copy(a,{api_key:FB._apiKey,app_id:FB._apiKey,locale:FB._locale,sdk:'joey',access_token:f&&FB.getAccessToken()||undefined});a.display=FB.UIServer.getDisplayMode(d,a);if(!d.url)d.url='dialog/'+c;var g={cb:b,id:e,size:d.size||FB.UIServer.getDefaultSize(),url:FB.getDomain(f?'https_www':'www')+d.url,forceHTTPS:f,params:a,name:c,dialog:new FB.Dialog(e)},h=d.transform?d.transform:FB.UIServer.genericTransform;if(h){g=h(g);if(!g)return;}var i=d.getXdRelation||FB.UIServer.getXdRelation,j=i(g.params);if(!(g.id in FB.UIServer._defaultCb)&&!('next'in g.params)&&!('redirect_uri'in g.params))g.params.next=FB.UIServer._xdResult(g.cb,g.id,j,true);if(j==='parent')FB.copy(g.params,{channel_url:FB.UIServer._xdChannelHandler(e,'parent.parent')},true);g=FB.UIServer.prepareParams(g);return g;},prepareParams:function(a){var b=a.params.method;if(a.params.display!=='async')delete a.params.method;if(FB.TemplateUI&&FB.TemplateUI.supportsTemplate(b,a)){FB.TemplateUI.useCachedUI(b,a);}else{a.params=FB.JSON.flatten(a.params);var c=FB.QS.encode(a.params);if(!FB.UA.nativeApp()&&FB.UIServer.urlTooLongForIE(a.url+'?'+c)){a.post=true;}else if(c)a.url+='?'+c;}return a;},urlTooLongForIE:function(a){return a.length>2000;},getDisplayMode:function(a,b){if(b.display==='hidden'||b.display==='none')return b.display;var c=FB.require('SDKConfig').useAsync?FB._inCanvas:FB.Canvas.isTabIframe();if(c&&!b.display)return'async';if(FB.UA.mobile()||b.display==='touch')return'touch';if(!FB.getAccessToken()&&b.display=='dialog'&&!a.loggedOutIframe){FB.log('"dialog" mode can only be used when the user is connected.');return'popup';}if(a.connectDisplay&&!FB._inCanvas)return a.connectDisplay;return b.display||(FB.getAccessToken()?'dialog':'popup');},getXdRelation:function(a){var b=a.display;if(b==='popup'||b==='touch')return'opener';if(b==='dialog'||b==='iframe'||b==='hidden'||b==='none')return'parent';if(b==='async')return'parent.frames['+window.name+']';},popup:function(a){var b=typeof window.screenX!='undefined'?window.screenX:window.screenLeft,c=typeof window.screenY!='undefined'?window.screenY:window.screenTop,d=typeof window.outerWidth!='undefined'?window.outerWidth:document.documentElement.clientWidth,e=typeof window.outerHeight!='undefined'?window.outerHeight:(document.documentElement.clientHeight-22),f=FB.UA.mobile()?null:a.size.width,g=FB.UA.mobile()?null:a.size.height,h=(b<0)?window.screen.width+b:b,i=parseInt(h+((d-f)/2),10),j=parseInt(c+((e-g)/2.5),10),k=[];if(f!==null)k.push('width='+f);if(g!==null)k.push('height='+g);k.push('left='+i);k.push('top='+j);k.push('scrollbars=1');if(a.name=='permissions.request'||a.name=='permissions.oauth')k.push('location=1,toolbar=0');k=k.join(',');var l;if(a.post){l=window.open('about:blank',a.id,k);if(l){FB.UIServer.setLoadedNode(a,l,'popup');FB.Content.submitToTarget({url:a.url,target:a.id,params:a.params});}}else{l=window.open(a.url,a.id,k);if(l)FB.UIServer.setLoadedNode(a,l,'popup');}if(!l)return;if(a.id in FB.UIServer._defaultCb)FB.UIServer._popupMonitor();},setLoadedNode:function(a,b,c){if(a.params&&a.params.display!='popup')b.fbCallID=a.id;b={node:b,type:c,fbCallID:a.id};FB.UIServer._loadedNodes[a.id]=b;},getLoadedNode:function(a){var b=typeof a=='object'?a.id:a,c=FB.UIServer._loadedNodes[b];return c?c.node:null;},hidden:function(a){a.className='FB_UI_Hidden';a.root=FB.Content.appendHidden('');FB.UIServer._insertIframe(a);},iframe:function(a){a.className='FB_UI_Dialog';var b=function(){FB.UIServer._triggerDefault(a.id);};a.root=FB.Dialog.create({onClose:b,closeIcon:true,classes:(FB.UA.ipad()?'centered':'')});if(!a.hideLoader)FB.Dialog.showLoader(b,a.size.width);FB.Dom.addCss(a.root,'fb_dialog_iframe');FB.UIServer._insertIframe(a);},touch:function(a){if(a.params&&a.params.in_iframe){if(a.ui_created){FB.Dialog.showLoader(function(){FB.UIServer._triggerDefault(a.id);},0);}else FB.UIServer.iframe(a);}else if(FB.UA.nativeApp()&&!a.ui_created){a.frame=a.id;FB.Native.onready(function(){FB.UIServer.setLoadedNode(a,FB.Native.open(a.url+'#cb='+a.frameName),'native');});FB.UIServer._popupMonitor();}else if(!a.ui_created)FB.UIServer.popup(a);},async:function(a){a.params.redirect_uri=location.protocol+'//'+location.host+location.pathname;FB.XD.rpc.remote.showDialog(a.params,function(b){a.cb(b.result);});},getDefaultSize:function(){if(FB.UA.mobile())if(FB.UA.ipad()){return{width:500,height:590};}else if(FB.UA.android()){return{width:screen.availWidth,height:screen.availHeight};}else{var a=window.innerWidth,b=window.innerHeight,c=a/b>1.2;return{width:a,height:Math.max(b,(c?screen.width:screen.height))};}return{width:575,height:240};},_insertIframe:function(a){FB.UIServer._loadedNodes[a.id]=false;var b=function(c){if(a.id in FB.UIServer._loadedNodes)FB.UIServer.setLoadedNode(a,c,'iframe');};if(a.post){FB.Content.insertIframe({url:'about:blank',root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(c){FB.Content.submitToTarget({url:a.url,target:c.name,params:a.params});}});}else FB.Content.insertIframe({url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b});},_handleResizeMessage:function(a,b){var c=FB.UIServer.getLoadedNode(a);if(!c)return;if(b.height)c.style.height=b.height+'px';if(b.width)c.style.width=b.width+'px';FB.Arbiter.inform('resize.ack',b||{},'parent.frames['+c.name+']');if(!FB.Dialog.isActive(c))FB.Dialog.show(c);},_triggerDefault:function(a){FB.UIServer._xdRecv({frame:a},FB.UIServer._defaultCb[a]||function(){});},_popupMonitor:function(){var a;for(var b in FB.UIServer._loadedNodes)if(FB.UIServer._loadedNodes.hasOwnProperty(b)&&b in FB.UIServer._defaultCb){var c=FB.UIServer._loadedNodes[b];if(c.type!='popup'&&c.type!='native')continue;win=c.node;try{if(win.closed){FB.UIServer._triggerDefault(b);}else a=true;}catch(d){}}if(a&&!FB.UIServer._popupInterval){FB.UIServer._popupInterval=window.setInterval(FB.UIServer._popupMonitor,100);}else if(!a&&FB.UIServer._popupInterval){window.clearInterval(FB.UIServer._popupInterval);FB.UIServer._popupInterval=null;}},_xdChannelHandler:function(a,b){var c=(FB.UIServer._forceHTTPS&&FB.UA.ie()!==7);return FB.XD.handler(function(d){var e=FB.UIServer.getLoadedNode(a);if(!e)return;if(d.type=='resize'){FB.UIServer._handleResizeMessage(a,d);}else if(d.type=='hide'){FB.Dialog.hide(e);}else if(d.type=='rendered'){var f=FB.Dialog._findRoot(e);FB.Dialog.show(f);}else if(d.type=='fireevent')FB.Event.fire(d.event);},b,true,null,c);},_xdNextHandler:function(a,b,c,d){if(d)FB.UIServer._defaultCb[b]=a;return FB.XD.handler(function(e){FB.UIServer._xdRecv(e,a);},c)+'&frame='+b;},_xdRecv:function(a,b){var c=FB.UIServer.getLoadedNode(a.frame);if(c){try{if(FB.Dom.containsCss(c,'FB_UI_Hidden')){window.setTimeout(function(){c.parentNode.parentNode.removeChild(c.parentNode);},3000);}else if(FB.Dom.containsCss(c,'FB_UI_Dialog')){FB.Dialog.remove(c);if(FB.TemplateUI&&FB.UA.mobile())FB.TemplateUI.populateCache();}}catch(d){}try{if(c.close){c.close();FB.UIServer._popupCount--;}}catch(e){}}delete FB.UIServer._loadedNodes[a.frame];delete FB.UIServer._defaultCb[a.frame];b(a);},_xdResult:function(a,b,c,d){return(FB.UIServer._xdNextHandler(function(e){a&&a(e.result&&e.result!=FB.UIServer._resultToken&&ES5('JSON','parse',false,e.result));},b,c,d)+'&result='+encodeURIComponent(FB.UIServer._resultToken));},xdHandler:function(a,b,c,d,e){return FB.UIServer._xdNextHandler(FB.Auth.xdResponseWrapper(a,d,e),b,c,true);}});__d("sdk.ui",["FB"],function(a,b,c,d,e,f){var g=b('FB');e.exports=g.ui;});__d("legacy:fb.auth",["sdk.Auth","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.ui","SDKConfig"],function(a,b,c,d){var e=b('sdk.Auth'),f=b('copyProperties'),g=b('sdk.Event'),h=b('FB'),i=b('Log'),j=b('sdk.Runtime'),k=c('SDKConfig'),l=b('sdk.ui'),m;h.provide('',{getLoginStatus:function(n,o){if(!j.getClientID()){i.warn('FB.getLoginStatus() called before calling FB.init().');return;}if(n)if(!o&&m=='loaded'){n({status:j.getLoginStatus(),authResponse:h.getAuthResponse()});return;}else g.subscribe('FB.loginStatus',n);if(!o&&m=='loading')return;m='loading';var p=function(q){m='loaded';g.fire('FB.loginStatus',q);g.clear('FB.loginStatus');};e.fetchLoginStatus(p);},getAuthResponse:function(){return e.getAuthResponse();},getAccessToken:function(){return j.getAccessToken()||null;},getUserID:function(){return j.getUserID();},login:function(n,o){if(o&&o.perms&&!o.scope){o.scope=o.perms;delete o.perms;i.warn('OAuth2 specification states that \'perms\' '+'should now be called \'scope\'.  Please update.');}l(f({method:'permissions.oauth',display:j.isEnvironment(j.ENVIRONMENTS.CANVAS)&&k.useAsync?'async':'popup',domain:location.hostname},o||{}),n);},logout:function(n){l({method:'auth.logout',display:'hidden'},n);}});h.provide('Auth',e);e.subscribe('logout',ES5(g.fire,'bind',true,g,'auth.logout'));e.subscribe('login',ES5(g.fire,'bind',true,g,'auth.login'));e.subscribe('authresponse.change',ES5(g.fire,'bind',true,g,'auth.authResponseChange'));e.subscribe('status.change',ES5(g.fire,'bind',true,g,'auth.statusChange'));},3);__d("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(a,b,c,d,e,f){var g=b('sdk.api'),h=b('createArrayFrom'),i=c('CanvasPrefetcherConfig'),j=b('sdk.Runtime'),k={AUTOMATIC:0,MANUAL:1},l=i.sampleRate,m=i.blacklist,n=k.AUTOMATIC,o=[];function p(){var u={object:'data',link:'href',script:'src'};if(n==k.AUTOMATIC)ES5(ES5('Object','keys',false,u),'forEach',true,function(v){var w=u[v];ES5(h(document.getElementsByTagName(v)),'forEach',true,function(x){if(x[w])o.push(x[w]);});});if(o.length===0)return;g(j.getClientID()+'/staticresources','post',{urls:ES5('JSON','stringify',false,o),is_https:location.protocol==='https:'});o=[];}function q(){if(!j.isEnvironment(j.ENVIRONMENTS.CANVAS)||!j.getClientID()||!l)return;if(Math.random()>1/l||m=='*'||~ES5(m,'indexOf',true,j.getClientID()))return;setTimeout(p,30000);}function r(u){n=u;}function s(u){o.push(u);}var t={COLLECT_AUTOMATIC:k.AUTOMATIC,COLLECT_MANUAL:k.MANUAL,addStaticResource:s,setCollectionMode:r,_maybeSample:q};e.exports=t;});__d("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Canvas.Prefetcher');e.provide('Canvas.Prefetcher',f);},3);FB.provide('UIServer.MobileIframableMethod',{transform:function(a){if(a.params.display==='touch'&&a.params.access_token&&window.postMessage){a.params.channel=FB.UIServer._xdChannelHandler(a.id,'parent');if(!FB.UA.nativeApp())a.params.in_iframe=1;return a;}else return FB.UIServer.genericTransform(a);},getXdRelation:function(a){var b=a.display;if(b==='touch'&&window.postMessage&&a.in_iframe)return'parent';return FB.UIServer.getXdRelation(a);}});FB.provide('UIServer.Methods',{'stream.share':{size:{width:670,height:340},url:'sharer.php',transform:function(a){if(!a.params.u)a.params.u=window.location.toString();a.params.display='popup';return a;}},'fbml.dialog':{size:{width:575,height:300},url:'render_fbml.php',loggedOutIframe:true,transform:function(a){return a;}},'auth.logintofacebook':{size:{width:530,height:287},url:'login.php',transform:function(a){a.params.skip_api_login=1;var b=FB.UIServer.getXdRelation(a.params),c=FB.UIServer._xdResult(a.cb,a.id,b,true);a.params.next=FB.getDomain(FB.Runtime.getSecure()?'https_www':'www')+"login.php?"+FB.QS.encode({api_key:FB._apiKey,next:c,skip_api_login:1});return a;}},apprequests:{transform:function(a){a=FB.UIServer.MobileIframableMethod.transform(a);a.params.frictionless=FB.Frictionless&&FB.Frictionless._useFrictionless;if(a.params.frictionless){if(FB.Frictionless.isAllowed(a.params.to)){a.params.display='iframe';a.params.in_iframe=true;a.hideLoader=true;}a.cb=FB.Frictionless._processRequestResponse(a.cb,a.hideLoader);}return a;},getXdRelation:function(a){return FB.UIServer.MobileIframableMethod.getXdRelation(a);}},feed:FB.UIServer.MobileIframableMethod,'permissions.oauth':{url:'dialog/oauth',size:{width:(FB.UA.mobile()?null:627),height:(FB.UA.mobile()?null:326)},transform:function(a){if(!FB._apiKey){FB.log('FB.login() called before FB.init().');return;}if(FB.getAuthResponse()&&!a.params.scope){FB.log('FB.login() called when user is already connected.');a.cb&&a.cb({status:FB.Runtime.getLoginStatus(),authResponse:FB.getAuthResponse()});return;}var b=a.cb,c=a.id;delete a.cb;if(a.params.display==='async'){FB.copy(a.params,{client_id:FB._apiKey,origin:FB._getContextType(),response_type:'token,signed_request',domain:location.hostname});a.cb=FB.Auth.xdResponseWrapper(b,FB.getAuthResponse(),'permissions.oauth');}else FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.URI.resolve(FB.UIServer.xdHandler(b,c,'opener',FB.getAuthResponse(),'permissions.oauth')),origin:FB._getContextType(),response_type:'token,signed_request',domain:location.hostname});return a;}},'auth.logout':{url:'logout.php',transform:function(a){if(!FB._apiKey){FB.log('FB.logout() called before calling FB.init().');}else if(!FB.getAuthResponse()){FB.log('FB.logout() called without an access token.');}else{a.params.next=FB.UIServer.xdHandler(a.cb,a.id,'parent',FB.getAuthResponse(),'logout');return a;}}},'login.status':{url:'dialog/oauth',transform:function(a){var b=a.cb,c=a.id;delete a.cb;FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.UIServer.xdHandler(b,c,'parent',FB.getAuthResponse(),'login_status'),origin:FB._getContextType(),response_type:'token,signed_request,code',domain:location.hostname});return a;}}});FB.provide('',{share:function(a){FB.log('FB.share() has been deprecated. Please use FB.ui() instead.');FB.ui({display:'popup',method:'stream.share',u:a});},publish:function(a,b){FB.log('FB.publish() has been deprecated. Please use FB.ui() instead.');a=a||{};FB.ui(FB.copy({display:'popup',method:'stream.publish',preview:1},a||{}),b);},addFriend:function(a,b){FB.log('FB.addFriend() has been deprecated. Please use FB.ui() instead.');FB.ui({display:'popup',id:a,method:'friend.add'},b);}});FB.UIServer.Methods['auth.login']=FB.UIServer.Methods['permissions.request'];__d("resolveURI",[],function(a,b,c,d,e,f){function g(h){if(!h)return window.location.href;var i=document.createElement('div');i.innerHTML='<a href="'+h.replace(/"/g,'&quot;')+'"></a>';return i.firstChild.href;}e.exports=g;});__d("legacy:fb.uri",["FB","resolveURI"],function(a,b,c,d){var e=b('FB'),f=b('resolveURI');e.provide('URI',{resolve:f});},3);__d("PluginTags",[],function(a,b,c,d,e,f){var g={privacy_selector:{},send_to_mobile:{max_rows:'string',show_faces:'bool',size:'string'},shared_activity:{header:'bool'},subscribe:{href:'url',layout:'string',show_faces:'bool'},want:{href:'url',layout:'string',show_faces:'bool'}};e.exports=g;});__d("legacy:fb.xfbml.iframeplugintags",["FB","PluginTags"],function(a,b,c,d){var e=b('FB'),f=b('PluginTags');e.create('XFBML.IframePluginTags',f);},3);FB.provide('XFBML',{_renderTimeout:30000,_widgetPipeThreshold:0,getElements:function(a,b,c){var d=FB.XFBML._getDomElements(a,b,c),e=FB.Dom.getByClass(b+'-'+c,a,'div');d=FB.Array.toArray(d);e=FB.Array.toArray(e);e=ES5(e,'filter',true,function(f){return!f.hasChildNodes()||(f.childNodes.length===1&&f.childNodes[0].nodeType===3);});return FB.Array.merge(d,e);},parse:function(a,b){a=a||document.body;var c=1,d=function(){c--;if(c===0){b&&b();FB.Event.fire('xfbml.render');}},e={};if(FB.XFBML._widgetPipeIsEnabled())ES5(FB.XFBML._tagInfos,'forEach',true,function(f){if(f.supportsWidgetPipe){var g=f.xmlns?f.xmlns:'fb',h=FB.XFBML.getElements(a,g,f.localName);e[f.localName]=h;FB.XFBML._widgetPipeEnabledTagCount+=h.length;}});ES5(FB.XFBML._tagInfos,'forEach',true,function(f){if(!f.xmlns)f.xmlns='fb';var g;if(e[f.localName]!==undefined){g=e[f.localName];}else g=FB.XFBML.getElements(a,f.xmlns,f.localName);for(var h=0;h<g.length;h++){c++;FB.XFBML._processElement(g[h],f,d);}});FB.Event.fire('xfbml.parse');window.setTimeout(function(){if(c>0)FB.log(c+' XFBML tags failed to render in '+FB.XFBML._renderTimeout+'ms.');},FB.XFBML._renderTimeout);d();},registerTag:function(a){FB.XFBML._tagInfos.push(a);},shouldUseWidgetPipe:function(){if(!FB.XFBML._widgetPipeIsEnabled())return false;var a=FB.XFBML._widgetPipeEnabledTagCount>this._widgetPipeThreshold;return a;},getBoolAttr:function(a,b){b=FB.XFBML.getAttr(a,b);return(b&&ES5(['true','1','yes','on'],'indexOf',true,b.toLowerCase())>-1);},getAttr:function(a,b){return(a.getAttribute(b)||a.getAttribute(b.replace(/_/g,'-'))||a.getAttribute(b.replace(/-/g,'_'))||a.getAttribute(b.replace(/-/g,''))||a.getAttribute(b.replace(/_/g,''))||a.getAttribute('data-'+b)||a.getAttribute('data-'+b.replace(/_/g,'-'))||a.getAttribute('data-'+b.replace(/-/g,'_'))||a.getAttribute('data-'+b.replace(/-/g,''))||a.getAttribute('data-'+b.replace(/_/g,''))||null);},_processElement:function(a,b,c){var d=a._element;if(d){d.subscribe('render',c);d.process();}else{var e=b.localName.replace(/-/g,'_'),f=function(){var g=FB.XFBML.IframePluginTags[e]?FB.XFBML.IframePlugin:FB.dotAccess(FB,b.className.replace(/^FB\./,''));d=a._element=new g(a,b.xmlns,e);d.subscribe('render',c);d.process();};if(FB.XFBML.IframePluginTags[e]||FB.CLASSES[b.className.substr(3)]){f();}else FB.log('Tag '+b.className+' was not found.');}},_getDomElements:function(a,b,c){var d=b+':'+c;if(FB.UA.firefox()){return a.getElementsByTagNameNS(document.body.namespaceURI,d);}else if(FB.UA.ie()<9){try{var f=document.namespaces;if(f&&f[b]){var g=a.getElementsByTagName(c);if(!document.addEventListener||g.length>0)return g;}}catch(e){}return a.getElementsByTagName(d);}else return a.getElementsByTagName(d);},_tagInfos:[{localName:'activity',className:'FB.XFBML.Activity'},{localName:'shared-activity',className:'FB.XFBML.SharedActivity'},{localName:'add-profile-tab',className:'FB.XFBML.AddProfileTab'},{localName:'add-to-timeline',className:'FB.XFBML.AddToTimeline'},{localName:'bookmark',className:'FB.XFBML.Bookmark'},{localName:'comments',className:'FB.XFBML.Comments'},{localName:'comments-count',className:'FB.XFBML.CommentsCount'},{localName:'connect-bar',className:'FB.XFBML.ConnectBar'},{localName:'create-event-button',className:'FB.XFBML.CreateEventButton'},{localName:'fan',className:'FB.XFBML.Fan'},{localName:'like',className:'FB.XFBML.Like'},{localName:'like-box',className:'FB.XFBML.LikeBox'},{localName:'live-stream',className:'FB.XFBML.LiveStream'},{localName:'login',className:'FB.XFBML.Login'},{localName:'login-button',className:'FB.XFBML.LoginButton'},{localName:'facepile',className:'FB.XFBML.Facepile'},{localName:'friendpile',className:'FB.XFBML.Friendpile'},{localName:'name',className:'FB.XFBML.Name'},{localName:'page-events',className:'FB.XFBML.PageEvents'},{localName:'privacy-selector'},{localName:'profile-pic',className:'FB.XFBML.ProfilePic'},{localName:'recommendations',className:'FB.XFBML.Recommendations'},{localName:'recommendations-bar',className:'FB.XFBML.RecommendationsBar'},{localName:'rectangle',className:'FB.XFBML.Rectangle',supportsWidgetPipe:true},{localName:'registration',className:'FB.XFBML.Registration'},{localName:'send',className:'FB.XFBML.Send'},{localName:'send-to-mobile'},{localName:'share-button',className:'FB.XFBML.ShareButton'},{localName:'social-context',className:'FB.XFBML.SocialContext'},{localName:'subscribe'},{localName:'want'}],_widgetPipeEnabledTagCount:0,_widgetPipeIsEnabled:function(){return FB.widgetPipeEnabledApps&&FB.widgetPipeEnabledApps[FB._apiKey]!==undefined;}});(function(){try{if(document.namespaces&&!document.namespaces.item.fb)document.namespaces.add('fb');}catch(a){}}());__d("runOnce",[],function(a,b,c,d,e,f){function g(h){var i,j;return function(){if(!i){i=true;j=h();}return j;};}e.exports=g;});__d("XFBML",["Assert","FB","Log","ObservableMixin","copyProperties","createArrayFrom","dotAccess","runOnce"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('FB'),i=b('Log'),j=b('ObservableMixin'),k=b('copyProperties'),l=b('createArrayFrom'),m=b('dotAccess'),n=b('runOnce'),o={},p={},q=0,r=new j();function s(x){return x.scopeName?(x.scopeName+':'+x.nodeName):'';}function t(x){return o[x.nodeName.toLowerCase()]||o[s(x).toLowerCase()];}function u(x){var y=ES5(ES5((x.className+''),'trim',true).split(/\s+/),'filter',true,function(z){return p[z];});if(y.length===0)return undefined;if(!x.childNodes||x.childNodes.length===0||(x.childNodes.length==1&&x.childNodes[0].nodeType==3)||x.getAttribute('fb-xfbml-state'))return p[y[0]];}function v(x){var y={};ES5(l(x.attributes),'forEach',true,function(z){y[z.name]=z.value;});return y;}function w(x,y,z){g.isTrue(x.nodeType&&x.nodeType===1);g.isTrue(!!x.getElementsByTagName);g.isFunction(y);var aa=++q;i.info('XFBML Parsing Start %s',aa);var ba=1,ca=0,da=function(){ba--;if(ba===0){i.info('XFBML Parsing Finish %s, %s tags found',aa,ca);y();r.inform('render',aa,ca);}g.isTrue(ba>=0,'onrender() has been called too many times');};ES5(l(x.getElementsByTagName('*')),'forEach',true,function(fa){if(!z&&fa.getAttribute('fb-xfbml-state'))return;var ga=t(fa)||u(fa);if(!ga)return;ba++;ca++;var ha=ga.ctor||m(h,ga.className.substr(3)),ia=new ha(fa,ga.xmlns,ga.localName,v(fa));ia.subscribe('render',n(function(){fa.setAttribute('fb-xfbml-state','rendered');da();}));var ja=function(){if(fa.getAttribute('fb-xfbml-state')=='parsed'){r.subscribe('render.queue',ja);}else{fa.setAttribute('fb-xfbml-state','parsed');ia.process();}};ja();});r.inform('parse',aa,ca);var ea=30000;window.setTimeout(function(){if(ba>0)i.warn('%s tags failed to render in %s ms',ba,ea);},ea);da();}r.subscribe('render',function(){var x=r.getSubscribers('render.queue');r.clearSubscribers('render.queue');ES5(x,'forEach',true,function(y){y();});});k(r,{registerTag:function(x){o[x.xmlns+':'+x.localName]=x;p[x.xmlns+'-'+x.localName]=x;},parse:function(x,y){w(x||document.body,y||function(){},true);},parseNew:function(){w(document.body,function(){},false);}});e.exports=r;});__d("PluginCustomClass",[],function(a,b,c,d,e,f){var g=['activity','add-profile-tab','add-to-timeline','bookmark','comments','comments-count','connect-bar','fan','like','like-box','login','login-button','facepile','friendpile','name','page-events','profile-pic','recommendations','recommendations-bar','registration','send','share-button','social-context'];e.exports=g;});__d("RegisterTags",["XFBML","PluginCustomClass","PluginTags"],function(a,b,c,d,e,f){var g=b('XFBML'),h=b('PluginCustomClass'),i=b('PluginTags');function j(k){return k.length>0?k.charAt(0).toUpperCase()+k.substr(1):'';}ES5(ES5('Object','keys',false,i),'forEach',true,function(k){g.registerTag({xmlns:'fb',localName:k.replace(/_/g,'-'),className:'FB.XFBML.IframePlugin'});});ES5(h,'forEach',true,function(k){g.registerTag({xmlns:'fb',localName:k,className:'FB.XFBML.'+ES5(k.split('-'),'map',true,j).join('')});});});FB.Class('XFBML.IframePlugin',function(a,b,c){c=c.replace(/-/g,'_');function d(n){return function(o){var p=a.getElementsByTagName(n)[0];o.height&&(p.style.height=o.height+'px');o.width&&(p.style.width=o.width+'px');var q=a.getElementsByTagName('span')[0],r=a.getElementsByTagName('iframe')[0],s=r.style.height===q.style.height&&r.style.width===q.style.width,t=s?'removeCss':'addCss';FB.Dom[t](r,'fb_iframe_widget_lift');};}function e(n){FB.Event.fire('xfbml.resize',{width:n.width,height:n.height,pluginID:FB.XFBML.getAttr(a,'plugin-id')});}var f={string:function(n){return n;},bool:function(n){return(/^(?:true|1|yes|on)$/i).test(n);},url:function(n){return FB.URI.resolve(n);},px:function(n){return(/^(\d+)(?:px)?$/).test(n)?parseInt(RegExp.$1,10):undefined;}};function g(n,o){ES5(ES5('Object','keys',false,n),'forEach',true,function(p){var q=f[n[p]];o[p]=q(FB.XFBML.getAttr(a,p));});}var h={skin:'string',font:'string',width:'px',height:'px',ref:'string',color_scheme:'string'};FB.Dom.addCss(a,'fb_iframe_widget');this.subscribe('xd.resize',d('span'));this.subscribe('xd.resize',d('iframe'));this.subscribe('xd.resize',e);this.subscribe('xd.resize.flow',d('span'));this.subscribe('xd.resize.iframe',d('iframe'));this.subscribe('xd.resize.flow',e);var i=FB.getDomain('www')+'plugins/'+c+'?',j={};g(FB.XFBML.IframePluginTags[c],j);g(h,j);j.app_id=FB._apiKey;j.locale=FB._locale;j.sdk='joey';var k=ES5(function(n){this.fire('xd.'+n.type,n);},'bind',true,this);j.channel=FB.XD.handler(k,'parent.parent',true);var l=FB.guid();this.subscribe('xd.verify',function(n){FB.XD.sendToFacebook(l,{method:'xd/verify',params:ES5('JSON','stringify',false,n.token),behavior:FB.Arbiter.BEHAVIOR_PERSISTENT});});var m={url:i+FB.QS.encode(j),name:l,onload:ES5(this.fire,'bind',true,this,'render'),width:j.width||400,height:j.height||400};this.process=function(){a.innerHTML='';var n=document.createElement('span');n.style.cssText='width: 0px; height: 0px';m.root=a.appendChild(n);FB.Content.insertIframe(m);};},FB.copy({},FB.EventProvider));ES5(ES5('Object','keys',false,FB.XFBML.IframePluginTags),'forEach',true,function(a){FB.XFBML.registerTag({xmlns:'fb',localName:a.replace(/_/g,'-'),className:'FB.XFBML.IframePlugin'});});__d("legacy:fb.xfbml",["FB","Log","RegisterTags","XFBML","SDKConfig"],function(a,b,c,d){var e=b('FB'),f=b('Log'),g=b('RegisterTags'),h=c('SDKConfig'),i=b('XFBML');if(!h.xfbmlUseLegacy){f.info('Using new XFBML implementation');(function(){})(g);e.provide('XFBML',i);i.subscribe('parse',ES5(e.Event.fire,'bind',true,e.Event,'xfbml.parse'));i.subscribe('render',ES5(e.Event.fire,'bind',true,e.Event,'xfbml.render'));}},3);FB.provide('XFBML',{set:function(a,b,c){FB.log('FB.XFBML.set() has been deprecated.');a.innerHTML=b;FB.XFBML.parse(a,c);}});FB.Class('XFBML.Element',function(a,b,c){this.dom=a;},FB.copy({getAttribute:function(a,b,c){var d=FB.XFBML.getAttr(this.dom,a);return d?(c?c(d):d):b;},_getBoolAttribute:function(a,b){if(FB.XFBML.getAttr(this.dom,a)===null)return b;return FB.XFBML.getBoolAttr(this.dom,a);},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(c){var d=parseInt(c.replace('px',''),10);if(isNaN(d)){return b;}else return d;});},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(d){d=d.toLowerCase();if(ES5(c,'indexOf',true,d)>-1){return d;}else return b;});},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==document.body)return true;},clear:function(){this.dom.innerHTML='';}},FB.EventProvider));FB.subclass('XFBML.IframeWidget','XFBML.Element',null,{_iframeName:null,_showLoader:true,_refreshOnAuthChange:false,_allowReProcess:false,_fetchPreCachedLoader:false,_visibleAfter:'load',_widgetPipeEnabled:false,_borderReset:false,getUrlBits:function(){throw new Error('Inheriting class needs to implement getUrlBits().');},setupAndValidate:function(){return true;},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){if(this._widgetPipeEnabled&&FB.XFBML.shouldUseWidgetPipe()){this._iframeName=this.generateWidgetPipeIframeName();FB.XFBML.IframeWidget.allWidgetPipeIframes[this._iframeName]=this;if(FB.XFBML.IframeWidget.masterWidgetPipeIframe===null)FB.XFBML.IframeWidget.masterWidgetPipeIframe=this;}return this._iframeName;},getIframeTitle:function(){},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=FB.XD.handler(function(b){a.fire('xd.'+b.type,b);},'parent.parent',true);}return this._channelUrl;},getIframeNode:function(){return this.dom.getElementsByTagName('iframe')[0];},arbiterInform:function(event,a,b){FB.XD.sendToFacebook(this.getIframeName(),{method:event,params:ES5('JSON','stringify',false,a||{}),behavior:b||FB.Arbiter.BEHAVIOR_PERSISTENT});},_arbiterInform:function(event,a,b){var c='parent.frames["'+this.getIframeNode().name+'"]';FB.Arbiter.inform(event,a,c,b);},getDefaultWebDomain:function(){return'www';},getDefaultStaticDomain:function(){return'cdn';},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear();}else this._oneTimeSetup();this._done=true;this._iframeName=this.getIframeName()||this._iframeName||FB.guid();if(!this.setupAndValidate()){this.fire('render');return;}if(this._showLoader)this._addLoader();FB.Dom.addCss(this.dom,'fb_iframe_widget');if(this._visibleAfter!='immediate'){FB.Dom.addCss(this.dom,'fb_hide_iframes');}else this.subscribe('iframe.onload',ES5(this.fire,'bind',true,this,'render'));var b=this.getSize()||{},c=this.getFullyQualifiedURL();if(b.width=='100%')FB.Dom.addCss(this.dom,'fb_iframe_widget_fluid');this.clear();FB.Content.insertIframe({url:c,root:this.dom.appendChild(document.createElement('span')),name:this._iframeName,title:this.getIframeTitle(),className:FB._localeIsRtl?'fb_rtl':'fb_ltr',height:b.height,width:b.width,onload:ES5(this.fire,'bind',true,this,'iframe.onload')});this._resizeFlow(b);this.loaded=false;this.subscribe('iframe.onload',ES5(function(){this.loaded=true;},'bind',true,this));},generateWidgetPipeIframeName:function(){FB.XFBML.IframeWidget.widgetPipeIframeCount++;return'fb_iframe_'+FB.XFBML.IframeWidget.widgetPipeIframeCount;},getFullyQualifiedURL:function(){if(FB.XFBML.shouldUseWidgetPipe()&&this._widgetPipeEnabled)return this._getWidgetPipeShell();var a=this._getURL();if(!this._fetchPreCachedLoader)a+='?'+FB.QS.encode(this._getQS());if(a.length>2000){a='about:blank';var b=ES5(function(){this._postRequest();this.unsubscribe('iframe.onload',b);},'bind',true,this);this.subscribe('iframe.onload',b);}return a;},_getWidgetPipeShell:function(){return FB.getDomain('www')+'common/widget_pipe_shell.php';},_oneTimeSetup:function(){this.subscribe('xd.resize',ES5(this._handleResizeMsg,'bind',true,this));this.subscribe('xd.resize',ES5(this._bubbleResizeEvent,'bind',true,this));this.subscribe('xd.resize.iframe',ES5(this._resizeIframe,'bind',true,this));this.subscribe('xd.resize.flow',ES5(this._resizeFlow,'bind',true,this));this.subscribe('xd.resize.flow',ES5(this._bubbleResizeEvent,'bind',true,this));if(FB.getLoginStatus){this.subscribe('xd.refreshLoginStatus',ES5(FB.getLoginStatus,'bind',true,FB,function(){},true));this.subscribe('xd.logout',ES5(FB.logout,'bind',true,FB,function(){}));}if(this._refreshOnAuthChange)this._setupAuthRefresh();if(this._visibleAfter=='load')this.subscribe('iframe.onload',ES5(this._makeVisible,'bind',true,this));this.subscribe('xd.verify',ES5(function(a){this.arbiterInform('xd/verify',a.token);},'bind',true,this));this.oneTimeSetup();},_makeVisible:function(){this._removeLoader();FB.Dom.removeCss(this.dom,'fb_hide_iframes');this.fire('render');},_setupAuthRefresh:function(){FB.getLoginStatus(ES5(function(a){var b=a.status;FB.Event.subscribe('auth.statusChange',ES5(function(c){if(!this.isValid())return;if(b=='unknown'||c.status=='unknown')this.process(true);b=c.status;},'bind',true,this));},'bind',true,this));},_handleResizeMsg:function(a){if(!this.isValid())return;this._resizeIframe(a);this._resizeFlow(a);if(!this._borderReset){this.getIframeNode().style.border='none';this._borderReset=true;}this._makeVisible();},_bubbleResizeEvent:function(a){var b={height:a.height,width:a.width,pluginID:this.getAttribute('plugin-id')};FB.Event.fire('xfbml.resize',b);},_resizeIframe:function(a){var b=this.getIframeNode();a.height&&(b.style.height=a.height+'px');a.width&&(b.style.width=a.width+'px');this._updateIframeZIndex();},_resizeFlow:function(a){var b=this.dom.getElementsByTagName('span')[0];a.height&&(b.style.height=a.height+'px');a.width&&(b.style.width=a.width+'px');this._updateIframeZIndex();},_updateIframeZIndex:function(){var a=this.dom.getElementsByTagName('span')[0],b=this.getIframeNode(),c=b.style.height===a.style.height&&b.style.width===a.style.width,d=c?'removeCss':'addCss';FB.Dom[d](b,'fb_iframe_widget_lift');},_addLoader:function(){if(!this._loaderDiv){FB.Dom.addCss(this.dom,'fb_iframe_widget_loader');this._loaderDiv=document.createElement('div');this._loaderDiv.className='FB_Loader';this.dom.appendChild(this._loaderDiv);}},_removeLoader:function(){if(this._loaderDiv){FB.Dom.removeCss(this.dom,'fb_iframe_widget_loader');if(this._loaderDiv.parentNode)this._loaderDiv.parentNode.removeChild(this._loaderDiv);this._loaderDiv=null;}},_getQS:function(){return FB.copy({api_key:FB._apiKey,locale:FB._locale,sdk:'joey',ref:this.getAttribute('ref')},this.getUrlBits().params);},_getURL:function(){var a=this.getDefaultWebDomain(),b='';if(this._fetchPreCachedLoader){a=this.getDefaultStaticDomain();b='static/';}return FB.getDomain(a)+'plugins/'+b+this.getUrlBits().name+'.php';},_postRequest:function(){FB.Content.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()});}});FB.provide('XFBML.IframeWidget',{widgetPipeIframeCount:0,masterWidgetPipeIframe:null,allWidgetPipeIframes:{},batchWidgetPipeRequests:function(){if(!FB.XFBML.IframeWidget.masterWidgetPipeIframe)return;var a=FB.XFBML.IframeWidget._groupWidgetPipeDescriptions(),b={widget_pipe:ES5('JSON','stringify',false,a),href:window.location,site:location.hostname,channel:FB.XFBML.IframeWidget.masterWidgetPipeIframe.getChannelUrl(),api_key:FB._apiKey,locale:FB._locale,sdk:'joey'},c=FB.guid(),d=FB.XFBML.IframeWidget.masterWidgetPipeIframe.dom,e=d.appendChild(document.createElement('span'));FB.Content.insertIframe({url:'about:blank',root:e,name:c,className:'fb_hidden fb_invisible',onload:function(){FB.Content.submitToTarget({url:FB._domain.www+'plugins/pipe/',target:c,params:b},1);}});},_groupWidgetPipeDescriptions:function(){var a={};for(var b in FB.XFBML.IframeWidget.allWidgetPipeIframes){var c=FB.XFBML.IframeWidget.allWidgetPipeIframes[b],d={widget:c.getUrlBits().name,params:c._getQS()};a[b]=d;}return a;}});FB.Event.subscribe('xfbml.parse',function(){FB.XFBML.IframeWidget.batchWidgetPipeRequests();});FB.subclass('XFBML.CreateEventButton','XFBML.IframeWidget',null,{setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute('font'),colorscheme:this.getAttribute('colorscheme'),href:this.getAttribute('href'),ref:this.getAttribute('ref')};return true;},getUrlBits:function(){return{name:'create_event_button',params:this._attr};}});FB.provide('String',{format:function(a){if(!FB.String.format._formatRE)FB.String.format._formatRE=/(\{[^\}^\{]+\})/g;var b=arguments;return a.replace(FB.String.format._formatRE,function(c,d){var e=parseInt(d.substr(1),10),f=b[e+1];if(f===null||f===undefined)return'';return f.toString();});},escapeHTML:function(a){var b=document.createElement('div');b.appendChild(document.createTextNode(a));return b.innerHTML.replace(/"/g,'&quot;').replace(/'/g,'&#39;');},quote:function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};return b.test(a)?'"'+a.replace(b,function(d){var e=c[d];if(e)return e;e=d.charCodeAt();return'\\u00'+Math.floor(e/16).toString(16)+(e%16).toString(16);})+'"':'"'+a+'"';}});FB.subclass('Waitable','Obj',function(){},{set:function(a){this.setProperty('value',a);},error:function(a){this.fire("error",a);},wait:function(a,b){if(b)this.subscribe('error',FB.unguard(b));this.monitor('value',ES5(this,'bind',true,function(){if(this.value!==undefined){FB.unguard(a)(this.value);return true;}}));}});FB.subclass('Data.Query','Waitable',function(){if(!FB.Data.Query._c)FB.Data.Query._c=1;this.name='v_'+FB.Data.Query._c++;},{hasDependency:function(a){if(arguments.length)this._hasDependency=a;return this._hasDependency;},parse:function(a){var b=FB.String.format.apply(null,a),c=(/^select (.*?) from (\w+)\s+where (.*)$/i).exec(b);this.fields=this._toFields(c[1]);this.table=c[2];this.where=this._parseWhere(c[3]);for(var d=1;d<a.length;d++)if(FB.Type.isType(a[d],FB.Data.Query))a[d].hasDependency(true);return this;},toFql:function(){var a='select '+this.fields.join(',')+' from '+this.table+' where ';switch(this.where.type){case'unknown':a+=this.where.value;break;case'index':a+=this.where.key+'='+this._encode(this.where.value);break;case'in':if(this.where.value.length==1){a+=this.where.key+'='+this._encode(this.where.value[0]);}else a+=this.where.key+' in ('+ES5(this.where.value,'map',true,this._encode).join(',')+')';break;}return a;},_encode:function(a){return typeof(a)=='string'?FB.String.quote(a):a;},toString:function(){return'#'+this.name;},_toFields:function(a){return ES5(a.split(','),'map',true,function(b){return ES5(b,'trim',true);});},_parseWhere:function(s){var re=(/^\s*(\w+)\s*=\s*(.*)\s*$/i).exec(s),result,value,type='unknown';if(re){value=re[2];if(/^(["'])(?:\\?.)*?\1$/.test(value)){value=eval(value);type='index';}else if(/^\d+\.?\d*$/.test(value))type='index';}if(type=='index'){result={type:'index',key:re[1],value:value};}else result={type:'unknown',value:s};return result;}});FB.provide('Data',{query:function(a,b){var c=new FB.Data.Query().parse(arguments);FB.Data.queue.push(c);FB.Data._waitToProcess();return c;},waitOn:function(a,b){var c=new FB.Waitable(),d=a.length;if(typeof(b)=='string'){var e=b;b=function(f){return FB.safeEval(e);};}ES5(a,'forEach',true,function(f){f.monitor('value',function(){var g=false;if(FB.Data._getValue(f)!==undefined){d--;g=true;}if(d===0){var h=b(ES5(a,'map',true,FB.Data._getValue));c.set(h!==undefined?h:true);}return g;});});return c;},process:function(a){FB.Data._process(a);},_getValue:function(a){return FB.Type.isType(a,FB.Waitable)?a.value:a;},_selectByIndex:function(a,b,c,d){var e=new FB.Data.Query();e.fields=a;e.table=b;e.where={type:'index',key:c,value:d};FB.Data.queue.push(e);FB.Data._waitToProcess();return e;},_waitToProcess:function(){if(FB.Data.timer<0)FB.Data.timer=setTimeout(function(){FB.Data._process();},10);},_process:function(a){FB.Data.timer=-1;var b={},c=FB.Data.queue;if(!c.length)return;FB.Data.queue=[];for(var d=0;d<c.length;d++){var e=c[d];if(e.where.type=='index'&&!e.hasDependency()){FB.Data._mergeIndexQuery(e,b);}else b[e.name]=e;}var f={q:{}};FB.copy(f.q,b,true,function(g){return g.toFql();});if(a)f.access_token=a;FB.api('/fql','GET',f,function(g){if(g.error){ES5(ES5('Object','keys',false,b),'forEach',true,function(h){b[h].error(new Error(g.error.message));});}else ES5(g.data,'forEach',true,function(h){b[h.name].set(h.fql_result_set);});});},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e='index_'+a.table+'_'+c,f=b[e];if(!f){f=b[e]=new FB.Data.Query();f.fields=[c];f.table=a.table;f.where={type:'in',key:c,value:[]};}FB.Array.merge(f.fields,a.fields);FB.Array.merge(f.where.value,[d]);f.wait(function(g){a.set(ES5(g,'filter',true,function(h){return h[c]==d;}));});},timer:-1,queue:[]});FB.provide('Frictionless',{_allowedRecipients:{},_useFrictionless:false,_updateRecipients:function(){FB.Frictionless._allowedRecipients={};FB.api('/me/apprequestformerrecipients',function(a){if(!a||a.error)return;ES5(a.data,'forEach',true,function(b){FB.Frictionless._allowedRecipients[b.recipient_id]=true;},false);});},init:function(){FB.Frictionless._useFrictionless=true;FB.getLoginStatus(function(a){if(a.status=='connected')FB.Frictionless._updateRecipients();});FB.Event.subscribe('auth.login',function(a){if(a.authResponse)FB.Frictionless._updateRecipients();});},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;if(FB.Frictionless._useFrictionless&&d)FB.Frictionless._updateRecipients();if(c){if(!b&&c.frictionless){FB.Dialog._hideLoader();FB.Dialog._restoreBodyPosition();FB.Dialog._hideIPadOverlay();}delete c.frictionless;delete c.updated_frictionless;}a&&a(c);};},isAllowed:function(a){if(!a)return false;if(typeof a==='number')return FB.Frictionless._allowedRecipients[a];if(typeof a==='string')a=a.split(',');a=ES5(a,'map',true,function(d){return ES5(d,'trim',true);});var b=true,c=false;ES5(a,'forEach',true,function(d){b=b&&FB.Frictionless._allowedRecipients[d];c=true;},false);return b&&c;}});__d("sdk.Frictionless",["FB"],function(a,b,c,d,e,f){var g=b('FB');e.exports=g.Frictionless;});__d("legacy:fb.init",["sdk.Auth","sdk.Canvas","sdk.Canvas.Prefetcher","sdk.Cookie","copyProperties","DOMWrapper","sdk.domReady","sdk.Event","FB","sdk.Frictionless","Log","sdk.Runtime","sdk.SignedRequest","UserAgent","sdk.XD"],function(a,b,c,d){var e=b('sdk.Auth'),f=b('sdk.Canvas'),g=b('sdk.Canvas.Prefetcher'),h=b('sdk.Cookie'),i=b('copyProperties'),j=b('DOMWrapper'),k=b('sdk.domReady'),l=b('sdk.Event'),m=b('FB'),n=b('sdk.Frictionless'),o=b('Log'),p=b('sdk.Runtime'),q=b('sdk.SignedRequest'),r=b('UserAgent'),s=b('sdk.XD'),t=document.createElement('div');j.setRoot(t);k(function(){o.info('domReady');m.Content.appendHidden(t);});p.subscribe('AccessToken.change',function(u){if(!u&&p.getLoginStatus()==='connected')m.getLoginStatus(null,true);});p.subscribe('ClientID.change',function(u){m._apiKey=u;});o.level=1;m.provide('',{initSitevars:{},init:function(u){if(p.getInitialized())o.warn('FB.init has already been called - this could indicate a problem');if(/number|string/.test(typeof u)){o.warn('FB.init called with invalid parameters');u={apiKey:u};}u=i({logging:true,status:true},u||{});if(!u.logging&&ES5(window.location.toString(),'indexOf',true,'fb_debug=1')<0)m._logging=false;var v=u.appId||u.apiKey;if(/number|string/.test(typeof v))p.setClientID(v.toString());if('scope'in u)m._scope=u.scope;if(u.cookie){p.setUseCookie(true);if(typeof u.cookie==='string')h.setDomain(u.cookie);}if(p.getClientID())if(u.authResponse){e.setAuthResponse(u.authResponse,'connected');}else if(p.getUseCookie()){var w=h.loadSignedRequest();try{var y=q.parse(w);p.setUserID(y.user_id||0);}catch(x){h.clearSignedRequestCookie();}h.loadMeta();}if(p.isEnvironment(p.ENVIRONMENTS.CANVAS)){f._setHideFlashCallback(u.hideFlashCallback);g._maybeSample();}if(!p.getInitialized()){p.setInitialized(true);s.init(u.channelUrl?m.URI.resolve(u.channelUrl):null,u.xdProxyName);if(r.mobile()&&m.TemplateUI&&m.TemplateData&&m.TemplateData._enabled&&u.useCachedDialogs!==false){m.TemplateUI.init();l.subscribe('auth.statusChange',m.TemplateData.update);}}if(u.status)m.getLoginStatus();if(u.frictionlessRequests)n.init();if(m.XFBML&&u.xfbml)k(m.XFBML.parse);}});},3);window.setTimeout(function(){var a=/(connect.facebook.net|facebook.com\/assets.php).*?#(.*)/;ES5(FB.Array.toArray(document.getElementsByTagName('script')),'forEach',true,function(b){if(b.src){var c=a.exec(b.src);if(c){var d=FB.QS.decode(c[2]);ES5(FB.Array,'forEach',true,d,function(e,f){if(e=='0')d[f]=0;});FB.init(d);}}});if(window.fbAsyncInit&&!window.fbAsyncInit.hasRun){window.fbAsyncInit.hasRun=true;window.fbAsyncInit();}},0);FB.provide('Native',{NATIVE_READY_EVENT:'fbNativeReady',onready:function(a){if(!FB.UA.nativeApp()){FB.log('FB.Native.onready only works when the page is rendered '+'in a WebView of the native Facebook app. Test if this is the '+'case calling FB.UA.nativeApp()');return;}if(window.__fbNative&&!this.nativeReady)FB.provide('Native',window.__fbNative);if(this.nativeReady){a();}else{var b=function(c){window.removeEventListener(FB.Native.NATIVE_READY_EVENT,b);FB.Native.onready(a);};window.addEventListener(FB.Native.NATIVE_READY_EVENT,b,false);}}});__d("legacy:fb.pay",["FB","sdk.XD","sdk.Runtime"],function(a,b,c,d){var e=b('FB'),f=b('sdk.XD'),g=b('sdk.Runtime'),h={error_code:1383001,error_message:'An unknown error caused the dialog to be closed'},i=function(j){return function(k){j(k&&k.response?ES5('JSON','parse',false,k.response):h);};};e.provide('UIServer.Methods',{'pay.prompt':{transform:function(j){var k=f.handler(i(j.cb),'parent.frames['+(window.name||'iframe_canvas')+']');j.params.channel=k;f.inform('Pay.Prompt',j.params);return false;}}});e.provide('UIServer.Methods',{pay:{size:{width:555,height:120},noHttps:true,connectDisplay:'popup',transform:function(j){j.cb=i(j.cb);if(!g.isEnvironment(g.ENVIRONMENTS.CANVAS)){j.params.order_info=ES5('JSON','stringify',false,j.params.order_info);return j;}var k=f.handler(j.cb,'parent.frames['+(window.name||'iframe_canvas')+']');j.params.channel=k;j.params.uiserver=true;f.inform('Pay.Prompt',j.params);return false;}}});},3);FB.provide('Helper',{isUser:function(a){return a<2.2e+09||(a>=1e+14&&a<=100099999989999)||(a>=8.9e+13&&a<=89999999999999);},getLoggedInUser:function(){return FB.getUserID();},upperCaseFirstChar:function(a){if(a.length>0){return a.substr(0,1).toUpperCase()+a.substr(1);}else return a;},getProfileLink:function(a,b,c){c=c||(a?FB.getDomain('www')+'profile.php?id='+a.uid:null);if(c)b='<a class="fb_link" href="'+c+'">'+b+'</a>';return b;},invokeHandler:function(a,b,c){if(a)if(typeof a==='string'){FB.safeEval(a);}else if(a.apply)a.apply(b,c||[]);},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c);FB.Event.fire(a,c,b);},executeFunctionByName:function(a){var b=Array.prototype.slice.call(arguments,1),c=a.split("."),d=c.pop(),e=window;for(var f=0;f<c.length;f++)e=e[c[f]];return e[d].apply(this,b);}});FB.provide('TemplateData',{_initialized:false,_version:0,_response:null,_localStorageTimeout:60*60*24,_enabled:true,enabled:function(){return FB.TemplateData._enabled&&FB.TemplateData._initialized&&FB.TemplateData.supportsLocalStorage()&&FB.Runtime.getLoginStatus()=='connected'&&FB.TemplateData.getResponse();},supportsLocalStorage:function(){try{return'localStorage'in window&&window.localStorage!==null;}catch(a){return false;}},_isStale:function(a){if(!a||!a.version||a.version!=FB.TemplateData._version||a.currentUserID!=FB.getUserID())return true;var b=Math.round((new Date()).getTime());return(b-a.setAt)/1000>FB.TemplateData._localStorageTimeout;},getResponse:function(){var a=FB.TemplateData;try{a._response=a._response||(a.supportsLocalStorage()&&ES5('JSON','parse',false,localStorage.FB_templateDataResponse||"null"));}catch(b){a._response=null;}if(a._isStale(a._response))a.saveResponse(null);return a._response;},saveResponse:function(a){FB.TemplateData._response=a;if(FB.TemplateData.supportsLocalStorage())localStorage.FB_templateDataResponse=ES5('JSON','stringify',false,a);},getData:function(){var a=FB.TemplateData.getResponse();return a?a.data:{};},init:function(a){if(!a)return;FB.TemplateData._initialized=true;FB.TemplateData._version=a;if(FB.TemplateData.supportsLocalStorage()&&!('FB_templateDataResponse'in localStorage))FB.TemplateData.clear();},clear:function(){FB.TemplateData.saveResponse(null);},update:function(a){var b=FB.Runtime.getLoginStatus();if(b!='connected')FB.TemplateData.clear();if(b=='connected'&&!FB.TemplateData.getResponse())FB.api({method:'dialog.template_data'},function(c){if('error_code'in c)return;var d={data:c,currentUserID:FB.getUserID(),setAt:(new Date()).getTime(),version:FB.TemplateData._version};FB.TemplateData.saveResponse(d);});}});FB.subclass('TemplateUI','Obj',function(a,b){this.method=a;var c=FB.UA.nativeApp()?0:1,d={display:'touch',preview_template:1,in_iframe:c,locale:FB._locale,v:FB.TemplateUI._version,user_agent:navigator.userAgent};if(window.devicePixelRatio)d.m_pixel_ratio=window.devicePixelRatio;var e=FB.QS.encode(d);this.cachedCall={url:FB.getDomain('staticfb')+'dialog/'+a+'?'+e,frameName:FB.guid(),id:FB.guid(),size:FB.UIServer.getDefaultSize(),hideLoader:true};FB.XD.handler(ES5(this,'bind',true,function(g){if(g.type=='getParams')this.setProperty('getParamsCb',g.returnCb);}),'parent',true,this.cachedCall.frameName);if(c){FB.UIServer.iframe(this.cachedCall);FB.Dialog.hide(this.cachedCall.root);}else if(b&&!FB.TemplateUI._preloads[this.cachedCall.url]){var f=document.createElement('div');FB.TemplateUI._preloads[this.cachedCall.url]={container:f};FB.Content.insertIframe({url:this.cachedCall.url,root:FB.Content.appendHidden(f)});}},{use:function(a){if(!this.cachedCall.root){FB.UIServer.touch(this.cachedCall);var b=FB.TemplateUI._preloads[this.cachedCall.url];if(b&&b.container){b.container.parentNode.removeChild(b.container);delete b.container;}}a.ui_created=true;a.root=this.cachedCall.root;FB.UIServer.setLoadedNode(a,FB.UIServer.getLoadedNode(this.cachedCall.id));delete FB.UIServer._loadedNodes[this.cachedCall.id];var c=FB.Dialog._dialogs[a.id];FB.Dialog._dialogs[this.cachedCall.id]=c;c.id=this.cachedCall.id;delete FB.Dialog._dialogs[a.id];FB.UIServer.getLoadedNode(a).fbCallID=this.cachedCall.id;this.cachedCall.id=a.id;var d={};FB.copy(d,a.params);FB.copy(d,FB.TemplateData.getData()[this.method]);d.frictionless=FB.TemplateUI.isFrictionlessAppRequest(this.method,d);d.common=FB.TemplateData.getData().common;d.method=this.method;this.setParams(d);if(FB.UA.nativeApp())FB.UIServer._popupMonitor();},setParams:function(a){this.monitor('getParamsCb',ES5(this,'bind',true,function(){if(this.getParamsCb){var b=frames[this.cachedCall.frameName]||FB.UIServer.getLoadedNode(this.cachedCall);b.postMessage(ES5('JSON','stringify',false,{params:a,cb:this.getParamsCb}),'*');return true;}}));}});FB.provide('TemplateUI',{_timer:null,_cache:{},_preloads:{},_version:0,init:function(){FB.TemplateData.init(FB.TemplateUI._version);FB.TemplateUI.initCache();},useCachedUI:function(a,b){try{FB.TemplateUI.populateCache();cache=FB.TemplateUI._cache[a];delete FB.TemplateUI._cache[a];cache.use(b);}catch(c){FB.TemplateData.clear();}},populateCache:function(a){if(!FB.TemplateData.enabled()||!FB.UA.mobile())return;clearInterval(FB.TemplateUI._timer);var b={feed:true,apprequests:true};for(var c in b)if(!(c in FB.TemplateUI._cache))FB.TemplateUI._cache[c]=new FB.TemplateUI(c,a);},initCache:function(){FB.TemplateUI._timer=setInterval(function(){FB.TemplateUI.populateCache(true);},2000);},supportsTemplate:function(a,b){return FB.TemplateData.enabled()&&FB.TemplateUI.paramsAllowTemplate(a,b.params)&&b.params.display==='touch'&&FB.UA.mobile();},paramsAllowTemplate:function(a,b){var c={feed:{to:1,attachment:1,source:1},apprequests:{}};if(!(a in c))return false;for(var d in c[a])if(b[d])return false;return!FB.TemplateUI.willWriteOnGet(a,b);},isFrictionlessAppRequest:function(a,b){return a==='apprequests'&&FB.Frictionless&&FB.Frictionless._useFrictionless;},willWriteOnGet:function(a,b){return FB.TemplateUI.isFrictionlessAppRequest(a,b)&&b.to&&FB.Frictionless.isAllowed(b.to);}});FB.subclass('XFBML.Activity','XFBML.IframeWidget',null,{_visibleAfter:'load',_refreshOnAuthChange:true,setupAndValidate:function(){this._attr={border_color:this.getAttribute('border-color'),colorscheme:this.getAttribute('color-scheme'),filter:this.getAttribute('filter'),action:this.getAttribute('action'),max_age:this.getAttribute('max_age'),font:this.getAttribute('font'),linktarget:this.getAttribute('linktarget','_blank'),header:this._getBoolAttribute('header'),height:this._getPxAttribute('height',300),recommendations:this._getBoolAttribute('recommendations'),site:this.getAttribute('site',location.hostname),width:this._getPxAttribute('width',300)};return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'activity',params:this._attr};}});FB.subclass('XFBML.ButtonElement','XFBML.Element',null,{_allowedSizes:['icon','small','medium','large','xlarge'],onClick:function(){throw new Error('Inheriting class needs to implement onClick().');},setupAndValidate:function(){return true;},getButtonMarkup:function(){return this.getOriginalHTML();},getOriginalHTML:function(){return this._originalHTML;},process:function(){if(!('_originalHTML'in this))this._originalHTML=ES5(this.dom.innerHTML,'trim',true);if(!this.setupAndValidate()){this.fire('render');return;}var a=this._getAttributeFromList('size','medium',this._allowedSizes),b='',c='';if(a=='icon'){b='fb_button_simple';}else{var d=FB._localeIsRtl?'_rtl':'';c=this.getButtonMarkup();b='fb_button'+d+' fb_button_'+a+d;}if(c!==''){this.dom.innerHTML=('<a class="'+b+'">'+'<span class="fb_button_text">'+c+'</span>'+'</a>');this.dom.firstChild.onclick=ES5(this.onClick,'bind',true,this);}this.fire('render');}});FB.subclass('XFBML.AddProfileTab','XFBML.ButtonElement',null,{getButtonMarkup:function(){return FB.Intl.tx._("Add Profile Tab on Facebook");},onClick:function(){FB.ui({method:'profile.addtab'},ES5(this,'bind',true,function(a){if(a.tab_added)FB.Helper.invokeHandler(this.getAttribute('on-add'),this);}));}});FB.subclass('XFBML.Facepile','XFBML.IframeWidget',null,{_visibleAfter:'load',setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),colorscheme:this.getAttribute('colorscheme'),font:this.getAttribute('font'),href:this.getAttribute('href'),width:this._getPxAttribute('width'),max_rows:this.getAttribute('max-rows'),action:this.getAttribute('action'),size:this.getAttribute('size')};return true;},getSize:function(){if(this._attr.size=='large')return{width:this._attr.width,height:90};return{width:this._attr.width,height:70};},getUrlBits:function(){return{name:'facepile',params:this._attr};}});FB.subclass('XFBML.AddToTimeline','XFBML.Facepile',null,{_visibleAfter:'load',getSize:function(){return{width:300,height:250};},getUrlBits:function(){return{name:'add_to_timeline',params:this._attr};}});FB.subclass('XFBML.Bookmark','XFBML.ButtonElement',null,{getButtonMarkup:function(){return FB.Intl.tx._("Bookmark on Facebook");},onClick:function(){FB.ui({method:'bookmark.add'},ES5(this,'bind',true,function(a){if(a.bookmarked)FB.Helper.invokeHandler(this.getAttribute('on-add'),this);}));}});FB.subclass('XFBML.Comments','XFBML.IframeWidget',null,{_visibleAfter:'immediate',_refreshOnAuthChange:true,setupAndValidate:function(){var a={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute('colorscheme'),numposts:this.getAttribute('num-posts',10),width:this._getPxAttribute('width',550),href:this.getAttribute('href'),permalink:this.getAttribute('permalink'),publish_feed:this.getAttribute('publish_feed'),order_by:this.getAttribute('order_by'),mobile:this._getBoolAttribute('mobile')};if(FB.initSitevars.enableMobileComments&&FB.UA.mobile()&&a.mobile!==false){a.mobile=true;delete a.width;}if(!a.href){a.migrated=this.getAttribute('migrated');a.xid=this.getAttribute('xid');a.title=this.getAttribute('title',document.title);a.url=this.getAttribute('url',document.URL);a.quiet=this.getAttribute('quiet');a.reverse=this.getAttribute('reverse');a.simple=this.getAttribute('simple');a.css=this.getAttribute('css');a.notify=this.getAttribute('notify');if(!a.xid){var b=ES5(document.URL,'indexOf',true,'#');if(b>0){a.xid=encodeURIComponent(document.URL.substring(0,b));}else a.xid=encodeURIComponent(document.URL);}if(a.migrated)a.href='http://www.facebook.com/plugins/comments_v1.php?'+'app_id='+FB._apiKey+'&xid='+encodeURIComponent(a.xid)+'&url='+encodeURIComponent(a.url);}else{var c=this.getAttribute('fb_comment_id');if(!c){c=FB.QS.decode(document.URL.substring(ES5(document.URL,'indexOf',true,'?')+1)).fb_comment_id;if(c&&ES5(c,'indexOf',true,'#')>0)c=c.substring(0,ES5(c,'indexOf',true,'#'));}if(c){a.fb_comment_id=c;this.subscribe('render',ES5(function(){if(!window.location.hash)window.location.hash=this.getIframeNode().id;},'bind',true,this));}}this._attr=a;return true;},oneTimeSetup:function(){this.subscribe('xd.addComment',ES5(this._handleCommentMsg,'bind',true,this));this.subscribe('xd.commentCreated',ES5(this._handleCommentCreatedMsg,'bind',true,this));this.subscribe('xd.commentRemoved',ES5(this._handleCommentRemovedMsg,'bind',true,this));},getSize:function(){if(this._attr.mobile)return{width:'100%',height:160};return{width:this._attr.width,height:160};},getUrlBits:function(){return{name:'comments',params:this._attr};},getDefaultWebDomain:function(){if(this._attr.mobile){return'https_m';}else return'https_www';},_handleCommentMsg:function(a){if(!this.isValid())return;FB.Event.fire('comments.add',{post:a.post,user:a.user,widget:this});},_handleCommentCreatedMsg:function(a){if(!this.isValid())return;var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};FB.Event.fire('comment.create',b);},_handleCommentRemovedMsg:function(a){if(!this.isValid())return;var b={href:a.href,commentID:a.commentID};FB.Event.fire('comment.remove',b);}});FB.subclass('XFBML.CommentsCount','XFBML.Element',null,{process:function(){this._href=this.getAttribute('href',window.location.href);this._count=FB.Data._selectByIndex(['commentsbox_count'],'link_stat','url',this._href);FB.Dom.addCss(this.dom,'fb_comments_count_zero');this._count.wait(ES5(function(){var a=this._count.value[0].commentsbox_count;this.dom.innerHTML=FB.String.format('<span class="fb_comments_count">{0}</span>',a);if(a>0)FB.Dom.removeCss(this.dom,'fb_comments_count_zero');this.fire('render');},'bind',true,this));}});FB.provide('Anim',{ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,f={},g={},h=null,i=a.style,j=setInterval(ES5(function(){if(!h)h=new Date().getTime();var k=1;if(c!=0)k=Math.min((new Date().getTime()-h)/c,1);ES5(FB.Array,'forEach',true,b,ES5(function(l,m){if(!f[m]){var n=FB.Dom.getStyle(a,m);if(n===false)return;f[m]=this._parseCSS(n+'');}if(!g[m])g[m]=this._parseCSS(l.toString());var o='';ES5(FB.Array,'forEach',true,f[m],function(p,q){if(isNaN(g[m][q].numPart)&&g[m][q].textPart=='?'){o=p.numPart+p.textPart;}else if(isNaN(p.numPart)){o=p.textPart;}else o+=(p.numPart+Math.ceil((g[m][q].numPart-p.numPart)*Math.sin(Math.PI/2*k)))+g[m][q].textPart+' ';});FB.Dom.setStyle(a,m,o);},'bind',true,this));if(k==1){clearInterval(j);if(d)d(a);}},'bind',true,this),e);},_parseCSS:function(a){var b=[];ES5(a.split(' '),'forEach',true,function(c){var d=parseInt(c,10);b.push({numPart:d,textPart:c.replace(d,'')});});return b;}});__d("legacy:fb.insights",["FB","sdk.Insights"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Insights');e.provide('Insights',{impression:f.impression});},3);FB.subclass('XFBML.ConnectBar','XFBML.Element',null,{_initialHeight:null,_initTopMargin:0,_picFieldName:'pic_square',_page:null,_displayed:false,_notDisplayed:false,_container:null,_animationSpeed:0,process:function(){FB.getLoginStatus(ES5(this,'bind',true,function(a){FB.Event.monitor('auth.statusChange',ES5(this,'bind',true,function(){if(this.isValid()&&FB.Runtime.getLoginStatus()=='connected'){this._uid=FB.Helper.getLoggedInUser();FB.api({method:'Connect.shouldShowConnectBar'},ES5(this,'bind',true,function(b){if(b!=2){this._animationSpeed=(b==0)?750:0;this._showBar();}else this._noRender();}));}else this._noRender();return false;}));}));},_showBar:function(){var a=FB.Data._selectByIndex(['first_name','profile_url',this._picFieldName],'user','uid',this._uid),b=FB.Data._selectByIndex(['display_name'],'application','api_key',FB._apiKey);FB.Data.waitOn([a,b],ES5(function(c){c[0][0].site_name=c[1][0].display_name;if(!this._displayed){this._displayed=true;this._notDisplayed=false;this._renderConnectBar(c[0][0]);this.fire('render');FB.Insights.impression({lid:104,name:'widget_load'});this.fire('connectbar.ondisplay');FB.Event.fire('connectbar.ondisplay',this);FB.Helper.invokeHandler(this.getAttribute('on-display'),this);}},'bind',true,this));},_noRender:function(){if(this._displayed){this._displayed=false;this._closeConnectBar();}if(!this._notDisplayed){this._notDisplayed=true;this.fire('render');this.fire('connectbar.onnotdisplay');FB.Event.fire('connectbar.onnotdisplay',this);FB.Helper.invokeHandler(this.getAttribute('on-not-display'),this);}},_renderConnectBar:function(a){var b=document.createElement('div'),c=document.createElement('div');b.className='fb_connect_bar';c.className='fb_reset fb_connect_bar_container';c.appendChild(b);document.body.appendChild(c);this._container=c;this._initialHeight=Math.round(parseFloat(FB.Dom.getStyle(c,'height'))+parseFloat(FB.Dom.getStyle(c,'borderBottomWidth')));b.innerHTML=FB.String.format('<div class="fb_buttons">'+'<a href="#" class="fb_bar_close">'+'<img src="{1}" alt="{2}" title="{2}"/>'+'</a>'+'</div>'+'<a href="{7}" class="fb_profile" target="_blank">'+'<img src="{3}" alt="{4}" title="{4}"/>'+'</a>'+'{5}'+' <span>'+'<a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; '+'<a href="#" class="fb_no_thanks">{0}</a>'+'</span>',FB.Intl.tx._("No Thanks"),FB.getDomain('cdn')+FB.XFBML.ConnectBar.imgs.buttonUrl,FB.Intl.tx._("Close"),a[this._picFieldName]||FB.getDomain('cdn')+FB.XFBML.ConnectBar.imgs.missingProfileUrl,FB.String.escapeHTML(a.first_name),FB.Intl.tx._("Hi {firstName}. \u003Cstrong>{siteName}\u003C\/strong> is using Facebook to personalize your experience.",{firstName:FB.String.escapeHTML(a.first_name),siteName:FB.String.escapeHTML(a.site_name)}),FB.Intl.tx._("Learn More"),a.profile_url,FB.getDomain('www')+'sitetour/connect.php');var d=this;ES5(FB.Array.toArray(b.getElementsByTagName('a')),'forEach',true,function(g){g.onclick=ES5(d._clickHandler,'bind',true,d);});this._page=document.body;var e=0;if(this._page.parentNode){e=Math.round((parseFloat(FB.Dom.getStyle(this._page.parentNode,'height'))-parseFloat(FB.Dom.getStyle(this._page,'height')))/2);}else e=parseInt(FB.Dom.getStyle(this._page,'marginTop'),10);e=isNaN(e)?0:e;this._initTopMargin=e;if(!window.XMLHttpRequest){c.className+=" fb_connect_bar_container_ie6";}else{c.style.top=(-1*this._initialHeight)+'px';FB.Anim.ate(c,{top:'0px'},this._animationSpeed);}var f={marginTop:this._initTopMargin+this._initialHeight+'px'};if(FB.UA.ie()){f.backgroundPositionY=this._initialHeight+'px';}else f.backgroundPosition='? '+this._initialHeight+'px';FB.Anim.ate(this._page,f,this._animationSpeed);},_clickHandler:function(a){a=a||window.event;var b=a.target||a.srcElement;while(b.nodeName!='A')b=b.parentNode;switch(b.className){case'fb_bar_close':FB.api({method:'Connect.connectBarMarkAcknowledged'});FB.Insights.impression({lid:104,name:'widget_user_closed'});this._closeConnectBar();break;case'fb_learn_more':case'fb_profile':window.open(b.href);break;case'fb_no_thanks':this._closeConnectBar();FB.api({method:'Connect.connectBarMarkAcknowledged'});FB.Insights.impression({lid:104,name:'widget_user_no_thanks'});FB.api({method:'auth.revokeAuthorization',block:true},ES5(this,'bind',true,function(){this.fire('connectbar.ondeauth');FB.Event.fire('connectbar.ondeauth',this);FB.Helper.invokeHandler(this.getAttribute('on-deauth'),this);if(this._getBoolAttribute('auto-refresh',true))window.location.reload();}));break;}return false;},_closeConnectBar:function(){this._notDisplayed=true;var a={marginTop:this._initTopMargin+'px'};if(FB.UA.ie()){a.backgroundPositionY='0px';}else a.backgroundPosition='? 0px';var b=(this._animationSpeed==0)?0:300;FB.Anim.ate(this._page,a,b);FB.Anim.ate(this._container,{top:(-1*this._initialHeight)+'px'},b,function(c){c.parentNode.removeChild(c);});this.fire('connectbar.onclose');FB.Event.fire('connectbar.onclose',this);FB.Helper.invokeHandler(this.getAttribute('on-close'),this);}});FB.provide('XFBML.ConnectBar',{imgs:{buttonUrl:'images/facebook-widgets/close_btn.png',missingProfileUrl:'pics/q_silhouette.gif'}});FB.subclass('XFBML.Degrees','XFBML.IframeWidget',null,{_showLoader:false,setupAndValidate:function(){this._attr={api_key:FB._apiKey,channel_url:this.getChannelUrl(),font:this.getAttribute('font'),href:this.getAttribute('href'),colorscheme:this.getAttribute('color-scheme')};return true;},getSize:function(){return{width:500,height:25};},getUrlBits:function(){return{name:'degrees',params:this._attr};}});FB.XFBML._tagInfos.push({localName:'degrees',className:'FB.XFBML.Degrees'});FB.subclass('XFBML.Fan','XFBML.IframeWidget',null,{_visibleAfter:'load',setupAndValidate:function(){this._attr={api_key:FB._apiKey,connections:this.getAttribute('connections','10'),css:this.getAttribute('css'),height:this._getPxAttribute('height'),id:this.getAttribute('profile-id'),logobar:this._getBoolAttribute('logo-bar'),name:this.getAttribute('name'),stream:this._getBoolAttribute('stream',true),width:this._getPxAttribute('width',300)};if(!this._attr.id&&!this._attr.name){FB.log('<fb:fan> requires one of the "id" or "name" attributes.');return false;}var a=this._attr.height;if(!a)if((!this._attr.connections||this._attr.connections==='0')&&!this._attr.stream){a=65;}else if(!this._attr.connections||this._attr.connections==='0'){a=375;}else if(!this._attr.stream){a=250;}else a=550;if(this._attr.logobar)a+=25;this._attr.height=a;return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'fan',params:this._attr};}});FB.subclass('XFBML.Friendpile','XFBML.Facepile',null,{});FB.subclass('XFBML.EdgeCommentWidget','XFBML.IframeWidget',function(a){this._iframeWidth=a.width+1;this._iframeHeight=a.height;this._attr={master_frame_name:a.masterFrameName,offsetX:a.relativeWidthOffset-a.paddingLeft};this.dom=a.commentNode;this.dom.style.top=a.relativeHeightOffset+'px';this.dom.style.left=a.relativeWidthOffset+'px';this.dom.style.zIndex=FB.XFBML.EdgeCommentWidget.NextZIndex++;FB.Dom.addCss(this.dom,'fb_edge_comment_widget');},{_visibleAfter:'load',_showLoader:false,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight};},getUrlBits:function(){return{name:'comment_widget_shell',params:this._attr};}});FB.provide('XFBML.EdgeCommentWidget',{NextZIndex:10000});FB.subclass('XFBML.EdgeWidget','XFBML.IframeWidget',null,{_visibleAfter:'immediate',_showLoader:false,_rootPadding:null,setupAndValidate:function(){FB.Dom.addCss(this.dom,'fb_edge_widget_with_comment');this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute('debug'),href:this.getAttribute('href',window.location.href),is_permalink:this._getBoolAttribute('is-permalink'),node_type:this.getAttribute('node-type','link'),width:this._getWidgetWidth(),font:this.getAttribute('font'),layout:this._getLayout(),colorscheme:this.getAttribute('color-scheme'),action:this.getAttribute('action'),ref:this.getAttribute('ref'),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute('no_resize'),send:this._getBoolAttribute('send'),url_map:this.getAttribute('url_map'),extended_social_context:this._getBoolAttribute('extended_social_context',false)};this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,'paddingLeft')),top:parseFloat(FB.Dom.getStyle(this.dom,'paddingTop'))};return true;},oneTimeSetup:function(){this.subscribe('xd.authPrompted',ES5(this._onAuthPrompt,'bind',true,this));this.subscribe('xd.edgeCreated',ES5(this._onEdgeCreate,'bind',true,this));this.subscribe('xd.edgeRemoved',ES5(this._onEdgeRemove,'bind',true,this));this.subscribe('xd.presentEdgeCommentDialog',ES5(this._handleEdgeCommentDialogPresentation,'bind',true,this));this.subscribe('xd.dismissEdgeCommentDialog',ES5(this._handleEdgeCommentDialogDismissal,'bind',true,this));this.subscribe('xd.hideEdgeCommentDialog',ES5(this._handleEdgeCommentDialogHide,'bind',true,this));this.subscribe('xd.showEdgeCommentDialog',ES5(this._handleEdgeCommentDialogShow,'bind',true,this));},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()};},_getWidgetHeight:function(){var a=this._getLayout(),b=this._shouldShowFaces()?'show':'hide',c=this._getBoolAttribute('send'),d=65+(c?25:0),e={standard:{show:80,hide:35},box_count:{show:d,hide:d},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return e[a][b];},_getWidgetWidth:function(){var a=this._getLayout(),b=this._getBoolAttribute('send'),c=this._shouldShowFaces()?'show':'hide',d=(this.getAttribute('action')==='recommend'),e=(d?265:225)+(b?60:0),f=(d?130:90)+(b?60:0),g=this.getAttribute('action')==='recommend'?100:55,h=this.getAttribute('action')==='recommend'?90:50,i={standard:{show:450,hide:450},box_count:{show:g,hide:g},button_count:{show:f,hide:f},simple:{show:h,hide:h}},j=i[a][c],k=this._getPxAttribute('width',j),l={standard:{min:e,max:900},box_count:{min:g,max:900},button_count:{min:f,max:900},simple:{min:49,max:900}};if(k<l[a].min){k=l[a].min;}else if(k>l[a].max)k=l[a].max;return k;},_getLayout:function(){return this._getAttributeFromList('layout','standard',['standard','button_count','box_count','simple']);},_shouldShowFaces:function(){return this._getLayout()==='standard'&&this._getBoolAttribute('show-faces',true);},_handleEdgeCommentDialogPresentation:function(a){if(!this.isValid())return;var b=document.createElement('span');this._commentSlave=this._createEdgeCommentWidget(a,b);this.dom.appendChild(b);this._commentSlave.process();this._commentWidgetNode=b;},_createEdgeCommentWidget:function(a,b){var c={commentNode:b,externalUrl:a.externalURL,masterFrameName:a.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),anchorTargetX:parseFloat(a['query[anchorTargetX]'])+this._rootPadding.left,anchorTargetY:parseFloat(a['query[anchorTargetY]'])+this._rootPadding.top,width:parseFloat(a.width),height:parseFloat(a.height),paddingLeft:this._rootPadding.left};return new FB.XFBML.EdgeCommentWidget(c);},_getHeightOffset:function(a){return parseFloat(a['anchorGeometry[y]'])+parseFloat(a['anchorPosition[y]'])+this._rootPadding.top;},_getWidthOffset:function(a){var b=parseFloat(a['anchorPosition[x]'])+this._rootPadding.left,c=FB.Dom.getPosition(this.dom).x,d=this.dom.offsetWidth,e=FB.Dom.getViewportInfo().width,f=parseFloat(a.width),g=false;if(FB._localeIsRtl){g=f<c;}else if((c+f)>e)g=true;if(g)b+=parseFloat(a['anchorGeometry[x]'])-f;return b;},_getCommonEdgeCommentWidgetOpts:function(a,b){return{colorscheme:this._attr.colorscheme,commentNode:b,controllerID:a.controllerID,nodeImageURL:a.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:a.nodeTitle,nodeURL:a.nodeURL,nodeSummary:a.nodeSummary,width:parseFloat(a.width),height:parseFloat(a.height),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),error:a.error,siderender:a.siderender,extended_social_context:a.extended_social_context,anchorTargetX:parseFloat(a['query[anchorTargetX]'])+this._rootPadding.left,anchorTargetY:parseFloat(a['query[anchorTargetY]'])+this._rootPadding.top};},_handleEdgeCommentDialogDismissal:function(a){if(this._commentWidgetNode){this.dom.removeChild(this._commentWidgetNode);delete this._commentWidgetNode;}},_handleEdgeCommentDialogHide:function(){if(this._commentWidgetNode)this._commentWidgetNode.style.display="none";},_handleEdgeCommentDialogShow:function(){if(this._commentWidgetNode)this._commentWidgetNode.style.display="block";},_fireEventAndInvokeHandler:function(a,b){FB.Helper.fireEvent(a,this);FB.Helper.invokeHandler(this.getAttribute(b),this,[this._attr.href]);},_onEdgeCreate:function(){this._fireEventAndInvokeHandler('edge.create','on-create');},_onEdgeRemove:function(){this._fireEventAndInvokeHandler('edge.remove','on-remove');},_onAuthPrompt:function(){this._fireEventAndInvokeHandler('auth.prompt','on-prompt');}});FB.subclass('XFBML.SendButtonFormWidget','XFBML.EdgeCommentWidget',function(a){this._base(a);FB.Dom.addCss(this.dom,'fb_send_button_form_widget');FB.Dom.addCss(this.dom,a.colorscheme);FB.Dom.addCss(this.dom,(typeof a.siderender!='undefined'&&a.siderender)?'siderender':'');this._attr.nodeImageURL=a.nodeImageURL;this._attr.nodeRef=a.nodeRef;this._attr.nodeTitle=a.nodeTitle;this._attr.nodeURL=a.nodeURL;this._attr.nodeSummary=a.nodeSummary;this._attr.offsetX=a.relativeWidthOffset;this._attr.offsetY=a.relativeHeightOffset;this._attr.anchorTargetX=a.anchorTargetX;this._attr.anchorTargetY=a.anchorTargetY;this._attr.channel=this.getChannelUrl();this._attr.controllerID=a.controllerID;this._attr.colorscheme=a.colorscheme;this._attr.error=a.error;this._attr.siderender=a.siderender;this._attr.extended_social_context=a.extended_social_context;},{_showLoader:true,getUrlBits:function(){return{name:'send_button_form_shell',params:this._attr};},oneTimeSetup:function(){this.subscribe('xd.messageSent',ES5(this._onMessageSent,'bind',true,this));},_onMessageSent:function(){FB.Event.fire('message.send',this._attr.nodeURL,this);}});FB.subclass('XFBML.Send','XFBML.EdgeWidget',null,{setupAndValidate:function(){FB.Dom.addCss(this.dom,'fb_edge_widget_with_comment');this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute('font'),colorscheme:this.getAttribute('colorscheme','light'),href:this.getAttribute('href',window.location.href),ref:this.getAttribute('ref'),extended_social_context:this.getAttribute('extended_social_context',false)};this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,'paddingLeft')),top:parseFloat(FB.Dom.getStyle(this.dom,'paddingTop'))};return true;},getUrlBits:function(){return{name:'send',params:this._attr};},_createEdgeCommentWidget:function(a,b){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c);},getSize:function(){return{width:FB.XFBML.Send.Dimensions.width,height:FB.XFBML.Send.Dimensions.height};}});FB.provide('XFBML.Send',{Dimensions:{width:80,height:25}});FB.subclass('XFBML.Like','XFBML.EdgeWidget',null,{getUrlBits:function(){return{name:'like',params:this._attr};},_createEdgeCommentWidget:function(a,b){if('send'in this._attr&&'widget_type'in a&&a.widget_type=='send'){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c);}else return this._callBase("_createEdgeCommentWidget",a,b);},getIframeTitle:function(){return'Like this content on Facebook.';}});FB.subclass('XFBML.LikeBox','XFBML.EdgeWidget',null,{_visibleAfter:'load',setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,connections:this.getAttribute('connections'),css:this.getAttribute('css'),height:this.getAttribute('height'),id:this.getAttribute('profile-id'),header:this._getBoolAttribute('header',true),name:this.getAttribute('name'),show_faces:this._getBoolAttribute('show-faces',true),stream:this._getBoolAttribute('stream',true),width:this._getPxAttribute('width',300),href:this.getAttribute('href'),colorscheme:this.getAttribute('colorscheme','light'),border_color:this.getAttribute('border_color')};if(this._getBoolAttribute('force_wall',false))this._attr.force_wall=true;if(this._attr.connections==='0'){this._attr.show_faces=false;}else if(this._attr.connections)this._attr.show_faces=true;if(!this._attr.id&&!this._attr.name&&!this._attr.href){FB.log('<fb:like-box> requires one of the "id" or "name" attributes.');return false;}var a=this._attr.height;if(!a)if(!this._attr.show_faces&&!this._attr.stream){a=62;}else{a=95;if(this._attr.show_faces)a+=163;if(this._attr.stream)a+=300;if(this._attr.header&&this._attr.header!=='0')a+=32;}this._attr.height=a;this.subscribe('xd.likeboxLiked',ES5(this._onLiked,'bind',true,this));this.subscribe('xd.likeboxUnliked',ES5(this._onUnliked,'bind',true,this));return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'likebox',params:this._attr};},_onLiked:function(){FB.Helper.fireEvent('edge.create',this);},_onUnliked:function(){FB.Helper.fireEvent('edge.remove',this);}});FB.subclass('XFBML.LiveStream','XFBML.IframeWidget',null,{_visibleAfter:'load',setupAndValidate:function(){this._attr={app_id:this.getAttribute('event-app-id'),href:this.getAttribute('href',window.location.href),height:this._getPxAttribute('height',500),hideFriendsTab:this.getAttribute('hide-friends-tab'),redesigned:this._getBoolAttribute('redesigned-stream'),width:this._getPxAttribute('width',400),xid:this.getAttribute('xid','default'),always_post_to_friends:this._getBoolAttribute('always-post-to-friends'),via_url:this.getAttribute('via_url')};return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){var a=this._attr.redesigned?'live_stream_box':'livefeed';if(this._getBoolAttribute('modern',false))a='live_stream';return{name:a,params:this._attr};}});FB.subclass('XFBML.LoginButton','XFBML.IframeWidget',null,{_showLoader:false,setupAndValidate:function(){var a=this.getAttribute('registration-url');this._attr={channel:this.getChannelUrl(),colorscheme:this.getAttribute('colorscheme'),max_rows:this.getAttribute('max-rows'),width:this._getPxAttribute('width'),show_faces:this._getBoolAttribute('show-faces'),show_login_face:this._getBoolAttribute('show-login-face'),size:this.getAttribute('size'),login_text:this.dom.textContent||this.dom.innerText,registration_url:a?FB.URI.resolve(a):null,one_click:this.getAttribute('one-click'),scope:this.getAttribute('scope')||this.getAttribute('perms'),auto_logout_link:this._getBoolAttribute('auto-logout-link')};this.clear();var b=this.getAttribute('on-login');if(b)this.subscribe('xd.refreshLoginStatus',ES5(function(){FB.getLoginStatus(ES5(function(c){FB.Helper.invokeHandler(b,this,[c]);},'bind',true,this));},'bind',true,this));return true;},oneTimeSetup:function(){var a=FB.Runtime.getLoginStatus();FB.Event.subscribe('auth.statusChange',ES5(function(b){if(a=='connected'||b.status=='connected')this.process(true);a=b.status;},'bind',true,this));},getSize:function(){return{width:this._attr.width,height:94};},getUrlBits:function(){return{name:'login_button',params:this._attr};}});FB.subclass('XFBML.Name','XFBML.Element',null,{process:function(){FB.copy(this,{_uid:this.getAttribute('uid'),_firstnameonly:this._getBoolAttribute('first-name-only'),_lastnameonly:this._getBoolAttribute('last-name-only'),_possessive:this._getBoolAttribute('possessive'),_reflexive:this._getBoolAttribute('reflexive'),_objective:this._getBoolAttribute('objective'),_linked:this._getBoolAttribute('linked',true),_subjectId:this.getAttribute('subject-id')});if(!this._uid){FB.log('"uid" is a required attribute for <fb:name>');this.fire('render');return;}var a=[];if(this._firstnameonly){a.push('first_name');}else if(this._lastnameonly){a.push('last_name');}else a.push('name');if(this._subjectId){a.push('sex');if(this._subjectId==FB.Helper.getLoggedInUser())this._reflexive=true;}var b;FB.Event.monitor('auth.statusChange',ES5(this,'bind',true,function(){if(!this.isValid()){this.fire('render');return true;}if(!this._uid||this._uid=='loggedinuser')this._uid=FB.Helper.getLoggedInUser();if(!this._uid)return;if(FB.Helper.isUser(this._uid)){b=FB.Data._selectByIndex(a,'user','uid',this._uid);}else b=FB.Data._selectByIndex(['name','id'],'profile','id',this._uid);b.wait(ES5(this,'bind',true,function(c){if(this._subjectId==this._uid){this._renderPronoun(c[0]);}else this._renderOther(c[0]);this.fire('render');}));}));},_renderPronoun:function(a){var b='',c=this._objective;if(this._subjectId){c=true;if(this._subjectId===this._uid)this._reflexive=true;}if(this._uid==FB.Connect.get_loggedInUser()&&this._getBoolAttribute('use-you',true)){if(this._possessive){if(this._reflexive){b='your own';}else b='your';}else if(this._reflexive){b='yourself';}else b='you';}else switch(a.sex){case'male':if(this._possessive){b=this._reflexive?'his own':'his';}else if(this._reflexive){b='himself';}else if(c){b='him';}else b='he';break;case'female':if(this._possessive){b=this._reflexive?'her own':'her';}else if(this._reflexive){b='herself';}else if(c){b='her';}else b='she';break;default:if(this._getBoolAttribute('use-they',true)){if(this._possessive){if(this._reflexive){b='their own';}else b='their';}else if(this._reflexive){b='themselves';}else if(c){b='them';}else b='they';}else if(this._possessive){if(this._reflexive){b='his/her own';}else b='his/her';}else if(this._reflexive){b='himself/herself';}else if(c){b='him/her';}else b='he/she';break;}if(this._getBoolAttribute('capitalize',false))b=FB.Helper.upperCaseFirstChar(b);this.dom.innerHTML=b;},_renderOther:function(a){var b='',c='';if(this._uid==FB.Helper.getLoggedInUser()&&this._getBoolAttribute('use-you',true)){if(this._reflexive){if(this._possessive){b='your own';}else b='yourself';}else if(this._possessive){b='your';}else b='you';}else if(a){if(null===a.first_name)a.first_name='';if(null===a.last_name)a.last_name='';if(this._firstnameonly&&a.first_name!==undefined){b=FB.String.escapeHTML(a.first_name);}else if(this._lastnameonly&&a.last_name!==undefined)b=FB.String.escapeHTML(a.last_name);if(!b)b=FB.String.escapeHTML(a.name);if(b!==''&&this._possessive)b+='\'s';}if(!b)b=FB.String.escapeHTML(this.getAttribute('if-cant-see','Facebook User'));if(b){if(this._getBoolAttribute('capitalize',false))b=FB.Helper.upperCaseFirstChar(b);if(a&&this._linked){c=FB.Helper.getProfileLink(a,b,this.getAttribute('href',null));}else c=b;}this.dom.innerHTML=c;}});FB.subclass('XFBML.PageEvents','XFBML.IframeWidget',null,{setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute('font'),colorscheme:this.getAttribute('colorscheme'),href:this.getAttribute('href')};return true;},getUrlBits:function(){return{name:'page_events',params:this._attr};}});FB.subclass('XFBML.ProfilePic','XFBML.Element',null,{process:function(){var a=this.getAttribute('size','thumb'),b=FB.XFBML.ProfilePic._sizeToPicFieldMap[a],c=this._getPxAttribute('width'),d=this._getPxAttribute('height'),e=this.dom.style,f=this.getAttribute('uid');if(this._getBoolAttribute('facebook-logo'))b+='_with_logo';if(c){c=c+'px';e.width=c;}if(d){d=d+'px';e.height=d;}var g=ES5(this,'bind',true,function(h){var i=h?h[0]:null,j=i?i[b]:null;if(!j)j=FB.getDomain('cdn')+FB.XFBML.ProfilePic._defPicMap[b];var k=((c?'width:'+c+';':'')+(d?'height:'+c+';':'')),l=FB.String.format('<img src="{0}" alt="{1}" title="{1}" style="{2}" class="{3}" />',j,i?FB.String.escapeHTML(i.name):'',k,this.dom.className);if(this._getBoolAttribute('linked',true))l=FB.Helper.getProfileLink(i,l,this.getAttribute('href',null));this.dom.innerHTML=l;FB.Dom.addCss(this.dom,'fb_profile_pic_rendered');this.fire('render');});FB.Event.monitor('auth.statusChange',ES5(this,'bind',true,function(){if(!this.isValid()){this.fire('render');return true;}if(this.getAttribute('uid',null)=='loggedinuser')f=FB.Helper.getLoggedInUser();if(FB.Runtime.getLoginStatus()!=='unknown'&&f){FB.Data._selectByIndex(['name',b],FB.Helper.isUser(f)?'user':'profile',FB.Helper.isUser(f)?'uid':'id',f).wait(g);}else g();}));}});FB.provide('XFBML.ProfilePic',{_defPicMap:{pic:'pics/s_silhouette.jpg',pic_big:'pics/d_silhouette.gif',pic_big_with_logo:'pics/d_silhouette_logo.gif',pic_small:'pics/t_silhouette.jpg',pic_small_with_logo:'pics/t_silhouette_logo.gif',pic_square:'pics/q_silhouette.gif',pic_square_with_logo:'pics/q_silhouette_logo.gif',pic_with_logo:'pics/s_silhouette_logo.gif'},_sizeToPicFieldMap:{n:'pic_big',normal:'pic_big',q:'pic_square',s:'pic',small:'pic',square:'pic_square',t:'pic_small',thumb:'pic_small'}});FB.subclass('XFBML.Recommendations','XFBML.IframeWidget',null,{_visibleAfter:'load',_refreshOnAuthChange:true,setupAndValidate:function(){this._attr={border_color:this.getAttribute('border-color'),colorscheme:this.getAttribute('color-scheme'),filter:this.getAttribute('filter'),font:this.getAttribute('font'),action:this.getAttribute('action'),linktarget:this.getAttribute('linktarget','_blank'),max_age:this.getAttribute('max_age'),header:this._getBoolAttribute('header'),height:this._getPxAttribute('height',300),site:this.getAttribute('site',location.hostname),width:this._getPxAttribute('width',300)};return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'recommendations',params:this._attr};}});FB.subclass('XFBML.RecommendationsBar','XFBML.IframeWidget',null,{getUrlBits:function(){return{name:'recommendations_bar',params:this._attr};},setupAndValidate:function(){function a(j,k){var l=0,m=null;function n(){k();m=null;l=(new Date()).getTime();}return function(){if(!m){var o=(new Date()).getTime();if(o-l<j){m=window.setTimeout(n,j-(o-l));}else n();}return true;};}function b(j){if(j.match(/^\d+(?:\.\d+)?%$/)){var k=Math.min(Math.max(parseInt(j,10),0),100);j=k/100;}else if(j!='manual'&&j!='onvisible')j='onvisible';return j;}function c(j){return Math.max(parseInt(j,10)||30,10);}function d(j){if(j=='left'||j=='right')return j;return FB._localeIsRtl?'left':'right';}this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute('font'),colorscheme:this.getAttribute('colorscheme'),href:FB.URI.resolve(this.getAttribute('href')),side:d(this.getAttribute('side')),site:this.getAttribute('site'),action:this.getAttribute('action'),ref:this.getAttribute('ref'),max_age:this.getAttribute('max_age'),trigger:b(this.getAttribute('trigger','')),read_time:c(this.getAttribute('read_time')),num_recommendations:parseInt(this.getAttribute('num_recommendations'),10)||2};FB._inPlugin=true;this._showLoader=false;this.subscribe('iframe.onload',ES5(function(){var j=this.dom.children[0];j.className='fbpluginrecommendationsbar'+this._attr.side;},'bind',true,this));var e=ES5(function(){FB.Event.unlisten(window,'scroll',e);FB.Event.unlisten(document.documentElement,'click',e);FB.Event.unlisten(document.documentElement,'mousemove',e);window.setTimeout(ES5(this.arbiterInform,'bind',true,this,'platform/plugins/recommendations_bar/action',null,FB.Arbiter.BEHAVIOR_STATE),this._attr.read_time*1000);return true;},'bind',true,this);FB.Event.listen(window,'scroll',e);FB.Event.listen(document.documentElement,'click',e);FB.Event.listen(document.documentElement,'mousemove',e);if(this._attr.trigger=="manual"){var f=ES5(function(j){if(j==this._attr.href){FB.Event.unsubscribe('xfbml.recommendationsbar.read',f);this.arbiterInform('platform/plugins/recommendations_bar/trigger',null,FB.Arbiter.BEHAVIOR_STATE);}return true;},'bind',true,this);FB.Event.subscribe('xfbml.recommendationsbar.read',f);}else{var g=a(500,ES5(function(){if(this.calculateVisibility()){FB.Event.unlisten(window,'scroll',g);FB.Event.unlisten(window,'resize',g);this.arbiterInform('platform/plugins/recommendations_bar/trigger',null,FB.Arbiter.BEHAVIOR_STATE);}return true;},'bind',true,this));FB.Event.listen(window,'scroll',g);FB.Event.listen(window,'resize',g);g();}this.visible=false;var h=a(500,ES5(function(){if(!this.visible&&this.calculateVisibility()){this.visible=true;this.arbiterInform('platform/plugins/recommendations_bar/visible');}else if(this.visible&&!this.calculateVisibility()){this.visible=false;this.arbiterInform('platform/plugins/recommendations_bar/invisible');}return true;},'bind',true,this));FB.Event.listen(window,'scroll',h);FB.Event.listen(window,'resize',h);h();this.focused=true;var i=ES5(function(){this.focused=!this.focused;return true;},'bind',true,this);FB.Event.listen(window,'blur',i);FB.Event.listen(window,'focus',i);this.resize_running=false;this.animate=false;this.subscribe('xd.signal_animation',ES5(function(){this.animate=true;},'bind',true,this));return true;},getSize:function(){return{height:25,width:(this._attr.action=='recommend'?140:96)};},calculateVisibility:function(){var a=document.documentElement.clientHeight;if(!this.focused&&window.console&&window.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return false;case"onvisible":var b=this.dom.getBoundingClientRect().top;return b<=a;default:var c=window.pageYOffset||document.body.scrollTop,d=document.documentElement.scrollHeight;return(c+a)/d>=this._attr.trigger;}}});FB.XFBML.RecommendationsBar.markRead=function(a){FB.Event.fire('xfbml.recommendationsbar.read',a||window.location.href);};FB.subclass('XFBML.Rectangle','XFBML.IframeWidget',null,{_widgetPipeEnabled:true,setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,color:this.getAttribute('color'),render_time:this.getAttribute('render_time'),height:this._getPxAttribute('height',50),width:this._getPxAttribute('width',200)};return true;},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'test_rectangle',params:this._attr};}});FB.subclass('XFBML.Registration','XFBML.IframeWidget',null,{_visibleAfter:'immediate',_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute('action'),border_color:this.getAttribute('border-color'),channel_url:this.getChannelUrl(),client_id:FB._apiKey,fb_only:this._getBoolAttribute('fb-only',false),fb_register:this._getBoolAttribute('fb-register',false),fields:this.getAttribute('fields'),height:this._getPxAttribute('height'),redirect_uri:this.getAttribute('redirect-uri',window.location.href),no_footer:this._getBoolAttribute('no-footer'),no_header:this._getBoolAttribute('no-header'),onvalidate:this.getAttribute('onvalidate'),width:this._getPxAttribute('width',600),target:this.getAttribute('target')};if(this._attr.onvalidate)this.subscribe('xd.validate',ES5(this,'bind',true,function(a){var b=ES5('JSON','parse',false,a.value),c=ES5(function(e){this.arbiterInform('Registration.Validation',{errors:e,id:a.id});},'bind',true,this),d=FB.Helper.executeFunctionByName(this._attr.onvalidate,b,c);if(d)c(d);}));this.subscribe('xd.authLogin',ES5(this._onAuthLogin,'bind',true,this));this.subscribe('xd.authLogout',ES5(this._onAuthLogout,'bind',true,this));return true;},getSize:function(){return{width:this._attr.width,height:this._getHeight()};},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(!this._attr.fields){a=['name'];}else try{a=ES5('JSON','parse',false,this._attr.fields);}catch(b){a=this._attr.fields.split(/,/);}if(this._attr.width<this._skinnyWidth){return this._skinnyBaseHeight+a.length*this._skinnyFieldHeight;}else return this._baseHeight+a.length*this._fieldHeight;},getUrlBits:function(){return{name:'registration',params:this._attr};},getDefaultWebDomain:function(){return'https_www';},_onAuthLogin:function(){if(!FB.getAuthResponse())FB.getLoginStatus();FB.Helper.fireEvent('auth.login',this);},_onAuthLogout:function(){if(!FB.getAuthResponse())FB.getLoginStatus();FB.Helper.fireEvent('auth.logout',this);}});FB.subclass('XFBML.ShareButton','XFBML.IframeWidget',null,{setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),href:FB.URI.resolve(this.getAttribute('href')),type:this.getAttribute('type')};return true;},getUrlBits:function(){return{name:'share_button',params:this._attr};},getSize:function(){return{height:60,width:200};}});FB.subclass('XFBML.SocialContext','XFBML.IframeWidget',null,{setupAndValidate:function(){var a=this.getAttribute('size','small');this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute('width',400),height:this._getPxAttribute('height',100),ref:this.getAttribute('ref'),size:this.getAttribute('size'),keywords:this.getAttribute('keywords'),urls:this.getAttribute('urls'),object_id:this.getAttribute('object_id')};this.subscribe('xd.social_context_stats',ES5(this._bubbleSocialContextStats,'bind',true,this));return true;},_bubbleSocialContextStats:function(a){var b={pluginID:this.getAttribute('plugin-id'),socialContextPageIDs:ES5('JSON','parse',false,a.social_context_page_ids)};FB.Event.fire('xfbml.social_context_stats',b);},getSize:function(){return{width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return{name:'social_context',params:this._attr};}});void(0);FB.provide("",{"_domain":{"api":"https:\/\/api.facebook.com\/","api_read":"https:\/\/api-read.facebook.com\/","cdn":"http:\/\/static.ak.fbcdn.net\/","cdn_foreign":"http:\/\/connect.facebook.net\/","graph":"https:\/\/graph.facebook.com\/","https_cdn":"https:\/\/s-static.ak.fbcdn.net\/","https_staticfb":"https:\/\/s-static.ak.facebook.com\/","https_www":"https:\/\/www.facebook.com\/","staticfb":"http:\/\/static.ak.facebook.com\/","www":"http:\/\/www.facebook.com\/","m":"http:\/\/m.facebook.com\/","https_m":"https:\/\/m.facebook.com\/"},"_locale":"en_US","_localeIsRtl":false},true);FB.provide('Auth',{"_xdStorePath":"xd_localstorage\/v2"},true);FB.provide('',{"initSitevars":{"parseXFBMLBeforeDomReady":false,"computeContentSizeVersion":0,"enableMobile":1,"enableMobileComments":1,"forceSecureXdProxy":1,"useAsync":0,"rpc":1,"iframePermissions":{"read_stream":false,"manage_mailbox":false,"manage_friendlists":false,"read_mailbox":false,"publish_checkins":true,"status_update":true,"photo_upload":true,"video_upload":true,"sms":false,"create_event":true,"rsvp_event":true,"offline_access":true,"email":true,"xmpp_login":false,"create_note":true,"share_item":true,"export_stream":false,"publish_stream":true,"publish_likes":true,"ads_management":false,"contact_email":true,"access_private_data":false,"read_insights":false,"read_requests":false,"read_friendlists":true,"manage_pages":false,"physical_login":false,"manage_groups":false,"read_deals":false}},"widgetPipeEnabledApps":{"111476658864976":1,"cca6477272fc5cb805f85a84f20fca1d":1,"179150165472010":1},"widgetPipeTagCountThreshold":4});FB.provide("TemplateData",{"_enabled":0},true);FB.provide("TemplateUI",{"_version":19},true);FB.provide("XFBML.ConnectBar",{"imgs":{"buttonUrl":"rsrc.php\/v2\/yY\/r\/h_Y6u1wrZPW.png","missingProfileUrl":"rsrc.php\/v2\/yo\/r\/UlIqmHJn-SK.gif"}},true);FB.provide("XFBML.ProfilePic",{"_defPicMap":{"pic":"rsrc.php\/v1\/yh\/r\/C5yt7Cqf3zU.jpg","pic_big":"rsrc.php\/v2\/yL\/r\/HsTZSDw4avx.gif","pic_big_with_logo":"rsrc.php\/v2\/y5\/r\/SRDCaeCL7hM.gif","pic_small":"rsrc.php\/v1\/yi\/r\/odA9sNLrE86.jpg","pic_small_with_logo":"rsrc.php\/v2\/yD\/r\/k1xiRXKnlGd.gif","pic_square":"rsrc.php\/v2\/yo\/r\/UlIqmHJn-SK.gif","pic_square_with_logo":"rsrc.php\/v2\/yX\/r\/9dYJBPDHXwZ.gif","pic_with_logo":"rsrc.php\/v2\/yu\/r\/fPPR9f2FJ3t.gif"}},true);if(FB.Dom&&FB.Dom.addCssRules){FB.Dom.addCssRules(".fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border-spacing:0;border:0;color:#000;cursor:auto;direction:ltr;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yA\/x\/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/y6\/x\/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yA\/x\/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/y6\/x\/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yA\/x\/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/y6\/x\/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n.fb_dialog_top_left{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yR\/x\/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n.fb_dialog_top_right{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yR\/x\/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n.fb_dialog_bottom_left{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yR\/x\/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n.fb_dialog_bottom_right{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yR\/x\/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100\u0025}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100\u0025;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yD\/x\/Cou7n-nqK52.gif)\nno-repeat 5px 50\u0025;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100\u0025;margin:0;left:-10000px;overflow:visible;position:absolute;top:-10000px;width:100\u0025\n}\n.fb_dialog.fb_dialog_mobile.loading{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yc\/x\/3rhSv5V8j3o.gif)\nwhite no-repeat 50\u0025 50\u0025;min-height:100\u0025;min-width:100\u0025;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100\u0025;min-height:100\u0025;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0 0, 0 100\u0025, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100\u0025\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0 0, 0 100\u0025, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yJ\/x\/jKEcVPZFk-2.gif) no-repeat 50\u0025 50\u0025;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{position:relative;display:-moz-inline-block;display:inline-block}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_iframe_widget span{position:relative;display:inline-block;vertical-align:text-bottom;text-align:justify}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yJ\/x\/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50\u0025;z-index:4}\n.fb_button_simple,\n.fb_button_simple_rtl{background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yH\/x\/eIpbnVKI9lR.png);background-repeat:no-repeat;cursor:pointer;outline:none;text-decoration:none}\n.fb_button_simple_rtl{background-position:right 0}\n.fb_button_simple .fb_button_text{margin:0 0 0 20px;padding-bottom:1px}\n.fb_button_simple_rtl .fb_button_text{margin:0 10px 0 0}\na.fb_button_simple:hover .fb_button_text,\na.fb_button_simple_rtl:hover .fb_button_text,\n.fb_button_simple:hover .fb_button_text,\n.fb_button_simple_rtl:hover .fb_button_text{text-decoration:underline}\n.fb_button,\n.fb_button_rtl{background:#29447e url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yl\/x\/FGFbc80dUKj.png);background-repeat:no-repeat;cursor:pointer;display:inline-block;padding:0 0 0 1px;text-decoration:none;outline:none}\n.fb_button .fb_button_text,\n.fb_button_rtl .fb_button_text{background:#5f78ab url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yl\/x\/FGFbc80dUKj.png);border-top:solid 1px #879ac0;border-bottom:solid 1px #1a356e;color:#fff;display:block;font-family:\"lucida grande\",tahoma,verdana,arial,sans-serif;font-weight:bold;padding:2px 6px 3px 6px;margin:1px 1px 0 21px;text-shadow:none}\na.fb_button,\na.fb_button_rtl,\n.fb_button,\n.fb_button_rtl{text-decoration:none}\na.fb_button:active .fb_button_text,\na.fb_button_rtl:active .fb_button_text,\n.fb_button:active .fb_button_text,\n.fb_button_rtl:active .fb_button_text{border-bottom:solid 1px #29447e;border-top:solid 1px #45619d;background:#4f6aa3;text-shadow:none}\n.fb_button_xlarge,\n.fb_button_xlarge_rtl{background-position:left -60px;font-size:24px;line-height:30px}\n.fb_button_xlarge .fb_button_text{padding:3px 8px 3px 12px;margin-left:38px}\na.fb_button_xlarge:active{background-position:left -99px}\n.fb_button_xlarge_rtl{background-position:right -268px}\n.fb_button_xlarge_rtl .fb_button_text{padding:3px 8px 3px 12px;margin-right:39px}\na.fb_button_xlarge_rtl:active{background-position:right -307px}\n.fb_button_large,\n.fb_button_large_rtl{background-position:left -138px;font-size:13px;line-height:16px}\n.fb_button_large .fb_button_text{margin-left:24px;padding:2px 6px 4px 6px}\na.fb_button_large:active{background-position:left -163px}\n.fb_button_large_rtl{background-position:right -346px}\n.fb_button_large_rtl .fb_button_text{margin-right:25px}\na.fb_button_large_rtl:active{background-position:right -371px}\n.fb_button_medium,\n.fb_button_medium_rtl{background-position:left -188px;font-size:11px;line-height:14px}\na.fb_button_medium:active{background-position:left -210px}\n.fb_button_medium_rtl{background-position:right -396px}\n.fb_button_text_rtl,\n.fb_button_medium_rtl .fb_button_text{padding:2px 6px 3px 6px;margin-right:22px}\na.fb_button_medium_rtl:active{background-position:right -418px}\n.fb_button_small,\n.fb_button_small_rtl{background-position:left -232px;font-size:10px;line-height:10px}\n.fb_button_small .fb_button_text{padding:2px 6px 3px;margin-left:17px}\na.fb_button_small:active,\n.fb_button_small:active{background-position:left -250px}\n.fb_button_small_rtl{background-position:right -440px}\n.fb_button_small_rtl .fb_button_text{padding:2px 6px;margin-right:18px}\na.fb_button_small_rtl:active{background-position:right -458px}\n.fb_share_count_wrapper{position:relative;float:left}\n.fb_share_count{background:#b0b9ec none repeat scroll 0 0;color:#333;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif;text-align:center}\n.fb_share_count_inner{background:#e8ebf2;display:block}\n.fb_share_count_right{margin-left:-1px;display:inline-block}\n.fb_share_count_right .fb_share_count_inner{border-top:solid 1px #e8ebf2;border-bottom:solid 1px #b0b9ec;margin:1px 1px 0 1px;font-size:10px;line-height:10px;padding:2px 6px 3px;font-weight:bold}\n.fb_share_count_top{display:block;letter-spacing:-1px;line-height:34px;margin-bottom:7px;font-size:22px;border:solid 1px #b0b9ec}\n.fb_share_count_nub_top{border:none;display:block;position:absolute;left:7px;top:35px;margin:0;padding:0;width:6px;height:7px;background-repeat:no-repeat;background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yP\/x\/bSOHtKbCGYI.png)}\n.fb_share_count_nub_right{border:none;display:inline-block;padding:0;width:5px;height:10px;background-repeat:no-repeat;background-image:url(http:\/\/static.ak.fbcdn.net\/rsrc.php\/v2\/yL\/x\/i_oIVTKMYsL.png);vertical-align:top;background-position:right 5px;z-index:10;left:2px;margin:0 2px 0 0;position:relative}\n.fb_share_no_count{display:none}\n.fb_share_size_Small .fb_share_count_right .fb_share_count_inner{font-size:10px}\n.fb_share_size_Medium .fb_share_count_right .fb_share_count_inner{font-size:11px;padding:2px 6px 3px;letter-spacing:-1px;line-height:14px}\n.fb_share_size_Large .fb_share_count_right .fb_share_count_inner{font-size:13px;line-height:16px;padding:2px 6px 4px;font-weight:normal;letter-spacing:-1px}\n.fb_share_count_hidden .fb_share_count_nub_top,\n.fb_share_count_hidden .fb_share_count_top,\n.fb_share_count_hidden .fb_share_count_nub_right,\n.fb_share_count_hidden .fb_share_count_right{visibility:hidden}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode==\"CSS1Compat\"? document.documentElement.scrollTop+\"px\":body.scrollTop+\"px\")}\n.fb_connect_bar{position:relative;margin:auto;height:100\u0025;width:100\u0025;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:\"lucida grande\", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fb_edge_widget_with_comment{position:relative;*z-index:1000}\n.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50\u0025 50\u0025;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender\n.FB_Loader{margin-top:0}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n\/* \u0040noflip *\/\n.fbpluginrecommendationsbarleft{left:10px}\n\/* \u0040noflip *\/\n.fbpluginrecommendationsbarright{right:10px}\n",["fb.css.base","fb.css.dialog","fb.css.iframewidget","fb.css.button","fb.css.sharebutton","fb.css.connectbarwidget","fb.css.edgecommentwidget","fb.css.sendbuttonformwidget","fb.css.plugin.recommendationsbar"]);}
if(FB.resolveSoft)FB.resolveSoft();})(window.inDapIF?parent.window:window);$(document).ready(function(){var userid=GetCookie('UID');if(userid!=null){$('#fgtpwd').hide();$('#register').hide();}
$('#containeriso').isotope('reLayout');if(getCookieLastLooking('cokShowPrivacySetting')!=null){if(getCookieLastLooking('cokShowPrivacySetting').toString()=="1"){setCookieLastLooking('cokShowPrivacySetting','0');if(fromCollectionDashBoardpage||fromWishlistpage){var IsFbSharedCalled="";IsFbSharedCalled=GetCookie("IsFbShareCalled");if(IsFbSharedCalled!=null){if(IsFbSharedCalled!=""){if(true){}
else{ShowPrivacySettings();}}
else{ShowPrivacySettings();}}
else{ShowPrivacySettings();}}
else{ShowPrivacySettings();}}}
window.onmessage=function(event){if(event.data==="UpdateSetting"){GetAccountSettings();if(fromCollectionDashBoardpage){$('.thumbImage').fadeIn('slow');GetCollectionDashBoardSettings(1);}
if(fromWishlistpage){GetCollectionDashBoardSettings(0);}}};});var baseUrl="http://ys1.yebhi.com/";var SiteID=84;setCookieLastLooking("SiteID",SiteID);var hasSocialFeatures=true;var Type="Get";var Url="";var Data=null;var ContentType="application/jsonp; charset=utf-8";var DataType="jsonp";var ProcessData=true;var CrossDomain=true;var queryStringData="";var AccountSettings=null;var FACEBOOK_APP_ID='272407552865672';var FACEBOOK_APP_SECRET='07ae3ae4f835b796792e188939bb3ba3';var FACEBOOK_REDIRECT_URL='http://yauth.yebhi.com/fbsocialresponse.aspx';var FACEBOOK_AFFILIATE_CODE='aff=GK54LDF';var INVITE_FRIENDS_WIDGET_GET_FRIENDS_COUNT=4;var collectionDescription=false;var getfacebookFriendsCheck=false;var fromReviewbuttonClick=false;function CheckIfSocialSite(){try{$(".feedbackform").show();if(!hasSocialFeatures){$(".Ndivulli").hide();$(".sizediv").show();if($('#friend_share').length){$("#friend_share").hide();$("#chart_detail").css("margin","0px");}
if($('#reviewscontainer').length){$("#reviewscontainer").hide();}
if($("#lastLookingParentDiv").length){$(".lastlookingclass").hide();}
if($("#socialMenu").length){$("#socialMenu").hide();}
if($("#similarCollectionsParentDiv").length){$("#similarCollectionsParentDiv").hide();}}
else{$("#wassupimg").show();var accountSettings=GetCookie('accountSettings');if(accountSettings==null||accountSettings==undefined||accountSettings==''){AccountSettings=null;GetAccountSettings();}
else{AccountSettings=JSON.parse(GetCookie('accountSettings'));}}}
catch(err){}}
var lastCommentDivId="";var containerwidth="";$(document).ready(function(){CheckIfSocialSite();if(fromDetailspage){if(hasSocialFeatures){GetLikeWantOwnCommentResponseDetailsPage();SaveActivityFeeds(ItemIds.split(",")[0],$('.plush_left h2').html(),imgurl,document.URL,$("#itemDiscountPrice").val(),1);GetMostActiveProduct(1,5);GetLastViewedProduct(1,5);if(getCookieLastLooking('UID')>0&&getCookieLastLooking('UID')!=undefined){GetAllWishListsForThisUser(0,'','');}}}
if(fromSearchpage||fromWishlistpage){if(hasSocialFeatures){GetLikeWantOwnCommentResponse();if(getCookieLastLooking('UID')>0&&getCookieLastLooking('UID')!=undefined){GetAllWishListsForThisUser();}}}
if(fromCollectionDashBoardpage){$('.thumbImage').fadeIn('slow');GetAccountSettings();}
if(fromWishlistpage){GetAccountSettings();}
if(getCookieLastLooking('GUID')==null||getCookieLastLooking('GUID')==undefined){setCookieLastLooking("GUID",guid());GUID=getCookieLastLooking('GUID');}
$("#btnLiveRefreshPause").unbind('click').bind('click',PauseLoading);$("#btnLiveRefreshPlay").unbind('click').bind('click',RefreshLoading);$("#divButtons").unbind('click').bind('click',ChangeImageSize);if($('#containeriso')!=null&&$('#containeriso')!=""&&$('#containeriso').length>0){containerwidth=$('#containeriso').width();}});function ddlSortBy_Change(PrmThis){if(PrmThis.value!=0){window.location.href=PrmThis.value}}
function ChangeImageSize(e){if($(e.target)!=undefined&&$(e.target)!=""&&$(e.target).val()!=""){switch($(e.target).val()){case"Big":changeisotopview(195,185);break;case"Bigger":changeisotopview(240,230);break;case"Biggest":changeisotopview(285,275);break;}}}
function PauseLoading(){timer.pause();$("#btnLiveRefreshPause").addClass('disablePause');$("#divReloading").hide();$("#divPause").show();$("#btnLiveRefreshPause").unbind('click');}
function RefreshLoading(){timer.play();$("#btnLiveRefreshPause").removeClass('disablePause').addClass('pause');$("#btnLiveRefreshPause").css({"cursor":"pointer"});$("#divPause").hide();$("#divReloading").show();$("#btnLiveRefreshPause").unbind('click').bind('click',PauseLoading);}
function PostComment(e,userId,itemId,txtComment,ResponseName){try{CheckIfLoggedIn(userId);if(e.keyCode==13){SaveResponse(userId,itemId,txtComment,ResponseName);$(txtComment).animate({backgroundColor:"black"},1000);}}
catch(err){alert(err);}}
function ShowCommentTxt(txtCommentId,postCommentId,divPostCommentId){try{if(CheckIfLoggedIn(GetCookie('UID'))){$("#"+divPostCommentId).slideToggle(300,function(){if(!$.browser.mozilla)
$("#"+txtCommentId).focus();});}}
catch(err){alert(err);}}
function ShowSizeDiv(divId){try{$("#"+divId).slideToggle(300,function(){});}
catch(err){alert(err);}}
function ShowHideRestFilterLinks(divtype,menutype,divId,flag){try{if(flag=='More'){$("#"+divtype+divId).css('display','block');$("#"+menutype+'More'+divId).css('display','none');$("#"+menutype+'Less'+divId).css('display','block');var $container=$('#containeriso');}
else{$("#"+divtype+divId).css('display','none');$("#"+menutype+'More'+divId).css('display','block');$("#"+menutype+'Less'+divId).css('display','none');var $container=$('#containeriso');}}
catch(err){alert(err);}}
function GetLikeWantOwnCommentResponse(){try{var commentCount,reviewcount;var itemIds;commentCount=3;reviewcount=3;if(typeof(ItemIds)=="undefined"||ItemIds==""||ItemIds==null){return false;}
itemIds=ItemIds.slice(0,-1);queryStringData="ItemIds="+itemIds;queryStringData+="&CommentCount="+commentCount;queryStringData+="&ReviewCount="+reviewcount;queryStringData+="&SiteID="+SiteID;var userID=GetCookie('UID');if(userID==null||typeof(userID)=="undefined"||userID==""){userID=0;}
queryStringData+="&UserID="+userID;Url=baseUrl+"ResponseService.svc/GetResponseContAndComment?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetLikeWantOwnCommentResponseResult){GetLikeWantOwnCommentResponseSucceeded(GetLikeWantOwnCommentResponseResult);},error:function(){GetLikeWantOwnCommentResponseFailed(GetLikeWantOwnCommentResponseResult);}});}
catch(err){}}
function GetLikeWantOwnCommentResponseSucceeded(dataObject){try{if(DataType=="jsonp"){if(dataObject.Code==100&&dataObject.Data!=null&&dataObject.Data!=""){for(i=0;i<dataObject.Data.length;i++)
{var data=dataObject.Data[i];document.getElementById('want_'+data.ItemID).innerHTML=data.WantCount;if(hasSocialFeatures){$('#li_want_'+data.ItemID).show();}
if(data.CanWant>0){$('#li_want_'+data.ItemID).css("background","none");$('#li_want_'+data.ItemID+' a').attr('onclick','').unbind('click');$('#li_want_'+data.ItemID+' a').removeAttr('href');$('#li_want_'+data.ItemID+' a').removeAttr('class');}
document.getElementById('like_'+data.ItemID).innerHTML=data.LikeCount;if(hasSocialFeatures){$('#li_like_'+data.ItemID).show();}
if(data.CanLike>0){$('#li_like_'+data.ItemID).css("background","none");$('#li_like_'+data.ItemID+' a').attr('onclick','').unbind('click');}
if(hasSocialFeatures){}
if(hasSocialFeatures){if(data.Comments.length>0){}
if(hasSocialFeatures){}}}}
else{}}
var $container=$('#containeriso');}
catch(err){}}
function GetLikeWantOwnCommentResponseFailed(Response){try{}
catch(err){}}
function SaveResponse(userId,itemId,txtComment,ResponseName,WishListID){try{var listID="";if(CheckIfLoggedIn(userId)==false){var objgetcookie;if(userId==null||userId==''||userId==undefined){if(GetCookie('ResponseNextAction')==null||GetCookie('ResponseNextAction')==undefined||GetCookie('ResponseNextAction')==''){var objResNextAction={"Option":ResponseName,"itemId":itemId,"txtComment":txtComment,"WishListID":WishListID};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{objgetcookie=JSON.parse(GetCookie('ResponseNextAction'));if(objgetcookie.Option=='WANT'||objgetcookie.Option=='LIKE'||objgetcookie.Option=='COMMENT'||objgetcookie.Option=='THOUGHTS'){var objResNextAction={"Option":ResponseName,"itemId":itemId,"txtComment":txtComment,"WishListID":WishListID};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{}}}
return false;}
var sourceId=1;var Response=true;if(IsRemoveFromCollection){Response=false;}
queryStringData="UserId="+userId;queryStringData+="&ItemId="+itemId;queryStringData+="&SourceId="+sourceId;if(fromWishlistpage){queryStringData+="&ItemURL="+escape($('#anchor_'+itemId).attr('href'));}
else{queryStringData+="&ItemURL="+escape(getBaseURL()+$('#anchor_'+itemId).attr('href'));}
queryStringData+="&ItemName="+$('#p_'+itemId).html();queryStringData+="&itemImgURL="+$('#itemImg_'+itemId).attr('src');queryStringData+="&itemMRP="+$('#itemMRP_'+itemId).attr('value');queryStringData+="&itemDiscount="+$('#itemDiscountPrice_'+itemId).attr('value');if(ResponseName=="LIKE"){queryStringData+="&islike="+Response;Url=baseUrl+"ResponseLikeService.svc/SaveResponseLike?"+queryStringData;$('#li_like_'+itemId).css("background","none");$('#li_like_'+itemId+' a').attr('onclick','').unbind('click');}
else if(ResponseName=="WANT"){listID=WishListID;if(WishListID==0){alert("Please Select a Collection.");}
else{queryStringData+="&isWant="+Response;queryStringData+="&listID="+WishListID;Url=baseUrl+"ResponseWantService.svc/SaveResponseWant?"+queryStringData;}}
else if(ResponseName=="OWN"){queryStringData+="&isOwn="+Response;Url=baseUrl+"ResponseOwnService.svc/SaveResponseOwn?"+queryStringData;}
else if(ResponseName=="COMMENT"){var txtComment=$(".fancybox-inner #"+txtComment);if($.trim(txtComment.val()).length==0){alert("Please provide some comment.");return;}
if($.trim(txtComment.val()).length>300){alert("Comment can not be more than 300 characters.");return;}
queryStringData+="&Comment="+escape(txtComment.val());txtComment.val('');Url=baseUrl+"ResponseCommentService.svc/SaveResponseComment?"+queryStringData;}
Url=Url+"&SiteID="+SiteID;Url=Url+"&UserName="+GetCookie('username');$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveResponseResult){SaveResponseServiceSucceeded(itemId,$('#p_'+itemId).html(),$('#itemImg_'+itemId).attr('src'),escape(getBaseURL()+$('#anchor_'+itemId).attr('href')),SaveResponseResult,ResponseName,$('#itemDiscountPrice_'+itemId).attr('value'),listID);},error:function(){SaveResponseServiceFailed(SaveResponseResult,ResponseName);}});}
catch(err){alert(err);}}
function SaveResponseServiceSucceeded(ItemId,ItemName,itemImgURL,ItemURL,DataObject,ResponseName,DiscountPrice,listID){try{if(DataType=="jsonp"){if(DataObject.Code==100){if(DataObject.ScalerData!=null){var CtrIdInnerHTML;var ScalerData=DataObject.ScalerData;if(ResponseName=="LIKE"){if(DataObject.ScalerData.IsLike==true){CtrIdInnerHTML=document.getElementById('like_'+ScalerData.ItemID).innerHTML;document.getElementById('like_'+ScalerData.ItemID).innerHTML=(parseInt(CtrIdInnerHTML)+1).toString();SaveActivityFeeds(ItemId,ItemName,itemImgURL,ItemURL,DiscountPrice,4);}}
else if(ResponseName=="WANT"){$.fancybox.close();CtrIdInnerHTML=document.getElementById('want_'+ScalerData.ItemID).innerHTML;document.getElementById('want_'+ScalerData.ItemID).innerHTML=(parseInt(CtrIdInnerHTML)+1).toString();if(!IsRemoveFromCollection){SaveActivityFeeds(ItemId,ItemName,itemImgURL,unescape(ItemURL),DiscountPrice,5);}
else{location.reload();}
PostToFacebookOnWant(ItemId,ItemName,itemImgURL,unescape(ItemURL),DiscountPrice,listID);}
else if(ResponseName=="COMMENT"){$.fancybox.close();if(DataObject.ScalerData.Comment!=""){if(hasSocialFeatures){}
SaveActivityFeeds(ItemId,ItemName,itemImgURL,ItemURL,DiscountPrice,6);}}}}}
var $container=$('#containeriso');}
catch(err){alert(err);}}
function SaveResponseServiceFailed(Response){try{alert("ServiceFailed Function Called");}
catch(err){alert(err);}}
function SaveResponseProductDetails(userId,itemId,txtComment,ResponseName,WishListID){var listID="";try{CheckIfLoggedIn(userId);var sourceId=1;var Response=true;queryStringData="UserId="+userId;queryStringData+="&ItemId="+itemId;queryStringData+="&SourceId="+sourceId;queryStringData+="&ItemURL="+escape(document.URL);queryStringData+="&ItemName="+$('#productTitle').html();queryStringData+="&itemImgURL="+imgurl;queryStringData+="&itemMRP="+$('#itemMRP').attr('value');queryStringData+="&itemDiscount="+$('#itemDiscountPrice').attr('value');if(ResponseName=="LIKE"){queryStringData+="&islike="+Response;queryStringData=queryStringData+"&SiteID="+SiteID;Url=baseUrl+"ResponseLikeService.svc/SaveResponseLike?"+queryStringData;queryStringData=queryStringData+"&SiteID="+SiteID;}
else if(ResponseName=="WANT"){listID=WishListID;if(WishListID==0){alert('Please Select a Collection');}
else{queryStringData+="&isWant="+Response;queryStringData+="&listID="+WishListID;queryStringData=queryStringData+"&SiteID="+SiteID;Url=baseUrl+"ResponseWantService.svc/SaveResponseWant?"+queryStringData;}}
else if(ResponseName=="OWN"){queryStringData+="&isOwn="+Response;Url=baseUrl+"ResponseOwnService.svc/SaveResponseOwn?"+queryStringData;}
else if(ResponseName=="COMMENT"){var txtComment=document.getElementById(txtComment);if($.trim(txtComment.val()).length==0){alert("Please provide some comment.");return;}
queryStringData+="&Comment="+txtComment.value;txtComment.value="";Url=baseUrl+"ResponseCommentService.svc/SaveResponseComment?"+queryStringData;}
$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveResponseResult){SaveResponseServiceSucceededProductDetails(SaveResponseResult,ResponseName,itemId,$('#productTitle').html(),imgurl,escape(document.URL),$('#itemDiscountPrice').attr('value'),listID);},error:function(){SaveResponseServiceFailedProductDetails(SaveResponseResult,ResponseName);}});}
catch(err){alert(err);}}
function SaveResponseServiceSucceededProductDetails(DataObject,ResponseName,ItemId,ItemName,itemImgURL,ItemURL,DiscountPrice,listID){try{if(DataType=="jsonp"){if(DataObject.Code==100){if(DataObject.ScalerData!=null){var CtrIdInnerHTML;var ScalerData=DataObject.ScalerData;if(ResponseName=="LIKE"){if(DataObject.ScalerData.IsLike==true){CtrIdInnerHTML=document.getElementById('like_'+ScalerData.ItemID).innerHTML;document.getElementById('like_'+ScalerData.ItemID).innerHTML="("+(parseInt(GetCountFromString(CtrIdInnerHTML))+1).toString()+') Like this';SaveActivityFeeds(ItemIds.split(",")[0],$('.plush_left h2').html(),imgurl,document.URL,$("#itemDiscountPrice").val(),4);}}
else if(ResponseName=="WANT"){if(DataObject.ScalerData.IsWant==true){$.fancybox.close();CtrIdInnerHTML=document.getElementById('want_'+ScalerData.ItemID).innerHTML;document.getElementById('want_'+ScalerData.ItemID).innerHTML="in ("+(parseInt(GetCountFromString(CtrIdInnerHTML))+1).toString()+') Collections';SaveActivityFeeds(ItemIds.split(",")[0],$('.plush_left h2').html(),imgurl,document.URL,$("#itemDiscountPrice").val(),5);PostToFacebookOnWant(ItemId,ItemName,itemImgURL,unescape(ItemURL),DiscountPrice,listID);}}
else if(ResponseName=="OWN"){if(DataObject.ScalerData.IsOwn==true){CtrIdInnerHTML=document.getElementById('Own_'+ScalerData.ItemID).innerHTML;document.getElementById('Own_'+ScalerData.ItemID).innerHTML="("+(parseInt(GetCountFromString(CtrIdInnerHTML))+1).toString()+') Like this';}}
else if(ResponseName=="COMMENT"){if(DataObject.ScalerData.Comment!=""){var CtrIdInnerHTML=document.getElementById('comment_'+ScalerData.ItemID).innerHTML;document.getElementById('comment_'+ScalerData.ItemID).innerHTML="("+(parseInt(GetCountFromString(CtrIdInnerHTML))+1).toString()+') Comments';var txtCommemt1=document.getElementById('comment1_'+ScalerData.ItemID);var txtCommemt2=document.getElementById('comment2_'+ScalerData.ItemID);var txtCommemt3=document.getElementById('comment3_'+ScalerData.ItemID);var txtCommemt1=document.getElementById('comment_txt_'+ScalerData.ItemID);var psotCommemt=document.getElementById('post_comment_div_'+ScalerData.ItemID);txtCommemt1.value="";$("#post_comment_div_"+ScalerData.ItemID).hide(300,function(){var $container=$('#containeriso');});if(txtCommemt2.innerHTML!=""){txtCommemt3.innerHTML=txtCommemt2.innerHTML;txtCommemt3.style.display="block";txtCommemt2.innerHTML=txtCommemt1.innerHTML;txtCommemt2.style.display="block";txtCommemt1.innerHTML=ScalerData.Comment;txtCommemt1.style.display="block";}
else if(txtCommemt1.innerHTML!=""){txtCommemt2.innerHTML=txtCommemt2.innerHTML;txtCommemt2.style.display="block";txtCommemt1.innerHTML=ScalerData.Comment;txtCommemt1.style.display="block";}
else{txtCommemt1.innerHTML=ScalerData.Comment;txtCommemt1.style.display="block";}}}}}}
var $container=$('#containeriso');}
catch(err){alert(err);}}
function SaveResponseServiceFailedProductDetails(Response){try{}
catch(err){alert(err);}}
function SaveMyResponseForProductDetails(userId,itemId,txtComment,ResponseName){if(CheckIfLoggedIn(userId)==false){var objgetcookie;if(userId==null||userId==''||userId==undefined){if(GetCookie('ResponseNextAction')==null||GetCookie('ResponseNextAction')==undefined||GetCookie('ResponseNextAction')==''){var objResNextAction={"Option":'LIKE',"itemId":itemId,"txtComment":txtComment,"WishListID":''};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{objgetcookie=JSON.parse(GetCookie('ResponseNextAction'));if(objgetcookie.Option=='WANT'||objgetcookie.Option=='LIKE'||objgetcookie.Option=='COMMENT'||objgetcookie.Option=='THOUGHTS'){var objResNextAction={"Option":'LIKE',"itemId":itemId,"txtComment":txtComment,"WishListID":''};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{}}}
return false;}
SaveResponseProductDetails(userId,itemId,txtComment,ResponseName);if(ResponseName=="WANT"){$('#wantli_'+itemId).attr('onclick','').unbind('click');$('#wantli_'+itemId).css("cursor","default");$('#wantli_'+itemId+' a').css("cursor","default");$('#wantli_'+itemId+' span').css("cursor","default");}
else if(ResponseName=="LIKE"&&CheckIfLoggedIn(userId)!=false){$('#likeli_'+itemId).attr('onclick','').unbind('click');$('#likeli_'+itemId).css("cursor","default");$('#likeli_'+itemId+' a').css("cursor","default");$('#likeli_'+itemId+' span').css("cursor","default");}}
function GetCountFromString(str){var from=str.indexOf('(');var to=str.indexOf(')');return str.substring(from+1,to);}
function GetLikeWantOwnCommentResponseDetailsPage(){try{var commentCount;var reviewcount;var itemIds;commentCount=3;reviewcount=3;if(typeof(ItemIds)=="undefined"||ItemIds==""||ItemIds==null){return false;}
itemIds=ItemIds.slice(0,-1);queryStringData="ItemIds="+itemIds;queryStringData+="&CommentCount="+commentCount;queryStringData+="&ReviewCount="+reviewcount;var userID=GetCookie('UID');if(userID==null||typeof(userID)=="undefined"||userID==""){userID=0;}
queryStringData+="&UserID="+userID;queryStringData+="&SiteID="+SiteID;Url=baseUrl+"ResponseService.svc/GetResponseContAndComment?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetLikeWantOwnCommentResponseResult){GetLikeWantOwnCommentResponseSucceededDetailsPage(GetLikeWantOwnCommentResponseResult);},error:function(){GetLikeWantOwnCommentResponseFailedDetailsPage(GetLikeWantOwnCommentResponseResult);}});}
catch(err){}}
var currentInnerHTML;function GetLikeWantOwnCommentResponseSucceededDetailsPage(dataObject){try{if(DataType=="jsonp"){if(dataObject.Code==100&&dataObject.Data!=null&&dataObject.Data!=""){for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];document.getElementById('want_'+data.ItemID).innerHTML="In ("+data.WantCount+") Collections";if(data.CanWant>0){if($('#wantli_'+data.ItemID+' a').length){$('#wantli_'+data.ItemID+' a').css("cursor","default");}
if($('#wantli_'+data.ItemID+' span').length){$('#wantli_'+data.ItemID+' span').css("cursor","default");}
$('#wantli_'+data.ItemID).attr('onclick','').unbind('click');$('#wantli_'+data.ItemID).removeAttr('href');$('#wantli_'+data.ItemID).removeAttr('class');$('#wantli_'+data.ItemID).css('cursor','default');$('#want_'+data.ItemID).attr('onclick','').unbind('click');$('#want_'+data.ItemID).removeAttr('href');$('#want_'+data.ItemID).removeAttr('class');$('#want_'+data.ItemID).css('cursor','default');}
document.getElementById('like_'+data.ItemID).innerHTML="("+data.LikeCount+") Like this";if(data.CanLike>0){$('#likeli_'+data.ItemID).attr('onclick','').unbind('click');$('#likeli_'+data.ItemID).css("cursor","default");$('#likeli_'+data.ItemID+' a').css("cursor","default");$('#likeli_'+data.ItemID+' span').css("cursor","default");}
totalCount=data.ReviewCount;document.getElementById('productreviewstars').innerHTML='<a  title="" id="review_'+data.ItemID+'" onclick="GoToByScroll(\'reviewscontainer\');" style="cursor:hand; cursor: pointer"> ()  Reviews </a>';$('#review_'+data.ItemID).html("("+data.ReviewCount+") Reviews");document.getElementById('productreviewstars').innerHTML=GetRatingStarsFromRating(data.ReviewRating)+"<br/>"+$('#productreviewstars').html();if(data.Reviews.length>0){if(data.Reviews.length==1){document.getElementById('review1_'+data.ItemID).innerHTML=data.Reviews[0].Review;document.getElementById('review1_'+data.ItemID).style.display="block";document.getElementById('review1stars').innerHTML=GetRatingStarsFromRating(data.Reviews[0].Rating);document.getElementById('review1stars').style.display="block";if(data.ReviewCount>1){document.getElementById('morediv').style.display="block";}
document.getElementById('review1_'+data.ItemID).style.border="none";}
else if(data.Reviews.length==2){document.getElementById('review1_'+data.ItemID).innerHTML=data.Reviews[0].Review;document.getElementById('review1_'+data.ItemID).style.display="block";document.getElementById('review1stars').innerHTML=GetRatingStarsFromRating(data.Reviews[0].Rating);document.getElementById('review1stars').style.display="block";document.getElementById('review2_'+data.ItemID).innerHTML=data.Reviews[1].Review;document.getElementById('review2_'+data.ItemID).style.display="block";document.getElementById('review2stars').innerHTML=GetRatingStarsFromRating(data.Reviews[1].Rating);document.getElementById('review2stars').style.display="block";if(data.ReviewCount>2){document.getElementById('morediv').style.display="block";}
document.getElementById('review2_'+data.ItemID).style.border="none";}
else if(data.Reviews.length==3){document.getElementById('review1_'+data.ItemID).innerHTML=data.Reviews[0].Review;document.getElementById('review1_'+data.ItemID).style.display="block";document.getElementById('review1stars').innerHTML=GetRatingStarsFromRating(data.Reviews[0].Rating);document.getElementById('review1stars').style.display="block";document.getElementById('review2_'+data.ItemID).innerHTML=data.Reviews[1].Review;document.getElementById('review2_'+data.ItemID).style.display="block";document.getElementById('review2stars').innerHTML=GetRatingStarsFromRating(data.Reviews[1].Rating);document.getElementById('review2stars').style.display="block";document.getElementById('review3_'+data.ItemID).innerHTML=data.Reviews[2].Review;document.getElementById('review3_'+data.ItemID).style.display="block";document.getElementById('review3stars').innerHTML=GetRatingStarsFromRating(data.Reviews[2].Rating);document.getElementById('review3stars').style.display="block";if(data.ReviewCount>3){document.getElementById('morediv').style.display="block";}
document.getElementById('review3_'+data.ItemID).style.border="none";}}}}
else{}}}
catch(err){alert(err);}}
function GetLikeWantOwnCommentResponseFailedDetailsPage(Response){try{}
catch(err){alert(err);}}
function GetRatingStarsFromRating(rating){var str="";result=Math.round(rating*10)/10;if(((result*10)%10)<5){result=parseInt(result);for(var i=0;i<result;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'  />";}
for(var i=0;i<(5-result);i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px'  />";}}
else if(((result*10)%10)>5){result=parseInt(result)+1;for(var i=0;i<result;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'  />";}
for(var i=0;i<(5-result);i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px'  />";}}
else{result=parseInt(result);for(var i=0;i<result;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'  />";}
str=str+"<img src='/template/yebhi/img/half-star.png' width='14px' height='14px'  />";for(var i=0;i<(5-result-1);i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px'  />";}}
return str;}
var Rows=2;var Page=1;var ItemID;var totalCount;var IsFirstTimeShowReview=true;function GetallReviewsForThisProduct(itemID){try{ItemID=itemID;if(typeof(itemID)=="undefined"||itemID==""||itemID==null){return false;}
queryStringData="ItemId="+itemID;if(GetCookie('UID')==null||GetCookie('UID')=="undefined"||GetCookie('UID')==""){queryStringData=queryStringData+"&Rows="+Rows+"&Page="+Page+"&UserID=0";}
else{queryStringData=queryStringData+"&Rows="+Rows+"&Page="+Page+"&UserID="+GetCookie('UID').toString();}
Url=baseUrl+"ResponseProductReviewService.svc/GetResponseAllReviews?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetallReviewsForThisProductResult){GetallReviewsForThisProductSucceeded(GetallReviewsForThisProductResult);},error:function(){GetallReviewsForThisProductFailed(GetallReviewsForThisProductResult);}});}
catch(err){alert(err);}}
function GetallReviewsForThisProductSucceeded(dataObject){try{var innerHTMLString=" <br/> <h3 style='color:#3E3E3E;'>Reviews</h3><br/>";if(DataType=="jsonp"){if(dataObject.Code==100&&dataObject.Data!=null&&dataObject.Data!=""){for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];if(i==(dataObject.Data.length-1)){innerHTMLString=innerHTMLString+"<p class='colum_reviews' style='border:none;'><br/><div style='float:left'>";innerHTMLString=innerHTMLString+GetRatingStarsFromRating(data.Rating);innerHTMLString=innerHTMLString+"</div><div style='float:right;font-size:11px'><i style='color:#999999'>"+new Date(parseInt(data.ReveiwDate.substr(6))).toString().substr(0,15)+"</i></div></p><br/>";innerHTMLString=innerHTMLString+"<br/><p class='colum_review_1' style='border:none;'>";innerHTMLString=innerHTMLString+data.Review;innerHTMLString=innerHTMLString+"</p>";}
else{innerHTMLString=innerHTMLString+"<p class='colum_reviews' style='border:none;'><div style='float:left'>";innerHTMLString=innerHTMLString+GetRatingStarsFromRating(data.Rating);innerHTMLString=innerHTMLString+"</div><div style='float:right;font-size:11px'><i style='color:#999999'>"+new Date(parseInt(data.ReveiwDate.substr(6))).toString().substr(0,15)+"</i></div></p><br/>";innerHTMLString=innerHTMLString+"<br/><p class='colum_review_1'>";innerHTMLString=innerHTMLString+data.Review;innerHTMLString=innerHTMLString+"</p>";}}
if(Page!=1){innerHTMLString+=" <br/> <div class='ReviewPagination' onclick='CallPrevReviews()'> &lt; Previous</div> <div style='float:left; padding-top:5px'> <br/> &nbsp;&nbsp;"+Page+"/"+parseInt((totalCount+Rows-1)/Rows)+"&nbsp;&nbsp;</div> ";}
else{innerHTMLString+=" <br/> <div style='float:left; padding-top:5px'> <br/> &nbsp;&nbsp;"+Page+"/"+parseInt((totalCount+Rows-1)/Rows)+"&nbsp;&nbsp;</div> ";}
if(((Page)*Rows)<totalCount){innerHTMLString+="<div class='ReviewPagination' onclick='CallNextReviews()'> Next &gt;</div>";}
$('#allreviewspopup').html(innerHTMLString);}
else{}}}
catch(err){alert(err);}}
function CallNextReviews(){if(Page<parseInt(((totalCount+Rows-1)/Rows))){Page++;GetallReviewsForThisProduct(ItemID);}}
function CallPrevReviews(){if(Page>1){Page--;GetallReviewsForThisProduct(ItemID);}}
function GetallReviewsForThisProductFailed(Response){try{}
catch(err){}}
var productRating=5;var isRatingSaved=false;function UpdateRating(rating){CheckIfLoggedIn(userId);if(!isRatingSaved){document.getElementById('updateratingdiv').style.display="block";var str="";result=Math.round(rating*10)/10;if(result>0){for(var i=0;i<result;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'  onclick='SaveProductRating("+(i+1)+")'  />";}
for(var i=0;i<(5-result);i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px'  onclick='SaveProductRating("+(i+result+1)+")'  />";}
document.getElementById('updateratingdiv').innerHTML=str;}
else{result=-result;for(var i=0;i<(result-1);i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'    onclick='SaveProductRating("+(i+1)+")' />";}
for(var i=0;i<(5-(result-1));i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px'   onclick='SaveProductRating("+(i+result+1)+")'  />";}
document.getElementById('updateratingdiv').innerHTML=str;}}}
function SaveProductRating(rating){var str="";for(var i=0;i<rating;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px' onclick='SaveProductRating("+(i+1)+")'  />";}
for(var i=0;i<(5-rating);i++){str=str+"<img src='/template/yebhi/img/gray-star.png' width='14px' height='14px' onclick='SaveProductRating("+(i+rating+1)+")'  />";}
document.getElementById('updateratingdiv').innerHTML=str;productRating=rating;}
function SaveReview(UserId,ItemId,SourceId,Review,Rating,IsPositive,IsServicePositive){try{CheckIfLoggedIn(UserId);var sourceId=1;var Response=true;queryStringData="UserId="+UserId;queryStringData+="&ItemId="+ItemId;queryStringData+="&SourceId="+1;queryStringData+="&Review="+$("#txtareaforreview").val();queryStringData+="&Rating="+productRating;queryStringData+="&IsPositive=true";queryStringData+="&IsServicePositive=true";queryStringData+="&ItemURL="+escape(document.URL);queryStringData+="&ItemName="+escape($('#productTitle').html());var userName=GetCookie('username');if(userName==null||typeof(userName)=="undefined"||userName==""){userName="";}
queryStringData+="&UserFName="+userName;queryStringData+="&UserLName=";Url=baseUrl+"ResponseProductReviewService.svc/SaveResponseReview?"+queryStringData;Review=$("#txtareaforreview").val();if($.trim(Review)!=""&&Review!=null){$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveResponseResult){SaveReviewSucceeded(SaveResponseResult);},error:function(){SaveReviewFailed(SaveResponseResult);}});}
else{$('#txtareaforreview').val('');alert("Please Enter Some Text.");}}
catch(err){alert(err);}}
function SaveReviewSucceeded(dataObject){$("#ReviewThisItemForm").hide(500);$("#ReviewMessage").show(500);$("#ReviewMessage").css("background-color","green");$("#ReviewMessage h2").html("Thank you for your Review!");$("#ReviewMessage").fadeOut(4500);GetLikeWantOwnCommentResponseDetailsPage();}
function SaveReviewFailed(response){try{$("#ReviewThisItemForm").hide(500);$("#ReviewMessage").show(500);$("#ReviewMessage").css("background-color","red");$("#ReviewMessage h2").html("Please try again later.");$("#ReviewMessage").fadeOut(4500);}
catch(err){}}
function showreviewform(userId){fromReviewbuttonClick=true;if(CheckIfLoggedIn(userId)){$("#ReviewTable").css({opacity:0});$("#ReviewThisItemForm").toggle(300,function(){$("#ReviewTable").animate({opacity:1},500);});ResetRatingStars();}}
function GoToByScroll(id){$('html,body').animate({scrollTop:$("#"+id).offset().top},'slow');}
function ResetRatingStars(){var str='';for(var i=0;i<5;i++){str=str+"<img src='/template/yebhi/img/star.png' width='14px' height='14px'  onclick='SaveProductRating("+(i+1)+")'  />";}
document.getElementById('updateratingdiv').innerHTML=str;$("#txtareaforreview").val("");productRating=5;isRatingSaved=false;}
function SaveYourThoughts(UserId,ItemId,SourceId,ThoughtId){try{if(CheckIfLoggedIn(UserId)==false){var objgetcookie;var objResNextAction
if(UserId==null||UserId==''||UserId==undefined){if(GetCookie('ResponseNextAction')==null||GetCookie('ResponseNextAction')==undefined||GetCookie('ResponseNextAction')==''){objResNextAction={"Option":'THOUGHTS',"itemId":ItemId,"txtComment":SourceId,"WishListID":ThoughtId};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{objgetcookie=JSON.parse(GetCookie('ResponseNextAction'));if(objgetcookie.Option=='WANT'||objgetcookie.Option=='LIKE'||objgetcookie.Option=='COMMENT'||objgetcookie.Option=='THOUGHTS'){objResNextAction={"Option":'THOUGHTS',"itemId":ItemId,"txtComment":SourceId,"WishListID":ThoughtId};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{}}}
return false;}
var sourceId=1;var Response=true;queryStringData="UserId="+UserId;queryStringData+="&ItemId="+ItemId;queryStringData+="&SourceId="+1;queryStringData+="&responseFeedbackId="+ThoughtId;Url=baseUrl+"ResponseFeedbackService.svc/SaveResponseFeedback?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveResponseResult){SaveYourThoughtsSucceeded(SaveResponseResult);},error:function(){SaveYourThoughtsFailed(SaveResponseResult);}});}
catch(err){}}
function SaveYourThoughtsSucceeded(dataObject){$(".review_box").slideUp(500);$(".review_box_msg").show(300);$(".review_box_msg h4").html("Thank you for sharing your thought!");$(".review_box_msg").fadeOut(4500);}
function SaveYourThoughtsFailed(response){$(".review_box").slideUp(500);$(".review_box_msg").show(300);$(".review_box_msg").css("background-color","red");$(".review_box_msg h4").html("Please try again later.");$(".review_box_msg").fadeOut(4500);}
$("#home_customer_support").hover(function(){$(".items_suport_layover").slideToggle("slow");});function redirectToregister(){if(getQueryParameter('page')!='null'){setTimeout(function(){window.location=('/register.aspx?page=cart');},0);}
else{setTimeout(function(){window.location=('/register.aspx');},0);}}
function CheckIfLoggedIn(userID){return loginPopup();}
function getBaseURL(){return location.protocol+"//"+location.hostname+(location.port&&":"+location.port);}
function CloseYourThoughts(){$(".review_box").slideUp(500);}
function SaveMyProductViewedHistory(){try{if(hasSocialFeatures){var ProductID,ProductName,ImgURL,DetailsURL,MRP,DiscountPrice;ProductID=ItemIds.split(",")[0];ProductName=$('.plush_left h2').html();ImgURL=imgurl;DetailsURL=document.URL;MRP=listPriceProduct;DiscountPrice=yourPriceProduct;var GUID='';var UID='';if(getCookieLastLooking('GUID')==null||getCookieLastLooking('GUID')=='undefined'){setCookieLastLooking("GUID",guid());GUID=getCookieLastLooking('GUID');}
else{GUID=getCookieLastLooking('GUID');}
if(getCookieLastLooking('UID')!=null&&getCookieLastLooking('UID')!='undefined'){UID=getCookieLastLooking('UID');}
SaveMyViewedProduct(GUID,UID,ProductID,ProductName,ImgURL,DetailsURL,MRP,DiscountPrice);}}
catch(err){alert(err);}}
function SaveMyViewedProduct(GUID,UID,ProductID,ProductName,ImgURL,DetailsURL,MRP,DiscountPrice){try{var queryString="GUID="+GUID+"&UID="+UID+"&ProductID="+strip(ProductID)+"&ProductName="+strip(ProductName)+"&ImgURL="+ImgURL+"&DetailsURL="+DetailsURL+"&MRP="+MRP+"&DiscountPrice="+DiscountPrice+"&SiteID="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/SaveResponseLastLooking?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveResponseResult){SaveMyViewedProductSucceeded(SaveResponseResult);},error:function(){SaveMyViewedProductFailed(SaveResponseResult);}});}
catch(err){alert(err);}}
function SaveMyViewedProductSucceeded(SaveResponseResult){try{}
catch(err){alert(err);}}
function SaveMyViewedProductFailed(SaveResponseResult){try{}
catch(err){alert(err);}}
function ApplyStyleToMyAccountOnHover(){$("#MyAccountDDN").css("display","block");$("#myAccountMouseOverSpan").css("background","url(/template/yebhi/img/Arrowsprites.png) -13px -1px no-repeat");}
function RemoveStyleToMyAccountOnHover(){$("#MyAccountDDN").css("display","none");$("#myAccountMouseOverSpan").css("background","url(/template/yebhi/img/Arrowsprites.png) -13px -1px no-repeat");}
function SetHeaderAsLoggedIn(){try{var username='';if(getCookieLastLooking('username')!=null&&getCookieLastLooking('username')!='undefined'){username='<ul  class="MyAccntLst"><li style="text-transform:capitalize; font-size:14px; padding:5px 0 5px 5px; text-align:left;">Hello, '+getCookieLastLooking('username')+'</li></ul>';}
var strStart='<div><div onmouseout="RemoveStyleToMyAccountOnHover()" onmouseover="ApplyStyleToMyAccountOnHover()" class="MyAccountsTabDefault" id="myAccountDiv"><p style="display:inline; color:#A01C20;">MY ACCOUNT</p></div><div onmouseout="RemoveStyleToMyAccountOnHover()" onmouseover="ApplyStyleToMyAccountOnHover()" id="MyAccountDDN" style="display: none;">'+username+'<ul  class="MyAccntLstN"><li><a href="/myaccount.aspx">Account Summary </a></li>';if(hasSocialFeatures){strStart=strStart+'<li><a onclick="ShowPrivacySettings();">Privacy Settings</a></li>';}
var strLast='<li><a href="/myaccount.aspx">My Orders</a></li><li><a href="/myaccount.aspx?tab=mywallet" >My Wallet</a></li><li><a href="/myaccount.aspx?tab=profile">My Profile</a></li></ul>';var string=strStart+strLast;if(hasSocialFeatures){string+=' <ul  id="socialMenu" class="MyAccntLstN"><li><a href="/LastLooking.aspx">Recently Viewed </a></li><li><a href="/UsersWishList.aspx?userid='+getCookieLastLooking('UID')+'">My Collections </a></li><li><a href="/MyLikes.aspx">My Likes </a></li></ul>';}
string+='<ul  class="MyAccntLstN" style="border-bottom:none;"><li><a href="/logout.aspx" id="anchSighin">Sign Out</a></li></ul></div></div>';$('#headerLinks4').html(string);}
catch(err){alert(err);}}
function SetHeaderAsLoggedOut(){setCookieLastLooking('accountSettings','');var string='<div style="padding-top:5px;"><a id="anchSighin" href="javascript:;" onclick="loginPopup();" style="font-family:Trebuchet MS; margin-top:5px; color:#A01C20;">SIGN IN </a></div>';$('#headerLinks4').html(string);}
function GetLastViewedProduct(Page,ItemsPerPage){try{if(hasSocialFeatures){var GUID='';var UID='';if(getCookieLastLooking('GUID')==null||getCookieLastLooking('GUID')=='undefined'){setCookieLastLooking("GUID",guid());GUID=getCookieLastLooking('GUID');}
else{GUID=getCookieLastLooking('GUID');}
if(getCookieLastLooking('UID')!=null&&getCookieLastLooking('UID')!='undefined'){UID=getCookieLastLooking('UID');}
var queryString="GUID="+GUID+"&UID="+UID+"&Page="+Page+"&ItemsPerPage="+ItemsPerPage+"&SiteID="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/GetLastLookingItems?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(lastLookingResponse){GetLastViewedProductSucceeded(lastLookingResponse);},error:function(x,s,e){GetLastViewedProductFailed();}});}}
catch(err){alert(err);}}
function GetLastViewedProductSucceeded(dataObject){try{if(dataObject.Code==100){if(fromDetailspage){SaveMyProductViewedHistory();}
if(dataObject.Data!=null&&dataObject.Data!=""&&dataObject.Data.length>0){$('#lastLookingContainer').removeClass("LastlookHide").addClass("LastlookShow");$('#lastLookingParentDiv').show('slow');}
else{$('#lastLookingContainer').removeClass("LastlookShow").addClass("LastlookHide");}
if(dataObject.Data!=null&&dataObject.Data!=""&&dataObject.Data.length>0){var htm='<ul style="float:left;list-style-type: none;" id="infinitePC">';for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];htm=htm+'<li style="float:left;"><div style="border: 1px solid #e1e1e1;clear:none;margin-right:3px;width:240px;" class="search-item price_Reviews" ><div style="text-align:center;"><a href="'+data.DetailsURL+'" class="gotopage"><img style="height:230px; max-width:230px; margin:5px;" title="'+data.ProductName+'" alt="'+data.ProductName+'" src="'+data.ImgURL+'"></a></div><p><a href="'+data.DetailsURL+'" >'+data.ProductName+'</a></p>';if(data.MRP!=data.DiscountPrice){htm=htm+'<p class="priice">Price <span>: </span><span class="SmlRupeeSymbl" style="margin-left:5px;">&nbsp;&nbsp;</span><span class="price-1">'+data.MRP+'</span><span class="inr"><span class="SmlRupeeSymblRed">&nbsp;&nbsp;</span> '+data.DiscountPrice+'</span></p><p class="saving">Savings<span> : <span class="SmlRupeeSymblSaving">&nbsp;&nbsp;</span> '+(data.MRP-data.DiscountPrice)+' or '+Math.round(((data.MRP-data.DiscountPrice)/data.MRP)*100)+'%</span></p>';}
else{htm=htm+'<p class="priice">Price <span class="inr">: <span class="SmlRupeeSymblRed">&nbsp;&nbsp;</span> '+data.MRP+'</span></p>';}}
htm=htm+'</ul>';$("#lastLooking").html(htm);}}}
catch(err){alert(err);}}
function GetLastViewedProductFailed(){try{}
catch(err){}}
function S4(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);}
function guid(){return(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());}
function setCookieLastLooking(c_name,value,exdays){var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays==null)?"":"; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value+";path=/";}
function MapGUIDToUID(){try{if(hasSocialFeatures){var GUID='';var UID='';if(getCookieLastLooking('GUID')!=null||getCookieLastLooking('GUID')!='undefined'){GUID=getCookieLastLooking('GUID');}
if(getCookieLastLooking('UID')!=null&&getCookieLastLooking('UID')!='undefined'){UID=getCookieLastLooking('UID');}
if(GUID!=''&&UID!=''){var queryString="GUID="+GUID+"&UID="+UID+"&SiteID="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/MapGUIDToUID?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(lastLookingResponse){},error:function(x,s,e){}});}}}
catch(err){alert(err);}}
function GetValueFromUserCookieCookie(str,key){var params=str.replace('?','').split("&");for(i=0;i<params.length;i++){val=params[i].split("=");if(val[0]==key){return unescape(val[1]);}}
return'';}
function isScrolledIntoView(elem){var docViewTop=$(window).scrollTop();var docViewBottom=docViewTop+$(window).height();var elemTop=$(elem).offset().top;var elemBottom=elemTop+$(elem).height();return((elemBottom<=docViewBottom)&&(elemTop>=docViewTop));}
function SaveActivityFeeds(itemID,productName,productImgURL,productURL,productPrice,typeOfAction){try{if(hasSocialFeatures){var queryStringData='';queryStringData+='ItemID='+itemID;queryStringData+='&ProductName='+strip(productName);queryStringData+='&ProductImgURL='+productImgURL;queryStringData+='&DiscountPrice='+productPrice;if(typeOfAction==3){queryStringData+='&ProductURL='+getBaseURL()+'/'+productURL;}
else{queryStringData+='&ProductURL='+productURL;}
var userName=GetCookie('username');if(userName==null||typeof(userName)=="undefined"||userName==""){userName="";}
queryStringData+='&UserName='+userName;queryStringData+='&TypeOfAction='+typeOfAction;queryStringData+='&SiteID='+SiteID;var userID=GetCookie('UID');if(userID==null||typeof(userID)=="undefined"||userID==""){userID=0;}
queryStringData+="&UserID="+userID;Url=baseUrl+"ResponseYebhiStrands.svc/SaveLiveFeed?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveActivityFeedsResponse){SaveActivityFeedsSuccess(SaveActivityFeedsResponse);},error:function(){SaveActivityFeedsFail(SaveActivityFeedsResponse);}});}}
catch(err){alert(err);}}
function SaveActivityFeedsSuccess(dataObject){try{if(DataType=="jsonp"){if(dataObject.Code==100){}
else{alert("Error"+dataObject.Massage);}}}
catch(err){alert(err);}}
function SaveActivityFeedsFail(Response){try{alert("Service Call for saving feeds failed.");}
catch(err){alert(err);}}
function SaveActivityFeedsBuyNow(){SaveActivityFeeds(ItemIds.split(",")[0],$('.plush_left h2').html(),imgurl,document.URL,$("#itemDiscountPrice").val(),2);}
function GetAllWishListsForThisUser(isReset,lstName,cmbID){try{if(hasSocialFeatures){var queryStringData='';var userID=GetCookie('UID');if(userID==null||typeof(userID)=="undefined"||userID==""){userID=0;}
queryStringData+="UserID="+userID;queryStringData+="&SiteID="+SiteID;Url=baseUrl+"ResponseWantService.svc/GetAllWantListsForUserJson?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){GetAllWishListsForThisUserSuccess(response,isReset,lstName,cmbID);},error:function(){GetAllWishListsForThisUserFailure(response);}});}}
catch(err){alert(err);}}
var collectionNames=''
function GetAllWishListsForThisUserSuccess(dataObject,isReset,lstName,cmbID){if(DataType=="jsonp"){if(dataObject.Code==100&&dataObject.Data!=null&&dataObject.Data!=""){var str='<option value="0"> --- Please Select --- </option>';for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];str=str+'<option value="'+data.WantListID+'">'+data.WantListName+'</option>';}
$('select.cmdSelectWishListClass').html(str);str='<option value="0"> --- Please Select --- </option>';for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];if(isReset==1&&data.WantListName==lstName){str=str+'<option value="'+data.WantListID+'" selected="selected">'+data.WantListName+'</option>';}
else{str=str+'<option value="'+data.WantListID+'">'+data.WantListName+'</option>';}}
$(cmbID).html(str);collectionNames=str;}
else{}}}
function GetAllWishListsForThisUserFailure(dataObject){}
function SaveWishListsForThisUser(wantID){try{var queryStringData='';var userID=GetCookie('UID');var listName=escape($("#btn_"+wantID).val());if(userID==null||typeof(userID)=="undefined"||userID==""){userID=0;}
queryStringData+="UserID="+userID;queryStringData+="&ListName="+listName;queryStringData+="&SiteID="+SiteID;Url=baseUrl+"ResponseWantService.svc/SaveMyWishList?"+queryStringData;if($.trim($("#btn_"+wantID).val())==""){alert('Please Enter Valid Collection Name');}
else{$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){SaveWishListsForThisUserSuccess(response,"#cmb_"+wantID,listName);},error:function(){SaveWishListsForThisUserFailure(response);}});}
$("#btn_"+wantID).val('');}
catch(err){alert(err);}}
function SaveWishListsForThisUserSuccess(dataObject,cmdID,lstName){if(DataType=="jsonp"){if(dataObject.Code==100){GetAllWishListsForThisUser(1,lstName,cmdID);SaveNewWishlistSucceeded(cmdID);}
else if(dataObject.Code==103){SaveNewWishlistFailed(cmdID);}}}
function SaveWishListsForThisUserFailure(dataObject){}
function SaveNewWishlistSucceeded(cmdID){$(cmdID+"_span_failed").hide(0);$(cmdID+"_span_succcess").show(500);}
function SaveNewWishlistFailed(cmdID){$(cmdID+"_span_succcess").hide(0);$(cmdID+"_span_failed").show(500);}
function ResetMsg(divID){var userId=GetCookie('UID');if(CheckIfLoggedIn(userId)==false){var objgetcookie;if(userId==null||userId==''||userId==undefined){if(GetCookie('ResponseNextAction')==null||GetCookie('ResponseNextAction')==undefined||GetCookie('ResponseNextAction')==''){var objResNextAction={"Option":'WANT',"itemId":divID.substring(9),"txtComment":'',"WishListID":$('#itemImg_'+divID.substring(9)).attr('src')};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{objgetcookie=JSON.parse(GetCookie('ResponseNextAction'));if(objgetcookie.Option=='WANT'||objgetcookie.Option=='LIKE'||objgetcookie.Option=='COMMENT'||objgetcookie.Option=='THOUGHTS'){var objResNextAction={"Option":'WANT',"itemId":divID.substring(9),"txtComment":'',"WishListID":$('#itemImg_'+divID.substring(9)).attr('src')};setCookieLastLooking("ResponseNextAction",JSON.stringify(objResNextAction));}
else{}}}
return false;}
$("#cmb_"+divID+"_span_succcess").css("display","none");$("#cmb_"+divID+"_span_failed").css("display","none");if($('select.cmdSelectWishListClass').length){$('select.cmdSelectWishListClass').html(collectionNames);}
var val=GetCookie('PostOnCollectionAdd');if(val!=null&&val!=undefined&&val!=""){if(val==0){$('.spanIsFbConnected').show('slow');}}}
function EditWishList(actionType,id){try{var queryStringData='';queryStringData+="ListID="+$("#hfID_"+id).val();queryStringData+="&ListName="+escape($("#txt_"+id).val());queryStringData+="&TypeOfAction="+actionType;Url=baseUrl+"ResponseWantService.svc/EditWishList?"+queryStringData;if(actionType=="Rename"&&$.trim($("#txt_"+id).val())==""){alert('Please Enter a valid collection name.');}
else{$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){EditWishListSuccess(response);},error:function(){EditWishListFailure(response);}});}}
catch(err){alert(err);}}
function EditWishListSuccess(dataObject){if(DataType=="jsonp"){if(dataObject.Code==100){location.reload();}
else if(dataObject.Code==103){}}}
function EditWishListFailure(dataObject){}
function LiveFeedUpdate(){try{if(hasSocialFeatures){Url=baseUrl+"ResponseYebhiStrands.svc/GetLiveFeeds?feedcount=10&lastfeedid="+feedid+"&SiteID="+SiteID;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(LiveFeedResponse){LiveFeedSuccess(LiveFeedResponse);},error:function(){LiveFeedFailure(LiveFeedResponse);}});setTimeout('delayer()',2000);}}
catch(err){alert(err);}}
function delayer(){$('#containeriso').isotope('reLayout');}
function LiveFeedSuccess(dataObject){try{if(DataType=="jsonp"){if(dataObject.Code==100&&dataObject.Data!=null&&dataObject.Data!=""){var newitem="";for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];if(i==0)feedid=data.FeedID;var actiontxt='';var actiontxtend='';var IsBought=false;var UserNm;if(data.UserName!=null&&data.UserName!=''){UserNm=data.UserName+' ';}
else{UserNm='A yebhi user ';}
if(data.TypeOfAction==1){actiontxt=UserNm+"viewed ";actiontxtend='.';}
else if(data.TypeOfAction==2){actiontxt=UserNm+"selected ";actiontxtend='.';}
else if(data.TypeOfAction==3){actiontxt=UserNm+"bought ";actiontxtend='.';IsBought=true;}
else if(data.TypeOfAction==4){actiontxt=UserNm+"liked ";actiontxtend='.';}
else if(data.TypeOfAction==5){actiontxt=UserNm+"added ";actiontxtend=' in collection.';}
else if(data.TypeOfAction==6){actiontxt=UserNm+"commented on ";actiontxtend='.';}
if(IsBought){newitem+='<div class="search-item price_Reviews" style="border: 1px solid #e1e1e1;width:160px;background-color:#ffffff;"><div style ="position:absolute;right:5px;top:5px;"><img src="/template/yebhi/img/smiley-wassup.png" style="margin:0px; padding:0px; border:0px;"/></div><div id="'+data.FeedID+'"><a id="anchor_'+data.ItemID+'" href="'+data.ProductURL+'" class="gotopage"><img width="135px" title="'+data.ProductName+'" alt="'+data.ProductName+'" original="'+data.ProductImgURL+'" src="'+data.ProductImgURL+'"></a></div><p><a href="'+data.ProductURL+'" id="p_'+data.ItemID+'"> <span style="color:#175580; font-weight:bold;">'+actiontxt+'</span>'+data.ProductName+'</a><span style="color:#767676;">'+actiontxtend+'</span></p> <strong class="PriceContainer" style="display:block; width:60px; height:60px"><strong class="price" style="padding-top:5px; top:10px; width:100px; height:15px; font-size:10px;"><span class="SmlRupeeSymblSaving">&nbsp;</span> '+data.DiscountPrice+'</strong></strong></div>';}
else{newitem+='<div class="search-item price_Reviews" style="border: 1px solid #e1e1e1;width:160px"><div id="'+data.FeedID+'"><a id="anchor_'+data.ItemID+'" href="'+data.ProductURL+'" class="gotopage"><img width="135px" title="'+data.ProductName+'" alt="'+data.ProductName+'" original="'+data.ProductImgURL+'" src="'+data.ProductImgURL+'"></a></div><p><a href="'+data.ProductURL+'" id="p_'+data.ItemID+'"> <span style="color:#767676;">'+actiontxt+'</span>'+data.ProductName+'</a><span style="color:#767676;">'+actiontxtend+'</span></p> <strong class="PriceContainer" style="display:block; width:60px; height:60px"><strong class="price" style="padding-top:5px; top:10px; width:100px; height:15px; font-size:10px;"><span class="SmlRupeeSymblSaving">&nbsp;</span> '+data.DiscountPrice+'</strong></strong></div>';}}
var $newItems=$(newitem);var item=$(".search-item").length;if(item>100){var index=(item-10)-1;$('#containeriso > div.search-item').filter('div.search-item:gt('+index+')').remove();}
$('#containeriso').prepend($newItems).isotope('reloadItems').isotope({sortBy:'original-order','animationEngine':'css'});}
else{}}}
catch(err){alert(err);}}
function LiveFeedFailure(Response){try{alert("Live feed retrieval failed. Please try again later.");}
catch(err){alert(err);}}
function checkSize2soc(){var ddl=document.getElementById('ddSizeList');if(ddl.value=="-1"){alert("Please select size!");return false;}
else{var url="/additem.aspx";var PCODE=document.getElementById('ddSizeList').value;var colorid=document.getElementById('hdcolorid').value;var params="productcode="+PCODE+"&productprice=0&productmrp=0&col="+colorid;xhttpobj.open("POST",url,true);xhttpobj.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhttpobj.setRequestHeader("Content-length",params.length);xhttpobj.setRequestHeader("Connection","close");xhttpobj.onreadystatechange=function(){if(xhttpobj.readyState==4&&xhttpobj.status==200){var xmlDocument=xhttpobj.responseXML;var mainNode=xmlDocument.documentElement;var message=mainNode.childNodes[0].getElementsByTagName("msg").item(0).firstChild.nodeValue;if(message=='success'){SaveActivityFeedsBuyNow();setTimeout(function(){window.location=('/shoppingcart.aspx?msg=add');},0);}
else{alert('The product is just sold out. Please try any other product!');return false;}}}
xhttpobj.send(params);return false;}}
function CheckIfItemAlreadyExistsInCollection(ItemID,ListID){try{if(ListID!=0){var queryStringData='';var userID=GetCookie('UID');queryStringData+="UserID="+userID;queryStringData+="&ItemId="+ItemID;queryStringData+="&ListID="+ListID;queryStringData+="&SiteID="+SiteID;Url=baseUrl+"ResponseWantService.svc/CheckIfItemAlreadyExistsInCollection?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){CheckIfItemAlreadyExistsInCollectionSuccess(response,ItemID);},error:function(){CheckIfItemAlreadyExistsInCollectionFailure(response);}});}
else{$("#p_want_div_"+ItemID).hide(0);$("#btnadd_want_div_"+ItemID).show(0);}}
catch(err){alert(err);}}
function CheckIfItemAlreadyExistsInCollectionSuccess(dataObject,itemID){if(DataType=="jsonp"){if(dataObject.Code==100){$("#btnadd_want_div_"+itemID).hide(0);$("#p_want_div_"+itemID).show(300);}
else if(dataObject.Code==103){$("#p_want_div_"+itemID).hide(0);$("#btnadd_want_div_"+itemID).show(0);}}}
function CheckIfItemAlreadyExistsInCollectionFailure(dataObject){}
function GetSimilarCollections(ItemsPerPage){try{if(hasSocialFeatures){var UID=GetCookie('UID');if(UID==null||UID=='undefined'){UID=0;}
var ProductID='0';ProductID=ItemIds.split(",")[0];var queryString="ItemsPerPage="+ItemsPerPage+"&UID="+UID+"&SiteID="+SiteID+"&ItemID="+ProductID;Url=baseUrl+"ResponseYebhiStrands.svc/GetSimilarCollections?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(lastLookingResponse){GetSimilarCollectionsSucceeded(lastLookingResponse);},error:function(x,s,e){GetSimilarCollectionsFailed();}});}}
catch(err){alert(err);}}
function GetSimilarCollectionsSucceeded(dataObject){try{if(dataObject.Code==100){if(dataObject.Data.length>0){$('#similarCollectionsContainer').removeClass("LastlookHide").addClass("LastlookShow");$("#similarCollectionsParentDiv").show('slow');}
else{$('#similarCollectionsContainer').removeClass("LastlookShow").addClass("LastlookHide");}
var htm='<ul style="float:left;list-style-type: none;" id="infinitePC">';for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];htm=htm+'<li style="float:left;"><div style="border: 1px solid #e1e1e1;clear:none;margin-right:3px;width:240px;" class="search-item price_Reviews"><br/><h4 style="text-align:center">'+data.WantListName+'&nbsp;<span style="color:#999999; font-size:12px"> ('+data.Wants+') Items</span></h4> <br/> <div style="position:relative; text-align:center;"><a href="/MyWishList.aspx?ListID='+data.WantListID+'"><div style="margin:0 auto; position:absolute; bottom:5%; width:240px;">';for(var j=1;j<data.ImgURLs.length;j++){htm=htm+'<div style="float: left; margin: 0px 4px 0px 4px; width:21%;"><img src="'+data.ImgURLs[j]+'" style="padding:0px; margin:0 auto; width:100%; border:1px solid #DDD; box-shadow:2px 2px 5px #444; opacity:.8;"></div>';}
htm=htm+'</div> <img src="'+data.ImgURLs[0]+'" style="padding:0px; margin:0px;height:230px; border-bottom:0px"></a></div></div></li>';}
htm=htm+'</ul>';$("#similarCollections").html(htm);}}
catch(err){alert(err);}}
function GetSimilarCollectionsFailed(){try{}
catch(err){}}
var CommentRows=5;var CommentPage=1;var CommentItemID;var CommenttotalCount;var CommentIsFirstTimeShowComment=true;function GetallCommentsForThisProduct(itemID){try{if(hasSocialFeatures){CommentItemID=itemID;if(typeof(itemID)=="undefined"||itemID==""||itemID==null){return false;}
queryStringData="ItemId="+itemID;if(GetCookie('UID')==null||GetCookie('UID')=="undefined"||GetCookie('UID')==""){queryStringData=queryStringData+"&Rows="+CommentRows+"&Page="+CommentPage+"&UserID=0";}
else{queryStringData=queryStringData+"&Rows="+CommentRows+"&Page="+CommentPage+"&UserID="+GetCookie('UID');}
Url=baseUrl+"ResponseCommentService.svc/GetResponseAllComments?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetallCommentsForThisProductResult){GetallCommentsForThisProductSucceeded(GetallCommentsForThisProductResult);},error:function(){GetallCommentsForThisProductFailed(GetallCommentsForThisProductResult);}});}}
catch(err){alert(err);}}
function FormatDateString(datestring){var days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var dtstring=days[datestring.getDay()]+" "+months[datestring.getMonth()]+" "+datestring.getDate()+" "+datestring.getFullYear();return(dtstring);}
function GetallCommentsForThisProductSucceeded(dataObject){try{CommenttotalCount=dataObject.TotalCount;var innerHTMLString=" <br/><h3 style='color:#3E3E3E;'>Comments</h3><br/>";if(DataType=="jsonp"){if(dataObject.Code=100){for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];if(i==(dataObject.Data.length-1)){innerHTMLString=innerHTMLString+"<p class='colum_reviews' style='border:none;'><br/><div style='float:left'>";innerHTMLString=innerHTMLString+"</div><div style='float:right;font-size:11px'><i style='color:#999999;'>"+FormatDateString(new Date(parseInt(data.CommentDate.substr(6))))+"</i></div></p><br/>";innerHTMLString=innerHTMLString+"<br/><p class='colum_review_1' style='border:none;'>";innerHTMLString=innerHTMLString+data.Comment;innerHTMLString=innerHTMLString+"</p>";}
else{innerHTMLString=innerHTMLString+"<p class='colum_reviews' style='border:none;'><br/><div style='float:left'>";innerHTMLString=innerHTMLString+"</div><div style='float:right;font-size:11px'><i style='color:#999999;'>"+FormatDateString(new Date(parseInt(data.CommentDate.substr(6))))+"</i></div></p><br/>";innerHTMLString=innerHTMLString+"<br/><p class='colum_review_1'>";innerHTMLString=innerHTMLString+data.Comment;innerHTMLString=innerHTMLString+"</p>";}}
if(CommentPage!=1){innerHTMLString+=" <br/> <div class='ReviewPagination' onclick='CallPrevComments()'> &lt; Previous</div> <div style='float:left; padding-top:5px'> <br/> &nbsp;&nbsp;"+CommentPage+"/"+parseInt((CommenttotalCount+CommentRows-1)/CommentRows)+"&nbsp;&nbsp;</div> ";}
else{innerHTMLString+=" <br/> <div style='float:left; padding-top:5px'> <br/> &nbsp;&nbsp;"+CommentPage+"/"+parseInt((CommenttotalCount+CommentRows-1)/CommentRows)+"&nbsp;&nbsp;</div> ";}
if(((CommentPage)*CommentRows)<CommenttotalCount){innerHTMLString+="<div class='ReviewPagination' onclick='CallNextComments()'> Next &gt;</div>";}
$('#allcommentspopup').html(innerHTMLString);}
else{alert("Error"+dataObject.Massage);}}}
catch(err){alert(err);}}
function CallNextComments(){if(CommentPage<parseInt(((CommenttotalCount+CommentRows-1)/CommentRows))){CommentPage++;GetallCommentsForThisProduct(CommentItemID);}}
function CallPrevComments(){if(CommentPage>1){CommentPage--;GetallCommentsForThisProduct(CommentItemID);}}
function GetallCommentsForThisProductFailed(Response){try{alert("ServiceFailed Function Called");}
catch(err){}}
function changeisotopview(wd,imgwd){$(".search-item").css("width",wd);$(".search-item img[id^='itemImg_']").css("width",imgwd);var $container=$('#containeriso');$container.css("width",containerwidth,"important");$container.css("width",containerwidth,"important");}
$.Isotope.prototype._getCenteredMasonryColumns=function(){this.width=this.element.width();var parentWidth=this.element.parent().width();var colW=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(true)||parentWidth;var cols=Math.floor(parentWidth/colW);cols=Math.max(cols,1);this.masonry.cols=cols;this.masonry.columnWidth=colW;};$.Isotope.prototype._masonryReset=function(){this.masonry={};this._getCenteredMasonryColumns();var i=this.masonry.cols;this.masonry.colYs=[];while(i--){this.masonry.colYs.push(0);}};$.Isotope.prototype._masonryResizeChanged=function(){var prevColCount=this.masonry.cols;this._getCenteredMasonryColumns();return(this.masonry.cols!==prevColCount);};$.Isotope.prototype._masonryGetContainerSize=function(){var unusedCols=0,i=this.masonry.cols;while(--i){if(this.masonry.colYs[i]!==0){break;}
unusedCols++;}
return{height:Math.max.apply(Math,this.masonry.colYs),width:(this.masonry.cols-unusedCols)*this.masonry.columnWidth};};function strip(html){var tmp=document.createElement("DIV");tmp.innerHTML=html;return tmp.textContent||tmp.innerText;}
var inviteFacebookFriends=new Array();var facebookFriends=new Array();function GetAllFriendsFromFacebook(listID,listname,IsDashboard){try{inviteFacebookFriends=new Array();$('#divFacebookFriends').html('<div style="text-align: center; position: absolute; width: 95%; margin: 160px auto 0px; z-index:111111;"><img src="/template/yebhi/img/loadingN.gif"></img></div>');$('#fbinvitesuccmsg').hide();if(AccountSettings!=null&&AccountSettings!=undefined&&AccountSettings!=''){var token=AccountSettings.FacebookAccessToken;var expiry=AccountSettings.FacebookAccessTokenExpiry;if($('.fancybox-inner').length){$('.fancybox-inner').css("overflow","hidden");}
inviteFacebookFriends=new Array();$('#fbInvitMsg').val('Write a personal message');$('#btnfbInvite').attr('onclick','').unbind('click');$('#btnfbInvite').click(function(){postonwall(listID,listname,IsDashboard);});if(token!=null&&token!=undefined&&token!=''){var Url="https://graph.facebook.com/me/friends?fields=id,name,picture&access_token="+token;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetAllFriendsFromFacebookResult){GetAllFriendsFromFacebookSucceeded(GetAllFriendsFromFacebookResult);},error:function(){GetAllFriendsFromFacebookFailed(GetAllFriendsFromFacebookResult);}});}}}
catch(err){alert(err);}}
function GetAllFriendsFromFacebookSucceeded(dataObject){try{var fbHTML='';if(dataObject!=null){if(dataObject.code!=190){if(dataObject.data!=null){facebookFriends=dataObject.data;FillFriendsFromArray(facebookFriends);}}
else{window.location('\UsersWishList.aspx');}}}
catch(err){alert(err);}}
function GetAllFriendsFromFacebookFailed(){alert('Some Error Occured. Please Try Again.');}
function FillFriendsFromArray(friendsArray){var fbHTML='';if(friendsArray!=null){if(friendsArray.length>0){for(var i=0;i<friendsArray.length;i++){var frnd=friendsArray[i];fbHTML=fbHTML+'<div id="frnd_'+frnd.id+'" class="fbfrnd" style="background-color:#eeeeee;" onclick="SetSelected(\'frnd_'+frnd.id+'\','+frnd.id+' )"><div style="float:left"><img src="'+frnd.picture.data.url+'" /></div><div class="fbfrndname">'+frnd.name+'</div></div>';FillOnLoadAndSearch('frnd_'+frnd.id,frnd.id);}}}
$('#divFacebookFriends').html(fbHTML);$('.fancybox-inner').css('overflow-y','hidden');}
function GetAllFriendsFromFacebookFailed(){try{alert('Failed to get your friends list');}
catch(err){alert(err);}}
function SetSelected(divID,friendID){if(findElementInArray(inviteFacebookFriends,friendID)){inviteFacebookFriends.pop(friendID);$("#"+divID).css("background-color","#EEEEEE");$("#"+divID).css("color","#444444");$("#"+divID).css("font-weight","normal");$("#"+divID).css("border-color","#CCCCCC");}
else{inviteFacebookFriends.push(friendID);$("#"+divID).css("background-color","#E43E3E");$("#"+divID).css("color","#ffffff");$("#"+divID).css("font-weight","bold");$("#"+divID).css("border-color","#E43E3E");}}
function FillOnLoadAndSearch(divID,friendID){if(findElementInArray(inviteFacebookFriends,friendID)){$("#"+divID).css("background-color","#EEEEEE");$("#"+divID).css("color","#444444");$("#"+divID).css("font-weight","normal");$("#"+divID).css("border-color","#CCCCCC");}
else{$("#"+divID).css("background-color","#E43E3E");$("#"+divID).css("color","#ffffff");$("#"+divID).css("font-weight","bold");$("#"+divID).css("border-color","#E43E3E");}}
function findElementInArray(arr,obj){var foundMain=-1;for(var i=0;i<arr.length;i++){if(arr[i]==obj){foundMain=i;break;}}
if(foundMain==-1){return false;}
else{return true;}}
function filterFacebookFriends(arr,obj){return(arr.indexOf(obj)!=-1);}
function SendInvitationByWallPost(frndID){try{var token=getCookieLastLooking('accessToken');var Url="https://graph.facebook.com/"+frndID+"/feed?message=just a text&link=http://google.com&name=sample name&caption=sample caption&description=this is the desciptuib&method=post&"+token+"&app_id="+appID;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SendInvitationByWallPostResult){SendInvitationByWallPostSucceeded(SendInvitationByWallPostResult);},error:function(){SendInvitationByWallPostFailed();}});}
catch(err){alert(err);}}
function SendInvitationByWallPostSucceeded(dataObject){alert("succedd");}
function SendInvitationByWallPostFailed(){alert("failed");}
function SaveCollectionViewStatus(ListId,userId){try{var uid=GetCookie('UID');if(uid!=null&&uid!=undefined&&uid==""){queryStringData="ListId="+ListId;Url=baseUrl+"ResponseWantService.svc/SaveCollectionViewStatus?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveCollectionViewResult){SaveCollectionViewSucceeded(SaveCollectionViewResult);},error:function(){SaveCollectionViewFailed(SaveCollectionViewResult);}});}}
catch(err){}}
function SaveCollectionViewSucceeded(dataObject){}
function SaveCollectionViewFailed(response){try{}
catch(err){}}
function GetActiveCollections(ItemsPerPage){try{if(hasSocialFeatures){var UID=GetCookie('UID');if(UID==null||UID=='undefined'){UID=0;}
var queryString="ItemsPerPage="+ItemsPerPage
Url=baseUrl+"ResponseWantService.svc/GetActiveCollections?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(lastLookingResponse1){GetActiveCollectionsSucceeded(lastLookingResponse1);},error:function(){GetActiveCollectionsFailed();}});}}
catch(err){}}
function GetActiveCollectionsSucceeded(dataObject){try{if(dataObject.Code==100){if(dataObject.Data.length>0){$('#activeCollectionsContainer').removeClass("LastlookHide").addClass("LastlookShow");$("#activeCollectionsParentDiv").show('slow');}
else{$('#activeCollectionsContainer').removeClass("LastlookShow").addClass("LastlookHide");}
var htm='<div style="width:98%; background-color:#FFF; padding:1%; display:table; margin:0 auto;">';for(i=0;i<4;i++){var data=dataObject.Data[i];htm=htm+'<div style="float:left; width:19%; margin-left:2%; margin-right:4%; text-align:center;"><a href="/MyWishList.aspx?ListID='+data.ListID+'"><div style="width:230px; margin:0 auto; overflow:hidden; height:250px; padding:2px 0 0 2px;">';for(var j=1;j<5;j++){htm=htm+'<div style="width:107px; float:left; padding:3px; margin-bottom:1px; max-height:117px; overflow:hidden;"><img src="'+data.ImgURLs[j]+'" style="padding:0px; margin:0 auto; width:100%; border:1px solid #DDD;"></div>';}
htm=htm+'</div></a><a href="/MyWishList.aspx?ListID='+data.ListID+'" style="margin-top:10px; font-size:16px; color:#444; letter-spacing:1px;display:inline-block; color:#483802;">'+data.ListName+'  ('+data.ViewCount+')</a></div>';}
htm=htm+'</div>';$("#activeCollections").html(htm);}}
catch(err){}}
function GetActiveCollectionsFailed(){try{}
catch(err){}}
function GetMostActiveProduct(Page,ItemsPerPage){try{if(hasSocialFeatures){var GUID='';var UID='';if(getCookieLastLooking('GUID')==null||getCookieLastLooking('GUID')=='undefined'){setCookieLastLooking("GUID",guid());GUID=getCookieLastLooking('GUID');}
else{GUID=getCookieLastLooking('GUID');}
if(getCookieLastLooking('UID')!=null&&getCookieLastLooking('UID')!='undefined'){UID=getCookieLastLooking('UID');}
var queryString="GUID="+GUID+"&UID="+UID+"&Page="+Page+"&ItemsPerPage="+ItemsPerPage+"&SiteID="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/GetMostActiveItems?"+queryString;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(MostActiveResponse){GetMostActiveProductSucceeded(MostActiveResponse);},error:function(x,s,e){GetMostActiveProductFailed();}});}}
catch(err){alert(err);}}
function GetMostActiveProductSucceeded(dataObject){try{if(dataObject.Code==100){if(dataObject.Data!=null&&dataObject.Data!=""&&dataObject.Data.length>0){$('#MostActiveContainer').removeClass("LastlookHide").addClass("LastlookShow");$('#MostActiveParentDiv').show('slow');}
else{$('#MostActiveContainer').removeClass("LastlookShow").addClass("LastlookHide");}
if(dataObject.Data!=null&&dataObject.Data!=""&&dataObject.Data.length>0){var htm='<ul style="float:left;list-style-type: none;" id="infinitePC">';for(i=0;i<dataObject.Data.length;i++){var data=dataObject.Data[i];htm=htm+'<li style="float:left;"><div style="border: 1px solid #e1e1e1;clear:none;margin-right:3px; width:230px; padding:5px;" class="search-item price_Reviews" ><div style="text-align:center;"><a href="'+data.DetailsURL+'" class="gotopage"><img title="'+data.ProductName+'" alt="'+data.ProductName+'" src="'+data.ImgURL+'" style="height:230px; margin:0;"></a></div><p style="margin:5px;"><a href="'+data.DetailsURL+'" >'+data.ProductName+'</a></p>';if(data.MRP!=data.DiscountPrice){htm=htm+'<p class="priice" style="margin:5px;">Price <span>: </span><span class="SmlRupeeSymbl" style="margin-left:5px;">&nbsp;&nbsp;</span><span class="price-1">'+data.MRP+'</span><span class="inr"><span class="SmlRupeeSymblRed">&nbsp;&nbsp;</span> '+data.DiscountPrice+'</span></p><p class="saving" style="margin:5px;">Savings<span> : <span class="SmlRupeeSymblSaving">&nbsp;&nbsp;</span> '+(data.MRP-data.DiscountPrice)+' or '+Math.round(((data.MRP-data.DiscountPrice)/data.MRP)*100)+'%</span></p>';}
else{htm=htm+'<p class="priice" style="margin:5px;">Price <span class="inr">: <span class="SmlRupeeSymblRed">&nbsp;&nbsp;</span> '+data.MRP+'</span></p>';}}
htm=htm+'</ul>';$("#MostActive").html(htm);}}}
catch(err){}}
function GetMostActiveProductFailed(){try{}
catch(err){}}
function getQueryString(sVar){urlStr=window.location.search.substring(1);sv=urlStr.split('&');for(i=0;i<sv.length;i++){ft=sv[i].split("=");if(ft[0]==sVar){return ft[1];}}}
function getVariableByQueryString(sVar,originalstring){urlStr=originalstring;sv=urlStr.split('&');for(i=0;i<sv.length;i++){ft=sv[i].split("=");if(ft[0]==sVar){return ft[1];}}}
function GetCollectionDashBoardSettings(IsCollectionDashBoard){try{if(hasSocialFeatures){var UID=GetCookie('UID');if(UID==null||UID==undefined){UID=0;}
if(IsCollectionDashBoard){queryStringData="OwnerUserID="+getQueryString('userid')+"&SiteID="+SiteID+"&viewerIserID="+UID;Url=baseUrl+"ResponseYebhiStrands.svc/CollectionDashBoardSettings?"+queryStringData;}
else{queryStringData="ListID="+getQueryString('ListID')+"&SiteID="+SiteID+"&ViewerUserID="+UID;Url=baseUrl+"ResponseYebhiStrands.svc/CollectionSettings?"+queryStringData;}
$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(obj){GetCollectionDashBoardSettingsSucceed(obj,IsCollectionDashBoard,UID);},error:function(x,s,e){GetCollectionDashBoardSettingsFailed();}});}}
catch(err){alert(err);}}
function GetCollectionDashBoardSettingsSucceed(dataObject,IsCollectionDashBoard,viewersUserID){try{if(dataObject.Code==100){if(AccountSettings==null){alert('yes acc settin is null');}
if(dataObject.Data.length>0){var obj=dataObject.Data[0];if(IsCollectionDashBoard){if(obj.IsDashBoardShared){if(!isNaN(obj.FollowerCount)){$('#CollectionDashboardFollowerCount').html('('+obj.FollowerCount+' Followers)');$('#CollectionDashboardFollowerCount').fadeIn('slow');}
else{$('#CollectionDashboardFollowerCount').hide();}}
else{$('#CollectionDashboardFollowerCount').hide();}
var userID=GetCookie("UID");if(userID!=null&&userID!=undefined&&userID!=''){if(obj.DashBoardOwnerID!=userID){$(".DescriptionTextArea").html(' ');}}
else{$(".DescriptionTextArea").html(' ');if(obj.OwnerName!=''&&obj.OwnerName!=null&&obj.OwnerName!=undefined){$('#dashboardOwnerName').html(obj.OwnerName+" - ");}
else{$('#dashboardOwnerName').html("");}}
if(obj.OwnerName!=''&&obj.OwnerName!=null&&obj.OwnerName!=undefined){$('#CollectionOwnerNameSmall').html(obj.OwnerName);$('#CollectionOwnerName').html(obj.OwnerName+"'s Collections");}
else{$('#CollectionOwnerNameSmall').html("Yebhi User");$('#CollectionOwnerName').html("Yebhi User's Collections");}}
else{if(obj.IsCollectionShared){}
else{}
if(obj.IsCollectionShared){if(!isNaN(obj.FollowerCount)){$('#CollectionDashboardFollowerCountList').html('('+obj.FollowerCount+' Followers)');$('#CollectionDashboardFollowerCountList').fadeIn('slow');}
else{$('#CollectionDashboardFollowerCountList').hide();}}
else{$('#CollectionDashboardFollowerCountList').hide();}
var userID=GetCookie("UID");$("#ownersAllCollection").click(function(){window.location='\UsersWishList.aspx?userid='+obj.CollectionOwnerID;});if(userID!=null&&userID!=undefined&&userID!=''){if(obj.CollectionOwnerID!=userID){$(".DescriptionTextArea").html(' ');}}
else{$(".DescriptionTextArea").html(' ');}
if(obj.OwnerName!=''&&obj.OwnerName!=null&&obj.OwnerName!=undefined){$('#CollectionOwnerNameSmall').html(obj.OwnerName);$("#ownersAllCollection").html("(view "+obj.OwnerName+"'s collections)");}
else{$('#CollectionOwnerNameSmall').html("Yebhi User");$("#ownersAllCollection").html("(view yebhi user's collections)");}}
if(viewersUserID){$('#ProfileMainContRightWarning').hide();$('#ProfileMainContRightFriend').show();}
else{$('.FollowImage').removeClass('FollowImage').addClass('FollowImageDull');}
if(!obj.IsOwner){if(obj.IsViewerUserFollowing){$('.imgUnFollowCollection').show('slow');$('.imgFollowCollection').hide();}
else{$('.imgFollowCollection').show('slow');$('.imgUnFollowCollection').hide();}}
$('#imgFBShareCollection').show('slow');$('#imgFBUnShareCollection').hide();$('.FBImage').fadeIn('slow');$('.FBImage').removeClass('fbinvite').addClass('fbinvite');if(fromWishlistpage){$('.FBImage').attr('onclick','').unbind('click').attr('href','#').removeClass('fbinvite');$('.FBImage').click(function(){setCookieLastLooking("IsFbShareCalled","1");if(userID!=null&&userID!=undefined&&userID!=""){if(userID>0){if(AccountSettings.IsFacebookConnected){if(AccountSettings.HasExtendedPerms){$('.FBImage').attr('onclick','').unbind('click').attr('href','#facebookInvite').addClass('fbinvite').click(function(){GetAllFriendsFromFacebook(getQueryString('ListID'),$('#spanWishListName').html(),false);});GetAllFriendsFromFacebook(getQueryString('ListID'),$('#spanWishListName').html(),false);}
else{ShowPrivacySettings();}}
else{ShowPrivacySettings();}}
else{loginPopup();}}
else{loginPopup();}});if(AccountSettings.IsFacebookConnected){if(!AccountSettings.HasExtendedPerms){var authURL="/auth.ashx?fSharePerms=1&page="+document.location.pathname+document.location.search;$('<iframe style="width:58px; height:24px; float:left; padding-left:10px; margin-top:-5px; overflow:hidden; border:0;" src="'+authURL+'" scrolling="no" frameborder="0" border="0" ></iframe>').appendTo($('.FBImage').parent());$('.FBImage').remove();}}}
else if(fromCollectionDashBoardpage){$('.FBImage').attr('onclick','').unbind('click').attr('href','#').removeClass('fbinvite');$('.FBImage').click(function(){setCookieLastLooking("IsFbShareCalled","1");if(userID!=null&&userID!=undefined&&userID!=""){if(userID>0){if(AccountSettings.IsFacebookConnected){if(AccountSettings.HasExtendedPerms){$('#imgFBShareCollection').attr('onclick','').unbind('click').attr('href','#facebookInvite').addClass('fbinvite').click(function(){GetAllFriendsFromFacebook('',true);});GetAllFriendsFromFacebook('',true);$('.fbimageforCollection').attr('href','#facebookInvite').addClass('fbinvite').click(function(){GetAllFriendsFromFacebook($(this).attr('listID'),$(this).attr('listName'),false);});}
else{ShowPrivacySettings();}}
else{ShowPrivacySettings();}}
else{loginPopup();}}
else{loginPopup();}});if(AccountSettings.IsFacebookConnected){if(!AccountSettings.HasExtendedPerms){var authURL="/auth.ashx?fSharePerms=1&page="+document.location.pathname+document.location.search;$('<iframe style="width:58px; height:24px; float:left; padding-left:10px; margin-top:-5px; overflow:hidden; border:0;" src="'+authURL+'" scrolling="no" frameborder="0" border="0" ></iframe>').appendTo($('.FBImage').parent());$('.FBImage').remove();}}}
if(obj.IsFBIntegratedAccount){$('.ProfileMainCont').show('slow');}
else{$('.ProfileMainCont').show('slow');}
if(obj.Description!=null&&obj.Description!=undefined&&obj.Description!=""){$('#fbCollectionDashBoardDescription').val(obj.Description);$('#italDescriptionMsg').html(obj.Description);}
if(IsCollectionDashBoard){if(obj.DashBoardOwnerID!=userID&&obj.Description==""){$('#italDescriptionMsg').html("");}}
else{if(obj.CollectionOwnerID!=userID&&obj.Description==""){$('#italDescriptionMsg').html("");}}
if(obj.IsFBIntegratedAccount){GetFacebookProfileDetails(obj.FBToken,obj.FBTokenExpiry);if(AccountSettings==null){getfacebookFriendsCheck=true;}
else{if(AccountSettings.IsFacebookConnected){if($('#ProfFrndContainer1').length){if(!$('#ProfFrndContainer1').is(":visible")){GetFacebookFriends();}}
else{GetFacebookFriends();}}
else{$('#ProfileMainContRightFriend').hide();if(userID>0){$('#friendsWidgetWarning').html('Connect your account with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" ShowPrivacySettings();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');}
else{$('#friendsWidgetWarning').html('Connect your account with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" loginPopup();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');}
$('#ProfileMainContRightWarning').show();}}}
else{$('#imgProfileImage').attr("src","/template/yebhi/img/cmnt-img.jpg");$('#imgProfileImage').css("width","155px");$('#imgProfileImage').css("height","145px");$('#divImgProfileImageLoading').hide();$('#imgProfileImage').show('slow');$('#ProfileMainContRightFriend').hide();if(userID>0){if(AccountSettings.IsFacebookConnected){GetFacebookFriends();}
else{$('#friendsWidgetWarning').html('Connect your account with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" ShowPrivacySettings();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');}}
else{$('#friendsWidgetWarning').html('Login with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" loginPopup();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');}
if(userID>0&&AccountSettings.IsFacebookConnected){$('#ProfileMainContRightWarning').hide();}
else{$('#ProfileMainContRightWarning').show();}}}}}
catch(err){}}
function GetCollectionDashBoardSettingsFailed(){try{}
catch(err){}}
function IsEnterPressed(e){if(e.keyCode==13){return true;}}
function SaveCollectionDashBoardDescription(IsDashboard){try{if(hasSocialFeatures){var UID=GetCookie('UID');if(UID==null||UID==undefined){UID=0;}
if(IsDashboard){var queryString="UserID="+UID+"&SiteID="+SiteID+"&Description="+$.trim($('#fbCollectionDashBoardDescription').val());Url=baseUrl+"ResponseWantService.svc/SaveCollectionDashBoardDescription?"+queryString;}
else{var queryString="ListID="+getQueryString('ListID')+"&SiteID="+SiteID+"&Description="+$.trim($('#fbCollectionDashBoardDescription').val());Url=baseUrl+"ResponseWantService.svc/SaveCollectionDescription?"+queryString;}
$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(obj){SaveCollectionDashBoardDescriptionSucceed(obj,$.trim($('#fbCollectionDashBoardDescription').val()));},error:function(x,s,e){SaveCollectionDashBoardDescriptionFailed();}});$('#fbCollectionDashBoardDescription').css("display","none");collectionDescription=true;}}
catch(err){alert(err);}}
function SaveCollectionDashBoardDescriptionSucceed(dataObject,Description){try{if(dataObject.Code==100){if(Description!=null&&Description!=""&&Description!=undefined){$('#fbCollectionDashBoardDescription').val(Description);$('#italDescriptionMsg').html(Description);}}}
catch(err){}}
function SaveCollectionDashBoardDescriptionFailed(){try{}
catch(err){}}
function GetFacebookProfileDetails(token,expiry){try{if(token!=null&&token!=undefined&&token!=""){queryStringData="https://graph.facebook.com/me?access_token="+token;if(expiry!=null&&expiry!=undefined&&expiry!=""){queryStringData+="&expires="+expiry;}
$.ajax({type:Type,url:queryStringData,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){var errorCode=0;if(response.error!=undefined&&response.error!=null&&response.error!=''){errorCode=response.error.code;}
if(errorCode>0){$('#imgProfileImage').attr("src","/template/yebhi/img/cmnt-img.jpg");$('#imgProfileImage').css("width","155px");$('#imgProfileImage').css("height","145px");$('#divImgProfileImageLoading').hide();$('#imgProfileImage').show('slow');$('#ProfileMainContRightFriend').hide();$('#friendsWidgetWarning').html('Reconnect with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" ConnectAccountWithFacebook();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');$('#ProfileMainContRightWarning').show();}
else{$('#imgProfileImage').attr('src',"https://graph.facebook.com/me/picture?type=large&access_token="+token).load(function(){$(this).css("width","155px");$(this).css("height","145px");$('#divImgProfileImageLoading').hide();$(this).fadeIn('slow');});}},error:function(obj){return null;}});}
else{return null;}}
catch(err){}}
function GetFacebookFriends(){try{var token=AccountSettings.FacebookAccessToken;var expiry=AccountSettings.FacebookAccessTokenExpiry;var noOfFriends=INVITE_FRIENDS_WIDGET_GET_FRIENDS_COUNT;if(token!=null&&token!=undefined&&token!=""){$('#ProfileMainContRightWarning').hide();$('#ProfileMainContRightFriend').show();queryStringData="https://graph.facebook.com/me/friends?fields=id,name,picture&access_token="+token;if(expiry!=null&&expiry!=undefined&&expiry!=""){queryStringData+="&expires="+expiry;}
$.ajax({type:Type,url:queryStringData,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(retObj){var errorCode=0;if(retObj.error!=undefined&&retObj.error!=null&&retObj.error!=''){errorCode=retObj.error.code;}
if(errorCode>0){$('#imgProfileImage').attr("src","/template/yebhi/img/cmnt-img.jpg");$('#imgProfileImage').css("width","155px");$('#imgProfileImage').css("height","145px");$('#divImgProfileImageLoading').hide();$('#imgProfileImage').show('slow');$('#ProfileMainContRightFriend').hide();$('#friendsWidgetWarning').html('Reconnect with facebook to <br/><br/>invite friends...<br/><br/><div style="width:100%; text-align:center"><img border="0" onclick=" ShowPrivacySettings();" style="cursor:pointer" src="/template/yebhi/img/sig-fcbok.gif"></img></div>');$('#ProfileMainContRightWarning').show();}
else if(retObj.data.length==0){$('#divloadingFriendsMsg').html("No Friends to Show...");}
else{$('#divloadingFriends').hide();if(retObj.data.length>0){facebookFriends=RandomizeArray(retObj.data);for(var i=0;i<noOfFriends;i++){var frndsHTML="";var frnd=facebookFriends[i];var defaultInviteLink='<div style="padding-top:5px;"><a style="color:#3487C1;" onclick=\'inviteFacebookFriends = new Array();inviteFacebookFriends.push('+frnd.id+'); SendInviteToFriend($(this).parent().parent().parent().parent())\'>Invite<span class="FrndInvtArrow">&nbsp;&nbsp;&nbsp;</span></a></div>';if(AccountSettings.IsFacebookConnected){if(!AccountSettings.HasExtendedPerms){var authURL="/auth.ashx?facebookInviteFriends=1&page="+document.location.pathname+document.location.search;defaultInviteLink='<iframe style="width:58px; height:24px; float:left; padding-left:0px" src="'+authURL+'"></iframe>';}}
frndsHTML='<div class="ProfFrndContainer"><div style="float:left;"><div id="divFrndProfileImgPreloader'+(i+1)+'" style="float:left; width:45px; height:47px; border:1px solid #cccccc; border-radius: 5px; text-align:center; font-size:9px; color:#999999; padding-top:3px"><br/><br/>loading</div> <img id="frndProfileImg'+(i+1)+'" class="ProfInvtFrndImg" src="'+frnd.picture.data.url+'" style="display:none;border:1px solid #cccccc; border-radius: 5px;" onload="$(\'#divFrndProfileImgPreloader'+(i+1)+'\').fadeOut(\'slow\', function(){ $(\'#frndProfileImg'+(i+1)+'\').fadeIn(\'slow\') });" /></div><div class="InvtFrntName">'+frnd.name.substring(0,20)+'<br>'+defaultInviteLink+'</div></div>';$('#ProfFrndContainer'+(i+1)).html(frndsHTML);$('#ProfFrndContainer'+(i+1)).fadeIn('slow');}}}},error:function(obj){return null;}});}
else{return null;}
return null;}
catch(err){}}
function RandomizeArray(myArray){var i=myArray.length;if(i==0)return false;while(--i){var j=Math.floor(Math.random()*(i+1));var tempi=myArray[i];var tempj=myArray[j];myArray[i]=tempj;myArray[j]=tempi;}
return myArray;}
function postonwall(listID,listName,IsDashboard){console.log("listID:"+listID);console.log("listName:"+listName);console.log("IsDashboard:"+IsDashboard);var invitationmsg=$('#fbInvitMsg').val();if(invitationmsg=='Write a personal message'){invitationmsg='';}
if(inviteFacebookFriends.length>0){var inviteMessage="";var inviteName="";var inviteURL="";if(fromCollectionDashBoardpage){if(listID==''){inviteMessage="I really like this person's collections on Yebhi.com! You all should check them out.";inviteName="Yebhi.com user collections";console.log($('#AffiliateCode_'+listID));if($('#AffiliateCodeForDashboard').length){if($('#AffiliateCodeForDashboard').val()!=null&&$('#AffiliateCodeForDashboard').val()!=''&&$('#AffiliateCodeForDashboard').val()!=undefined){inviteURL=document.URL+"&"+$('#AffiliateCodeForDashboard').val();}
else{inviteURL=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{inviteURL=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}
console.log(inviteURL);}
else{console.log('affiliate code: '+$('#AffiliateCode_'+listID).val());inviteMessage="You should see this collection on Yebhi.com! It has some great stuff.";inviteName="Yebhi.com collections - "+listName;console.log('length:'+$('#AffiliateCode_'+listID).length);if($('#AffiliateCode_'+listID).length){if($('#AffiliateCode_'+listID).val()!=null&&$('#AffiliateCode_'+listID).val()!=''&&$('#AffiliateCode_'+listID).val()!=undefined){inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+$('#AffiliateCode_'+listID).val();}
else{inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+FACEBOOK_AFFILIATE_CODE;}
console.log('InviteURL:'+inviteURL);}}
else{inviteMessage="You should see this collection on Yebhi.com! It has some great stuff.";inviteName="Yebhi.com collections - "+listName.replace('&nbsp;','');if($('#AffiliateCode_'+listID).length){if($('#AffiliateCode_'+listID).val()!=null&&$('#AffiliateCode_'+listID).val()!=''&&$('#AffiliateCode_'+listID).val()!=undefined){inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+$('#AffiliateCode_'+listID).val();}
else{inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{inviteURL=getBaseURL()+"/MyWishList.aspx?ListID="+listID+"&"+FACEBOOK_AFFILIATE_CODE;}
console.log(inviteURL);}
if(invitationmsg==""||invitationmsg=='Write a personal message'){}
else{inviteMessage=invitationmsg;}
var imgurlforinvitepost='';if(fromCollectionDashBoardpage){if(listID==''){imgurlforinvitepost=$('#containeriso div div a>img').attr('src');}
else{imgurlforinvitepost=$('#img_CollectionImagePost_'+listID).attr('src');}
if(imgurlforinvitepost==undefined){imgurlforinvitepost='http://www.yebhi.com/template/yebhi/img/LogFB.jpg';}}
else{imgurlforinvitepost=$('#containeriso div div a>img').attr('src');}
for(var i=0;i<inviteFacebookFriends.length;i++){var frndid=inviteFacebookFriends[i];var token=AccountSettings.FacebookAccessToken;if(token!=null&&token!=undefined&&token!=''){FB.api('/'+frndid+'/feed','post',{access_token:token,message:inviteMessage,link:inviteURL,name:inviteName,picture:imgurlforinvitepost,description:'Collections are group of products liked and wanted by millions of users on Yebhi.com - India\'s largest online shopping mall.'},function(response){objFBParameter={"access_token":token,"message":inviteMessage,"link":inviteURL,"name":inviteName,"picture":imgurlforinvitepost,"description":'Collections are group of products liked and wanted by millions of users on Yebhi.com - India\'s largest online shopping mall.'};if(!response||response.error){LoggerFBResponse(false,'postonwall',objFBParameter,JSON.stringify(response));}
else{LoggerFBResponse(true,'postonwall',objFBParameter,'');if(fromCollectionDashBoardpage){SaveFBInvitationData(frndid,1);}
else if(fromWishlistpage){SaveFBInvitationData(frndid,2);}}});}}
$('#fbinvitesuccmsg').show('slow');setTimeout('closefbfancy()',2000);}
else{alert('Select a friend to invite.');}}
function SetInvitationMsg(){var val=$('#fbInvitMsg').val();if(val=='Write a personal message'){$('#fbInvitMsg').val('');}}
function closefbfancy(){$.fancybox.close();}
function SendInviteToFriend(inviteObj){try{var token=AccountSettings.FacebookAccessToken;if(token!=null&&token!=undefined&&token!=''){var postLink="";if(fromCollectionDashBoardpage){if($('#AffiliateCodeForDashboard').length){if($('#AffiliateCodeForDashboard').val()!=null&&$('#AffiliateCodeForDashboard').val()!=''&&$('#AffiliateCodeForDashboard').val()!=undefined){postLink=document.URL+"&"+$('#AffiliateCodeForDashboard').val();}
else{postLink=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{postLink=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{if($('#ListIDforWishList').length){if($('#ListIDforWishList').val()!=null&&$('#ListIDforWishList').val()!=''&&$('#ListIDforWishList').val()!=undefined){postLink=document.URL+"&"+$('#ListIDforWishList').val();}
else{postLink=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}}
else{postLink=document.URL+"&"+FACEBOOK_AFFILIATE_CODE;}}
var postName="";var invitationmsg="";if(fromCollectionDashBoardpage){postName="Yebhi.com user collections";invitationmsg="I really like this person's collections on Yebhi.com! You all should check them out.";}
else if(fromWishlistpage){postName="Yebhi.com collections";invitationmsg="You should see this collection on Yebhi.com! It has some great stuff.";}
var imgurlforinvitepost=$('#containeriso div div a>img').attr('src');if(imgurlforinvitepost==undefined){alert('undefined');imgurlforinvitepost='http://www.yebhi.com/template/yebhi/img/LogFB.jpg';}
for(var i=0;i<inviteFacebookFriends.length;i++){id=inviteFacebookFriends[i];FB.api('/'+id+'/feed','post',{access_token:token,message:invitationmsg,link:postLink,name:postName,picture:imgurlforinvitepost,description:'Collections are group of products liked and wanted by millions of users on Yebhi.com - India\'s largest online shopping mall.'},function(response){objFBParameter={"access_token":token,"message":invitationmsg,"link":postLink,"name":postName,"picture":imgurlforinvitepost,"description":'Collections are group of products liked and wanted by millions of users on Yebhi.com - India\'s largest online shopping mall.'};if(!response||response.error){LoggerFBResponse(false,'SendInviteToFriend',objFBParameter,JSON.stringify(response));}
else{LoggerFBResponse(true,'SendInviteToFriend',objFBParameter,'');if(fromCollectionDashBoardpage){SaveFBInvitationData(id,1);}
else if(fromWishlistpage){SaveFBInvitationData(id,2);}}});inviteFacebookFriends.pop(id);for(var i=0;i<facebookFriends.length;i++){var nFrndObj=facebookFriends[i];if(nFrndObj.id==id){facebookFriends.pop(nFrndObj);break;}}
var frndContainerID=inviteObj.attr('id');$('#'+frndContainerID).fadeOut("slow",function(){GetAnotherFriendForInvite(frndContainerID,token);});}}}
catch(err){}}
function GetAnotherFriendForInvite(friendContainerObj,token){try{var frndIndex=parseInt(GetRandomNumber(0,facebookFriends.length));var frnd=facebookFriends[frndIndex];var i=parseInt(friendContainerObj.charAt(friendContainerObj.length-1));frndsHTML='<div class="ProfFrndContainer"><div style="float:left;"><div id="divFrndProfileImgPreloader'+(i+1)+'" style="float:left; width:45px; height:47px; border:1px solid #cccccc; border-radius: 5px; text-align:center; font-size:9px; color:#999999; padding-top:3px"><br/><br/>loading</div> <img id="frndProfileImg'+(i+1)+'" class="ProfInvtFrndImg" src="'+frnd.picture.data.url+'" style="display:none;border:1px solid #cccccc; border-radius: 5px;" onload="$(\'#divFrndProfileImgPreloader'+(i+1)+'\').fadeOut(\'slow\', function(){ $(\'#frndProfileImg'+(i+1)+'\').fadeIn(\'slow\') });" /></div><div class="InvtFrntName">'+frnd.name.substring(0,20)+'<br><div style="padding-top:5px;"><a style="color:#3487C1;" onclick=\'inviteFacebookFriends = new Array();inviteFacebookFriends.push('+frnd.id+'); SendInviteToFriend($(this).parent().parent().parent().parent())\'>Invite<span class="FrndInvtArrow">&nbsp;&nbsp;&nbsp;</span></a></div></div></div>';$('#'+friendContainerObj).html(frndsHTML);$('#'+friendContainerObj).fadeIn("slow");}
catch(err){alert("exception"+err);}}
function GetRandomNumber(min,max){return Math.random()*(max-min)+min;}
function FollowUnFollowThisCollection(IsFollow,IsDashboard,collectionID){try{if(CheckIfLoggedIn(GetCookie('UID'))){if(IsDashboard){queryStringData="UserID="+GetCookie('UID')+"&UserName="+GetCookie('username')+"&CollectionID="+getQueryString('userid')+"&SiteID="+SiteID+"&IsFollow="+IsFollow+"&IsDashBoard="+IsDashboard;}
else{queryStringData="UserID="+GetCookie('UID')+"&UserName="+GetCookie('username')+"&CollectionID="+collectionID+"&SiteID="+SiteID+"&IsFollow="+IsFollow+"&IsDashBoard="+IsDashboard;}
var Url=baseUrl+"ResponseWantService.svc/FollowUnFollowCollections?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(response){FollowUnFollowThisCollectionSucceeded(response,IsFollow,IsDashboard,collectionID);},error:function(obj){FollowUnFollowThisCollectionFailed(obj);}});}
else{loginPopup();}}
catch(err){}}
function FollowUnFollowThisCollectionSucceeded(dataObject,IsFollow,IsDashboard,collectionID){try{if(dataObject.Code==100){if(IsDashboard==1&&IsFollow==1){$('#imgFollowCollection').fadeOut('slow',function(){$('#imgUnFollowCollection').fadeIn('slow');});}
else if(IsDashboard==1&&IsFollow==0){$('#imgUnFollowCollection').fadeOut('slow',function(){$('#imgFollowCollection').fadeIn('slow');});}
else if(IsDashboard==0&&IsFollow==1){$('#imgFollowCollection_'+collectionID).fadeOut('slow',function(){$('#imgUnFollowCollection_'+collectionID).fadeIn('slow');});}
else if(IsDashboard==0&&IsFollow==0){$('#imgUnFollowCollection_'+collectionID).fadeOut('slow',function(){$('#imgFollowCollection_'+collectionID).fadeIn('slow');});}
if(IsDashboard){$('#CollectionDashboardFollowerCount').html("("+dataObject.TotalCount+" Followers)");}
else{$('#CollectionDashboardFollowerCountList').html("("+dataObject.TotalCount+" Followers)");}}}
catch(err){}}
function FollowUnFollowThisCollectionFailed(obj){try{}
catch(err){}}
function SaveAccountSettings(Setting,state){try{var UserId=GetCookie('UID');var UserName=GetCookie('username');var ProfilePicUrl=null;queryStringData="UserId="+UserId;queryStringData+="&UserName="+UserName;queryStringData+="&ProfilePicUrl="+ProfilePicUrl;queryStringData+="&state="+state;queryStringData+="&Setting="+Setting;queryStringData+="&SiteId="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/SaveAccountSettings?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveAccountSettingsResult){GetAccountSettingsSucceeded(SaveAccountSettingsResult);},error:function(){SaveAccountSettingsFailed(SaveAccountSettingsResult);}});}
catch(err){}}
function SaveAccountSettingsFailed(response){try{}
catch(err){}}
function GetAccountSettings(){try{var UID=GetCookie('UID');if(UID==null||UID=='undefined'||UID==''){UID=0;}
if((UID>0&&SiteID>0)||fromCollectionDashBoardpage||fromWishlistpage){queryStringData="SiteID="+SiteID;queryStringData+="&UserID="+UID;queryStringData+="&UserName="+GetCookie('username');Url=baseUrl+"ResponseYebhiStrands.svc/GetAccountSettings?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(GetAccountSettings){GetAccountSettingsSucceeded(GetAccountSettings);},error:function(){GetAccountSettingsFailed();}});}
else{if(fromWishlistpage){GetCollectionDashBoardSettings(0);}
else if(fromCollectionDashBoardpage){GetCollectionDashBoardSettings(1);}}}
catch(err){}}
function GetAccountSettingsSucceeded(dataObject){try{if(dataObject.Code==100){var data=dataObject.Data[0];var IsFacebookConnected=false,PostWhileAddingCollection=false,AllowFriendsToSeeMyActivity=false,PostOnMyPurchase=false,WeeklyUpdatesAboutFollowingCollections=false,WeeklyUpdatesAboutMyFriendsActivity=false,CollectionDashBoardShared=false,CollectionsShared=false,hasExtendedPerms=false,IsUserForFirstTime=false;var FacebookAccessToken='',FacebookAccessTokenExpiry='';if(data!=null&&data!=undefined&&data!=''){if(data.IsUserForFirstTime){if(!fromCollectionDashBoardpage&&!fromWishlistpage){}
data.IsUserForFirstTime=false;}
if(data.IsFacebookIntegrated){IsFacebookConnected=true;}
if(data.IsAddedCollection){PostWhileAddingCollection=true;}
if(data.IsAllowViewActivity){AllowFriendsToSeeMyActivity=true;}
if(data.IsMakePurchase){PostOnMyPurchase=true;}
if(data.IsSendCollectionUpdate){WeeklyUpdatesAboutFollowingCollections=true;}
if(data.IsSendFriendsActivity){WeeklyUpdatesAboutMyFriendsActivity=true;}
if(data.IsCollectionDashboardShared){CollectionDashBoardShared=true;}
if(data.IsCollectionsShared){CollectionsShared=true;}
if(data.IsCollectionsDashboardShared){CollectionsShared=true;}
if(data.hasExtendedFacebookPerms){hasExtendedPerms=true;}
FacebookAccessToken=data.AcessToken;FacebookAccessTokenExpiry=data.AcessTokenExpiry;}
var accountSettingsObj={"IsFacebookConnected":IsFacebookConnected,"PostWhileAddingCollection":PostWhileAddingCollection,"AllowFriendsToSeeMyActivity":AllowFriendsToSeeMyActivity,"PostOnMyPurchase":PostOnMyPurchase,"WeeklyUpdatesAboutFollowingCollections":WeeklyUpdatesAboutFollowingCollections,"WeeklyUpdatesAboutMyFriendsActivity":WeeklyUpdatesAboutMyFriendsActivity,"CollectionDashBoardShared":CollectionDashBoardShared,"CollectionsShared":CollectionsShared,"IsUserForFirstTime":IsUserForFirstTime,"FacebookAccessToken":FacebookAccessToken,"FacebookAccessTokenExpiry":FacebookAccessTokenExpiry,"HasExtendedPerms":hasExtendedPerms};UpdateAccountSettingsCookie(accountSettingsObj);if(IsFromFacebookConnectOff){if(fromWishlistpage){GetCollectionDashBoardSettings(0);}
else if(fromCollectionDashBoardpage){GetCollectionDashBoardSettings(1);}
IsFromFacebookConnectOff=false;}
if(fromWishlistpage){GetCollectionDashBoardSettings(0);}
else if(fromCollectionDashBoardpage){GetCollectionDashBoardSettings(1);}}}
catch(err){}}
function GetAccountSettingsFailed(){try{}
catch(err){}}
function UpdateAccountSettingsCookie(cookieObj){try{setCookieLastLooking('accountSettings',JSON.stringify(cookieObj));AccountSettings=JSON.parse(GetCookie('accountSettings'));if(fromWishlistpage||fromCollectionDashBoardpage){if(AccountSettings.IsFacebookConnected&&(AccountSettings.FacebookAccessToken!=''&&AccountSettings.FacebookAccessToken!=null&&AccountSettings.FacebookAccessToken!=undefined)){if(getfacebookFriendsCheck){GetFacebookFriends();getfacebookFriendsCheck=false;}}}}
catch(err){}}
var switchToogleCount=1;function SetPrivacySettingSwitches(){try{$('#divPrivacySettings').html('<div style="text-align: center; position: absolute; width: 95%; margin: 160px auto 0px; z-index:111111;"><img src="/template/yebhi/img/loadingN.gif"></img></div>');$('#container1').css('display','none');var UserID=GetCookie('UID');if(UserID!=null&&UserID!=undefined&&UserID!=''&&SiteID!=0){if(AccountSettings!=null){if(AccountSettings.IsFacebookConnected){SetSwitchButtons('1_fb','on');}
else{SetSwitchButtons('1_fb','off')}
if(AccountSettings.PostWhileAddingCollection){SetSwitchButtons('2_fb','on')}
else{SetSwitchButtons('2_fb','off')}
if(AccountSettings.AllowFriendsToSeeMyActivity){SetSwitchButtons('3_fb','on')}
else{SetSwitchButtons('3_fb','off')}
if(AccountSettings.PostOnMyPurchase){SetSwitchButtons('4_fb','on')}
else{SetSwitchButtons('4_fb','off')}
if(AccountSettings.WeeklyUpdatesAboutFollowingCollections){SetSwitchButtons('5_fb','on')}
else{SetSwitchButtons('5_fb','off')}
if(AccountSettings.WeeklyUpdatesAboutMyFriendsActivity){SetSwitchButtons('6_fb','on')}
else{SetSwitchButtons('6_fb','off')}
if(AccountSettings.CollectionDashBoardShared){SetSwitchButtons('7_fb','on')}
else{SetSwitchButtons('7_fb','off')}
switchToogleCount++;$('#divPrivacySettings').css('display','none');$('#container1').show();}}}
catch(err){}}
var IsFromFacebookConnectOff=false;function SetSwitchButtons(id,state){if(id=="1_fb"){if(state=="off"){$('#divRestAllSettings').hide('slow',function(){$('#divRestAllSettings span span').hide();$('#divRestAllSettings span').hide();$('.fancybox-inner').css('overflow-y','hidden');$('#divRestAllSettings div').hide('slow');$('#divRestAllSettings').hide('slow');});}
if(state=="on"){$('#divRestAllSettings').show('slow',function(){$('#divRestAllSettings div').show();$('#divRestAllSettings span span').show();$('#divRestAllSettings span').show();$('.subsetting').fadeIn('slow');});}
if(switchToogleCount==1){$("#"+id).iphoneSwitch(state,function(){if(!AccountSettings.IsFacebookConnected){ConnectAccountWithFacebook();}
else{SaveAccountSettings(id,1);}},function(){SaveAccountSettings(id,0);$('.subsetting').fadeOut('slow',function(){$('#divRestAllSettings span span').hide();$('#divRestAllSettings span').hide();$('.fancybox-inner').css('overflow-y','hidden');$('#divRestAllSettings div').hide('slow');$('#divRestAllSettings').hide('slow');});IsFromFacebookConnectOff=true;},{switch_on_container_path:'/template/yebhi/img/Switch/iphone_switch_container_off.png'});}
else{if(state=="on"){$('#1_fb img').css("background-position","0 center");}
else{$('#1_fb img').css("background-position","-53px center");}}}
else{if(switchToogleCount==1){$("#"+id).iphoneSwitch(state,function(){if(id=="2_fb"){var url="/auth.ashx?onlyExtendedFacebookPerms=1&autoFbLoginFlag=1&page="+document.location.pathname+document.location.search;openAutoFacebookbox(url);}
SaveAccountSettings(id,1);},function(){SaveAccountSettings(id,0);},{switch_on_container_path:'/template/yebhi/img/Switch/iphone_switch_container_off.png'});}}}
function SaveCollectionUnfollow(ListID){try{var UserId=GetCookie('UID');queryStringData="UserId="+UserId;queryStringData+="&SiteID="+SiteID;queryStringData+="&ListID="+ListID;Url=baseUrl+"ResponseWantService.svc/UpdateCollectionUnfollow?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveCollectionUnfollowResult){SaveCollectionUnfollowSucceeded(SaveCollectionUnfollowResult);},error:function(){SaveCollectionUnfollowFailed(SaveCollectionUnfollowResult);}});}
catch(err){}}
function SaveCollectionUnfollowSucceeded(dataObject){window.location.reload();}
function SaveCollectionUnfollowFailed(response){try{}
catch(err){}}
function SaveCollectionDashboardUnfollow(FollowedUserID){try{var UserId=GetCookie('UID');queryStringData="UserId="+UserId;queryStringData+="&SiteID="+SiteID;queryStringData+="&FollowedUserID="+FollowedUserID;Url=baseUrl+"ResponseWantService.svc/UpdateCollectionDashboardUnfollow?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(SaveCollectionDashboardUnfollowResult){SaveCollectionDashboardUnfollowSucceeded(SaveCollectionDashboardUnfollowResult);},error:function(){SaveCollectionDashboardUnfollowFailed(SaveCollectionDashboardUnfollowResult);}});}
catch(err){}}
function SaveCollectionDashboardUnfollowSucceeded(dataObject){window.location.reload();}
function SaveCollectionDashboardUnfollowFailed(response){try{}
catch(err){}}
function openFancybox(url){$.fancybox({'hideOnContentClick':true,'width':453,'type':'iframe','padding':5,'href':url,'height':540,'onComplete':function(){$('#fancybox-frame').load(function(){$('#fancybox-content').height($(this).contents().find('body').height()+30);});}});}
function openAutoFacebookbox(url){$.fancybox({'hideOnContentClick':true,'width':404,'type':'iframe','padding':5,'href':url,'height':80,'scrolling':'no','onComplete':function(){}});}
function loginPopup(){var url="/auth.ashx?page="+document.location.pathname+document.location.search;if(fromReviewbuttonClick){url="/auth.ashx?page="+document.location.pathname+'?reviewscontainer=1';fromReviewbuttonClick=false;}
if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined){openFancybox(url);return false;}
else{if(url.indexOf('shoppingcart.aspx')>-1){window.location='proceed.ashx';}
return true;}}
function PostToFacebookOnWant(ItemId,ItemName,itemImgURL,ItemURL,DiscountPrice,listID){try{if(AccountSettings!=null&&AccountSettings!=undefined&&AccountSettings!=''){if(AccountSettings.IsFacebookConnected&&AccountSettings.PostWhileAddingCollection){var token=AccountSettings.FacebookAccessToken;if(token!=null&&token!=undefined&&token!=''){var invitationmsg="I really like this "+ItemName+" on Yebhi.com and I've added it to my collection! See it for yourself. ";ItemURL=ItemURL+"?"+FACEBOOK_AFFILIATE_CODE;console.log(ItemURL);var postLink=ItemURL;var postName=ItemName;var description="I just added "+ItemName+" (Rs. "+DiscountPrice+") to my collection";FB.api('/me/feed','post',{access_token:token,message:invitationmsg,link:postLink,name:postName,picture:itemImgURL,description:description},function(response){if(!response||response.error){alert(response.error);alert(JSON.stringify(response));}
else{console.log('posted on wall');SaveFBWallPostData(listID,ItemId,DiscountPrice,itemImgURL,ItemURL,ItemName,'1');}});}}}}
catch(err){}}
function PostToFacebookOnPurchase(ItemId,ItemName,itemImgURL,ItemURL,DiscountPrice,catstring){try{console.log("PostToFacebookOnPurchase start");var namesArray=catstring.split(',');for(var i=0;i<namesArray.length;i++){if(namesArray[i]=='1773'){return false;}}
AccountSettings=JSON.parse(GetCookie('accountSettings'));if(AccountSettings!=null&&AccountSettings!=undefined&&AccountSettings!=''){if(AccountSettings.IsFacebookConnected&&AccountSettings.PostOnMyPurchase){var token=AccountSettings.FacebookAccessToken;if(token!=null&&token!=undefined&&token!=''){var invitationmsg="Just bought this awesome "+ItemName+" from Yebhi.com!! Can't wait to get this in my hands! Yebhi has awesome stuff";var postLink="";postLink=getBaseURL()+'/'+ItemURL+"?"+FACEBOOK_AFFILIATE_CODE;console.log(postLink);var postName=ItemName;var description="I just bought "+ItemName+" for Rs. "+DiscountPrice+" only. You should check it out too.";FB.api('/me/feed','post',{access_token:token,message:invitationmsg,link:postLink,name:postName,picture:itemImgURL,description:description},function(response){if(!response||response.error){console.log('error:'+JSON.stringify(response.error));}
else{console.log('posted on wall');SaveFBWallPostData('',ItemId,DiscountPrice,itemImgURL,ItemURL,ItemName,'2');}});}}}}
catch(err){}}
function ConnectAccountWithFacebook(){try{setCookieLastLooking('NextAction','');var UserID=GetCookie('UID');if(UserID==null||UserID==''||UserID==undefined||UserID==0){var url="/auth.ashx?autoFbLoginFlag=1&page="+document.location.pathname+document.location.search;openAutoFacebookbox(url);setCookieLastLooking('NextAction','ConnectAccountToFacebook');return false;}
setCookieLastLooking('NextAction','');queryStringData="UserID="+UserID+"&SiteID="+SiteID;Url=baseUrl+"ResponseYebhiStrands.svc/CheckIfFacebookTokenExists?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(dataObject){if(dataObject.Code==100){var token=dataObject.Data[0].AcessToken;var expiry="";SaveAccountSettings("1_fb",1);AccountSettings.IsFacebookConnected=true;AccountSettings.FacebookAccessToken=token;AccountSettings.FacebookAccessTokenExpiry=expiry;alert(AccountSettings.PostWhileAddingCollection);UpdateAccountSettingsCookie(AccountSettings);SetPrivacySettingSwitches();if((fromCollectionDashBoardpage||fromWishlistpage)&&AccountSettings.IsFacebookConnected){$('.FBImageDull').removeClass('FBImageDull').addClass('FBImage');if(fromCollectionDashBoardpage){GetCollectionDashBoardSettings(1);}
else if(fromWishlistpage){GetCollectionDashBoardSettings(0);}}
return true;}
else{var url="/auth.ashx?autoFbLoginFlag=1&page="+document.location.pathname+document.location.search;if(UserID==null||UserID==''||UserID==undefined||UserID==0){var seecookie=GetCookie('NextAction');if(seecookie==null||seecookie==""||seecookie==undefined){setCookieLastLooking('NextAction','ConnectAccountToFacebook');}
else{setCookieLastLooking('NextAction','');}}
else{if(AccountSettings.FacebookAccessToken==""||AccountSettings.FacebookAccessToken==null){var seecookie=GetCookie('NextAction');if(seecookie==null||seecookie==""||seecookie==undefined){setCookieLastLooking('NextAction','ConnectAccountToFacebook');}
else{setCookieLastLooking('NextAction','');}}}
openAutoFacebookbox(url);return false;}},error:function(){alert('This call is fail...');}});return false;}
catch(err){return false;}}
function ForgotPwdPopup(){var url="/auth.ashx?page=fgtpwd";openFancybox(url);$("body").click(function(){var $target=$(event.target);if(!$target.is("#hrfback")||!$target.is("#hrfback").children()){$("body").find("#hrfback").hide();}});return false;}
function RegisterPopup(){var url="/auth.ashx?page=register";openFancybox(url);return false;}
function CallFacebookFromYauth(){var returnUrl=document.URL;var path='http://yauth.yebhi.com/fbsocialresponse.aspx?returnUrl='+returnUrl;var url=path;window.open(url,'Fbpopup','width=900,height=500,left=100');}
function CallDirectBeforeFacebookFromYauth(){var returnUrl=document.URL;var path='http://yauth.yebhi.com/fbresponse.aspx?returnUrl='+returnUrl;var url=path;window.open(url,'Fbpopup','width=900,height=500,left=100');}
function RedirectMyAccount(userId){if(userId==null){loginPopupandredirectmyaccount();return false;}
else{window.location="/myaccount.aspx";return true;}}
function loginPopupandredirectmyaccount(){var url="/auth.ashx?page="+document.location.pathname+"myaccount.aspx";if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined){openFancybox(url);return false;}
else{window.location='/myaccount.aspx';return true;}}
function SaveFBInvitationData(fbfriendid,option){try{for(var i=0;i<facebookFriends.length;i++){var nFrndObj=facebookFriends[i];var fbFriendName;if(nFrndObj.id==fbfriendid){fbFriendName=nFrndObj.name;break;}}
var userID=GetCookie('UID');if(option==1){queryStringData="UserID="+userID;queryStringData+="&SiteID="+SiteID;queryStringData+="&FBFriendID="+fbfriendid;queryStringData+="&FBFriendName="+fbFriendName;queryStringData+="&FBFriendURL="+'www.facebook.com/'+fbfriendid;Url=baseUrl+"ResponseYebhiStrands.svc/SaveFBDashboardInvitation?"+queryStringData;}
else{queryStringData="UserID="+userID;queryStringData+="&CollectionID="+getQueryString('ListID');queryStringData+="&FBFriendID="+fbfriendid;queryStringData+="&FBFriendName="+fbFriendName;queryStringData+="&FBFriendURL="+'www.facebook.com/'+fbfriendid;Url=baseUrl+"ResponseYebhiStrands.svc/SaveFBCollectionInvitation?"+queryStringData;}
$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(saveFBInvitationDatasuccess){},error:function(){}});}
catch(err){alert(err);}}
function SaveFBWallPostData(listID,ItemId,DiscountPrice,itemImgURL,ItemURL,ItemName,option){try{var userID=GetCookie('UID');if(option=='1'){queryStringData="CollectionID="+listID;queryStringData+="&ProductID="+ItemId;queryStringData+="&Price="+DiscountPrice;queryStringData+="&ProductImageURL="+itemImgURL;queryStringData+="&ProductPageURL="+ItemURL;queryStringData+="&ProductName="+ItemName;Url=baseUrl+"ResponseYebhiStrands.svc/SaveFBCollectionAddedData?"+queryStringData;}
else{queryStringData="UserId="+userID;queryStringData+="&SiteID="+SiteID;queryStringData+="&ProductID="+ItemId;queryStringData+="&Price="+DiscountPrice;queryStringData+="&ProductImageURL="+itemImgURL;queryStringData+="&ProductPageURL="+getBaseURL()+"/"+ItemURL;queryStringData+="&ProductName="+ItemName;Url=baseUrl+"ResponseYebhiStrands.svc/SaveFBProductPurchaseData?"+queryStringData;}
console.log(Url);$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(saveFBWallPostData){},error:function(){}});}
catch(err){alert(err);}}
function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}
function openFancyboxForReturnProcess(url){$.fancybox({'hideOnContentClick':true,'width':520,'type':'iframe','padding':5,'href':url,'height':540,'scrolling':'no','onComplete':function(){$('#fancybox-frame').load(function(){$('#fancybox-content').height($(this).contents().find('body').height()+30);});}});}
function orderasguest(){var url="/guestlogin.aspx";openFancybox(url);return false;}
function openFancyboxforPrivacySettings(url){try{$.fancybox({'hideOnContentClick':true,'type':'iframe','padding':5,'href':url,'scrolling':'no','beforeClose':function(){var parent=window.parent;if(typeof parent.postMessage!='function'){GetAccountSettings();if(fromCollectionDashBoardpage){$('.thumbImage').fadeIn('slow');GetCollectionDashBoardSettings(1);}
if(fromWishlistpage){GetCollectionDashBoardSettings(0);}}}});}
catch(err){console.log(err);}}
function ShowPrivacySettings(){var url="/auth.ashx?privacysettings=1&page="+document.location.pathname+document.location.search;if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined||getCookieLastLooking('UID')==null){return false;}
else{openFancyboxforPrivacySettings(url);return true;}}
function LoggerFBResponse(option,method,objFBParameter,errormsg){try{if(option==false){queryStringData="option="+'FAILED';}
else{queryStringData="option="+'SUCCESS';}
queryStringData+="&method="+method;queryStringData+="&access_token="+objFBParameter.access_token;queryStringData+="&message="+objFBParameter.message;queryStringData+="&link="+objFBParameter.link;queryStringData+="&name="+objFBParameter.name;queryStringData+="&picture="+objFBParameter.picture;if(errormsg==''){queryStringData+="&description="+objFBParameter.description;}
else{errormsg=errormsg.replace(/[\r\n]/g,'');queryStringData+="&description="+objFBParameter.description+" : ErrorMessage = "+errormsg;}
Url=baseUrl+"ResponseYebhiStrands.svc/LogFacebookResponse?"+queryStringData;$.ajax({type:Type,url:Url,data:Data,crossDomain:CrossDomain,contentType:ContentType,dataType:DataType,processdata:ProcessData,success:function(LoggerFBResponseSuccess){},error:function(){}});}
catch(err){alert(err);}}
function CallFBLoggerFromJavascript(token,inviteMessage,inviteURL,inviteName,picture,description,success,method,error){var objFB={"access_token":token,"message":inviteMessage,"link":inviteURL,"name":inviteName,"picture":picture,"description":description};LoggerFBResponse(success,method,objFB,error);}
function checkWindowSize(){if($(window).width()>978){$('#containeriso3').addClass('w1024');}else{$('#containeriso3').removeClass('w1024');}
if($(window).width()>1250){$('#containeriso3').addClass('w1280');}else{$('#containeriso3').removeClass('w1280');}
if($(window).width()>1400){$('#containeriso3').addClass('w1440');}else{$('#containeriso3').removeClass('w1440');}
if($(window).width()>1550){$('#containeriso3').addClass('w1600');}else{$('#containeriso3').removeClass('w1600');}}
function ShowFShareExtendedPerms(){var url="/auth.ashx?fSharePerms=1&page="+document.location.pathname+document.location.search;if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined||getCookieLastLooking('UID')==null){return false;}
else{openFancyboxforPrivacySettings(url);return true;}}
function isNumber(evt){var charCode=(evt.which)?evt.which:event.keyCode
if(charCode>31&&(charCode<48||charCode>57))
return false;return true;}
function getCookieLastLooking(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}}
function loginPopupforAircelRecharge(){var url="/auth.ashx?page=http://www.yebhi.com/buy/newrecharge.aspx?source=home10"
if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined){openFancybox(url);return false;}
else{window.location='http://www.yebhi.com/buy/newrecharge.aspx?source=home6';}}
function isValidDate(dateString){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(dateString))
return false;var parts=dateString.split("/");var day=parseInt(parts[1],10);var month=parseInt(parts[0],10);var year=parseInt(parts[2],10);if(year<1000||year>3000||month==0||month>12)
return false;var monthLength=[31,28,31,30,31,30,31,31,30,31,30,31];if(year%400==0||(year%100!=0&&year%4==0))
monthLength[1]=29;return day>0&&day<=monthLength[month-1];}
function ShowTab(tab)
{$('#tabs-1').hide();$('#tabs-2').hide();$('#tabs-3').hide();$('#tabs-4').hide();$('#tabs-5').hide();$('#tabs-6').hide();$('#'+tab).show();}
function loginPopupforYebhiGV(){var url="/auth.ashx?page=/cn-bgimg/giftgv.html?bg=giftgv";if(getCookieLastLooking('UID')<=0||getCookieLastLooking('UID')==undefined){openFancybox(url);return false;}
else{window.location='/cn-bgimg/giftgv.html?bg=giftgv';}}
var Type="Get";var Url="";var Data=null;var ContentType="application/jsonp; charset=utf-8";var DataType="jsonp";var ProcessData=true;var CrossDomain=true;var queryStringData="";function ShowMyWallet(){try{SortColumn='';$('#startDate').val('');$('#endDate').val('');if($('#order_page').length){$('#order_page').hide();}
else if($('#Profile_form').length){$('#Profile_form').hide();}
if($('#ZeroRecord').length){$('#ZeroRecord').hide();}
$('#profile_list ul li span').css("font-weight","normal");$('#spanwallet').css("font-weight","bold");$('#divMyWallet').show();GetMyWalletBalance();GetMyWalletsLedger(1);$("#startDate").datepicker();$("#endDate").datepicker();}
catch(err){console.log('ERROR IN PostSignIn.js :: ShowMyWallet :: MESSAGE: '+JSON.stringify(err));}}
var ledgerSortdesc=true;var sColumn='';var sDirection='';function GetMyWalletsLedger(PageIndex,SortColumn,SortDirection){try{var startDate="";var endDate="";startDate=$('#startDate').val();endDate=$('#endDate').val();if(CheckIfStartDateAndEndDateValid(startDate,endDate)){alert('StartDate cannot be greater than EndDate.');return false;}
if(startDate!=''){startDate=startDate+" 00:00:00";}
if(endDate!=''){endDate=endDate+" 23:59:59";}
var htmlStr=' <div style="background:-moz-linear-gradient(#FFFFFF, #e7e7e7) repeat scroll 0 0 transparent; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:28px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Date</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Credit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Debit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Balance</b></div><div style="width:28%; float:left; padding:1%;"><b>Description</b></div></div><div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px;text-align:center;"> Fetching...</div>';$('#hor-minimalist-b').html(htmlStr);var PageRows=10;if((SortColumn!=null&&SortColumn!=undefined&&SortColumn!='')&&(SortDirection!=null&&SortDirection!=undefined&&SortDirection!='')){Url="/WalletHandler.ashx?PageIndex="+PageIndex+"&PageRows="+PageRows+"&StartDate="+startDate+"&EndDate="+endDate+"&SortColumn="+SortColumn+"&SortDirection="+SortDirection;}
else{Url="/WalletHandler.ashx?PageIndex="+PageIndex+"&PageRows="+PageRows+"&StartDate="+startDate+"&EndDate="+endDate;}
$.ajax({type:"Post",url:Url,data:Data,crossDomain:false,contentType:"application/json; charset=utf-8",dataType:"json",processdata:ProcessData,success:function(walletResponse){GetMyWalletsLedgerSucc(walletResponse,PageRows,PageIndex);},error:function(err){GetMyWalletsLedgerFail(err);}});}
catch(err){console.log('ERROR IN PostSignIn.js :: GetMyWalletsLedger :: MESSAGE: '+JSON.stringify(err));}}
function GetMyWalletsLedgerSucc(response,PageRows,PageIndex){if(response!=null){$('.myaccountpagination').show();var data=response.TransactionDetailResponseAPI;var totalCount=response.rowCount;if(data==null){$('#BlankWallet').hide();$('#divWalletBalance').html("0.00");$('#viewMainForm').css('display','table');return true;}
if(data.length>0){$('#BlankWallet').hide();$('#viewMainForm').css('display','table');var sortDirection='';if(ledgerSortdesc){sortDirection='&#x25BC;';}
else{sortDirection='&#x25B2;';}
var htmlStr=' <div style="background:-moz-linear-gradient(#FFFFFF, #e7e7e7) repeat scroll 0 0 transparent; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:28px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%; cursor:pointer" onclick="SortDateLedger();"><div style="font-weight:bold; float:left;">Date</div><div style="float:right; font-size:12px; padding-top:1px" id="dateSort">'+sortDirection+'</div></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Credit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Debit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Balance</b></div><div style="width:28%; float:left; padding:1%;"><b>Description</b></div></div>';for(var i=0;i<data.length;i++){var obj=data[i];var credit=obj.AmountAdded;var debit=obj.AmountConsume;if(credit=="0"){credit="-";}
else{credit='<span style="display:block;" class="rssign-wallet"> &nbsp;</span>'+credit;}
if(debit=="0"){debit="-";}
else{debit='<span style="display:block;" class="rssign-wallet"> &nbsp;</span>'+debit;}
if((i%2)==0){htmlStr=htmlStr+'<div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:24px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%;">'+FormatDateString(new Date(parseInt(obj.CreatedDate.substr(6))))+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"> '+credit+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;">'+debit+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><span style="display:block;" class="rssign-wallet"> &nbsp;</span> '+obj.ClosingBalance+'</div><div style="width:28%; float:left; padding:1%; font-size:11px;">'+obj.Remarks+'</div></div>';}
else{htmlStr=htmlStr+'<div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:24px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%;">'+FormatDateString(new Date(parseInt(obj.CreatedDate.substr(6))))+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;">'+credit+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;">'+debit+'</div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><span style="display:block;" class="rssign-wallet"> &nbsp;</span> '+obj.ClosingBalance+'</div><div style="width:28%; float:left; padding:1%; font-size:11px;">'+obj.Remarks+'</div></div>';}}
var paginationHTML="";var pages="";var resultShownTill="";if((totalCount-((PageIndex-1)*PageRows)+1)>PageRows){resultShownTill=PageRows;}
else{resultShownTill=(totalCount%PageRows);}
$('#divTotalResults').html("<b>Showing "+(((PageIndex-1)*PageRows)+1)+" - "+(((PageIndex-1)*PageRows)+resultShownTill)+" of "+totalCount+" Results</b>");if((totalCount%PageRows)==0){pages=parseInt(totalCount/PageRows);}
else{pages=parseInt(totalCount/PageRows)+1;}
for(var j=1;j<=pages;j++){if(j==PageIndex){paginationHTML=paginationHTML+'<div class="MyAccountPageover"><a onclick="GetMyWalletsLedger('+j+',\''+sColumn+'\',\''+sDirection+'\')">'+j+'</a></div>'}
else{paginationHTML=paginationHTML+'<div class="MyAccountPag"><a onclick="GetMyWalletsLedger('+j+',\''+sColumn+'\',\''+sDirection+'\')">'+j+'</a></div>'}}
$('#divPagination').html(paginationHTML);}
else{$('#BlankWallet').hide();$('#divWalletBalance').html("0.00");$('#viewMainForm').css('display','table');htmlStr=' <div style="background:-moz-linear-gradient(#FFFFFF, #e7e7e7) repeat scroll 0 0 transparent; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:28px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Date</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Credit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Debit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Balance</b></div><div style="width:28%; float:left; padding:1%;"><b>Description</b></div></div><div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px;text-align:center">  You Have No Transactions For Wallet</div>';$('.myaccountpagination').html('<div id="divTotalResults" style="float:left; padding-left:20px; padding-top:10px"></div><div id="divPagination" style="float:right;"></div>');$('.myaccountpagination').show();}
$('#hor-minimalist-b').html(htmlStr);}
else{htmlStr=' <div style="background:-moz-linear-gradient(#FFFFFF, #e7e7e7) repeat scroll 0 0 transparent; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px; height:28px;"><div style="width:19%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Date</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Credit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Debit</b></div><div style="width:14%; float:left; border-right:1px solid #DEDEDE; padding:1%;"><b>Balance</b></div><div style="width:28%; float:left; padding:1%;"><b>Description</b></div></div><div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px;text-align:center">  You Have No Transactions For Wallet</div>';$('#hor-minimalist-b').html(htmlStr);$('.myaccountpagination').html('');$('.myaccountpagination').show();}}
function GetMyWalletsLedgerFail(err){htmlStr='<div style="background-color:#FFF; border:1px solid #D6D6D6; padding:5px; display:table; width:677px; margin:5px;"> Some Error Occurred..!! Please try again later.</div>';$('#myWalletBody').html(htmlStr);$('.myaccountpagination').hide();}
function GetMyWalletBalance(){try{$('#divWalletBalance').html("...");Url="/WalletHandler.ashx?balance=1";$.ajax({type:"Post",url:Url,data:Data,crossDomain:false,contentType:"application/json; charset=utf-8",dataType:"text",processdata:ProcessData,success:function(walletResponse){GetMyWalletBalanceSucc(walletResponse);},error:function(err){GetMyWalletBalanceFail(err);}});}
catch(err){console.log('ERROR IN PostSignIn.js :: GetMyWalletBalance :: MESSAGE: '+JSON.stringify(err));}}
function GetMyWalletBalanceSucc(data){var amount="0.00";if(data!=null){amount=data;}
$('#divWalletBalance').html(amount);}
function GetMyWalletBalanceFail(err){}
function CheckIfStartDateAndEndDateValid(sDate,eDate){if(sDate==""||eDate==""){return false;}
var startDate=sDate;var endDate=eDate;var regExp=/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/;if(parseInt(endDate.replace(regExp,"$3$2$1"))>=parseInt(startDate.replace(regExp,"$3$2$1"))){return false;}
else{return true;}}
function SortDateLedger(){try{if(ledgerSortdesc){GetMyWalletsLedger(1,'CreatedDate','asc');sColumn='CreatedDate';sDirection='asc';$('#dateSort').html('&#x25B2;');ledgerSortdesc=false;}
else{GetMyWalletsLedger(1,'CreatedDate','desc');sColumn='CreatedDate';sDirection='desc';$('#dateSort').html('&#x25BC;');ledgerSortdesc=true;}}
catch(err){console.log('SortDateLedger exception');}}
function ShowDateFilter(){try{$('#GridLabelWalletLedger').hide(0,function(){$('#dateFilterWalletLedger').show();});}
catch(Er){Console.Log("Exception in ShowDateFilter");}}
function ShowComingSoon(){try{$('#BlankWallet').hide();$('#viewMainForm').hide();$('#ComingSoonWallet').show();}
catch(err){}};(function($){$.timer=function(func,time,autostart){this.set=function(func,time,autostart){this.init=true;if(typeof func=='object'){var paramList=['autostart','time'];for(var arg in paramList){if(func[paramList[arg]]!=undefined){eval(paramList[arg]+" = func[paramList[arg]]");}};func=func.action;}
if(typeof func=='function'){this.action=func;}
if(!isNaN(time)){this.intervalTime=time;}
if(autostart&&!this.isActive){this.isActive=true;this.setTimer();}
return this;};this.once=function(time){var timer=this;if(isNaN(time)){time=0;}
window.setTimeout(function(){timer.action();},time);return this;};this.play=function(reset){if(!this.isActive){if(reset){this.setTimer();}
else{this.setTimer(this.remaining);}
this.isActive=true;}
return this;};this.pause=function(){if(this.isActive){this.isActive=false;this.remaining-=new Date()-this.last;this.clearTimer();}
return this;};this.stop=function(){this.isActive=false;this.remaining=this.intervalTime;this.clearTimer();return this;};this.toggle=function(reset){if(this.isActive){this.pause();}
else if(reset){this.play(true);}
else{this.play();}
return this;};this.reset=function(){this.isActive=false;this.play(true);return this;};this.clearTimer=function(){window.clearTimeout(this.timeoutObject);};this.setTimer=function(time){var timer=this;if(typeof this.action!='function'){return;}
if(isNaN(time)){time=this.intervalTime;}
this.remaining=time;this.last=new Date();this.clearTimer();this.timeoutObject=window.setTimeout(function(){timer.go();},time);};this.go=function(){if(this.isActive){this.action();this.setTimer();}};if(this.init){return new $.timer(func,time,autostart);}else{this.set(func,time,autostart);return this;}};})(jQuery);(function(a){a.tiny=a.tiny||{};a.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:true,lockscroll:true,size:"auto",sizethumb:"auto"}};a.fn.tinyscrollbar=function(d){var c=a.extend({},a.tiny.scrollbar.options,d);this.each(function(){a(this).data("tsb",new b(a(this),c))});return this};a.fn.tinyscrollbar_update=function(c){return a(this).data("tsb").update(c)};function b(q,g){var k=this,t=q,j={obj:a(".viewport",q)},h={obj:a(".overview",q)},d={obj:a(".scrollbar",q)},m={obj:a(".track",d.obj)},p={obj:a(".thumb",d.obj)},l=g.axis==="x",n=l?"left":"top",v=l?"Width":"Height",r=0,y={start:0,now:0},o={},e=("ontouchstart"in document.documentElement)?true:false;function c(){k.update();s();return k}this.update=function(z){j[g.axis]=j.obj[0]["offset"+v];h[g.axis]=h.obj[0]["scroll"+v];h.ratio=j[g.axis]/h[g.axis];d.obj.toggleClass("disable",h.ratio>=1);m[g.axis]=g.size==="auto"?j[g.axis]:g.size;p[g.axis]=Math.min(m[g.axis],Math.max(0,(g.sizethumb==="auto"?(m[g.axis]*h.ratio):g.sizethumb)));d.ratio=g.sizethumb==="auto"?(h[g.axis]/m[g.axis]):(h[g.axis]-j[g.axis])/(m[g.axis]-p[g.axis]);r=(z==="relative"&&h.ratio<=1)?Math.min((h[g.axis]-j[g.axis]),Math.max(0,r)):0;r=(z==="bottom"&&h.ratio<=1)?(h[g.axis]-j[g.axis]):isNaN(parseInt(z,10))?r:parseInt(z,10);w()};function w(){var z=v.toLowerCase();p.obj.css(n,r/d.ratio);h.obj.css(n,-r);o.start=p.obj.offset()[n];d.obj.css(z,m[g.axis]);m.obj.css(z,m[g.axis]);p.obj.css(z,p[g.axis])}function s(){if(!e){p.obj.bind("mousedown",i);m.obj.bind("mouseup",u)}else{j.obj[0].ontouchstart=function(z){if(1===z.touches.length){i(z.touches[0]);z.stopPropagation()}}}if(g.scroll&&window.addEventListener){t[0].addEventListener("DOMMouseScroll",x,false);t[0].addEventListener("mousewheel",x,false)}else{if(g.scroll){t[0].onmousewheel=x}}}function i(A){var z=parseInt(p.obj.css(n),10);o.start=l?A.pageX:A.pageY;y.start=z=="auto"?0:z;if(!e){a(document).bind("mousemove",u);a(document).bind("mouseup",f);p.obj.bind("mouseup",f)}else{document.ontouchmove=function(B){B.preventDefault();u(B.touches[0])};document.ontouchend=f}}function x(B){if(h.ratio<1){var A=B||window.event,z=A.wheelDelta?A.wheelDelta/120:-A.detail/3;r-=z*g.wheel;r=Math.min((h[g.axis]-j[g.axis]),Math.max(0,r));p.obj.css(n,r/d.ratio);h.obj.css(n,-r);if(g.lockscroll||(r!==(h[g.axis]-j[g.axis])&&r!==0)){A=a.event.fix(A);A.preventDefault()}}}function u(z){if(h.ratio<1){if(!e){y.now=Math.min((m[g.axis]-p[g.axis]),Math.max(0,(y.start+((l?z.pageX:z.pageY)-o.start))))}else{y.now=Math.min((m[g.axis]-p[g.axis]),Math.max(0,(y.start+(o.start-(l?z.pageX:z.pageY)))))}r=y.now*d.ratio;h.obj.css(n,-r);p.obj.css(n,y.now)}}function f(){a(document).unbind("mousemove",u);a(document).unbind("mouseup",f);p.obj.unbind("mouseup",f);document.ontouchmove=document.ontouchend=null}return c()}}(jQuery));(function($){$.fn.liquidcarousel=function(options){var defaults={height:150,duration:100,hidearrows:true};var options=$.extend(defaults,options);return this.each(function(){var divobj=$(this);$(divobj).height(options.height);$(divobj).css('overflow','hidden');$('> .wrapper',divobj).height(options.height);$('> .wrapper',divobj).css('overflow','hidden');$('> .wrapper',divobj).css('float','left');$('> .wrapper > .divul',divobj).height(options.height);$('> .wrapper > .divul',divobj).css('float','left');$('> .wrapper > .divul',divobj).css('margin','0');$('> .wrapper > .divul',divobj).css('padding','0');$('> .wrapper > .divul',divobj).css('display','block');$('> .wrapper > .divul > .divli',divobj).height(options.height);$('> .wrapper > .divul > .divli',divobj).css('display','block');$('> .wrapper > .divul > .divli',divobj).css('float','left');var originalmarginright=parseInt($('> .wrapper > .divul > .divli',divobj).css('marginRight'));var originalmarginleft=parseInt($('> .wrapper > .divul > .divli',divobj).css('marginLeft'));var visiblelis=0;var totallis=$('> .wrapper > .divul > .divli',this).length;var currentposition=0;var liwidth=$('> .wrapper > .divul > .divli:first',divobj).outerWidth(true);var additionalmargin=0;var totalwidth=liwidth+additionalmargin;$(window).resize(function(e){var divwidth=$(divobj).width();var availablewidth=(divwidth-$('> .previous',divobj).outerWidth(true)-$('> .next',divobj).outerWidth(true));previousvisiblelis=visiblelis;visiblelis=Math.floor((availablewidth/liwidth));if(visiblelis<totallis){additionalmargin=Math.floor((availablewidth-(visiblelis*liwidth))/visiblelis);}else{additionalmargin=Math.floor((availablewidth-(totallis*liwidth))/totallis);}
halfadditionalmargin=Math.floor(additionalmargin/2);totalwidth=liwidth+additionalmargin;$('> .wrapper > .divul > .divli',divobj).css('marginRight',originalmarginright+halfadditionalmargin);$('> .wrapper > .divul > .divli',divobj).css('marginLeft',originalmarginleft+halfadditionalmargin);if(visiblelis>previousvisiblelis||totallis<=visiblelis){currentposition-=(visiblelis-previousvisiblelis);if(currentposition<0||totallis<=visiblelis){currentposition=0;}}
$('> .wrapper > .divul',divobj).css('marginLeft',-(currentposition*totalwidth));if(visiblelis>=totallis||((divwidth>=(totallis*liwidth))&&options.hidearrows)){if(options.hidearrows){$('> .previous',divobj).hide();$('> .next',divobj).hide();additionalmargin=Math.floor((divwidth-(totallis*liwidth))/totallis);halfadditionalmargin=Math.floor(additionalmargin/2);totalwidth=liwidth+additionalmargin;$('> .wrapper > .divul > .divli',divobj).css('marginRight',10);$('> .wrapper > .divul > .divli',divobj).css('marginLeft',10);}
$('> .wrapper',divobj).width(totallis*totalwidth);$('> .divul',divobj).width(totallis*totalwidth);$('> .wrapper',divobj).css('marginLeft',0);currentposition=0;}else{$('> .previous',divobj).show();$('> .next',divobj).show();$('> .wrapper',divobj).width(visiblelis*totalwidth);$('> .divul',divobj).width(visiblelis*totalwidth);}});$('> .next',divobj).click(function(){if(totallis<=visiblelis){currentposition=0;}else if((currentposition+(visiblelis*2))<totallis){currentposition+=visiblelis;}else if((currentposition+(visiblelis*2))>=totallis-1){currentposition=totallis-visiblelis;}
$('> .wrapper > .divul',divobj).stop();$('> .wrapper > .divul',divobj).animate({'marginLeft':-(currentposition*totalwidth)},options.duration);});$('> .previous',divobj).click(function(){if((currentposition-visiblelis)>0){currentposition-=visiblelis;}else if((currentposition-(visiblelis*2))<=0){currentposition=0;}
$('> .wrapper > .divul',divobj).stop();$('> .wrapper > .divul',divobj).animate({'marginLeft':-(currentposition*totalwidth)},options.duration);});$('> .next',divobj).dblclick(function(e){e.preventDefault();clearSelection();});$('> .previous',divobj).dblclick(function(e){e.preventDefault();clearSelection();});function clearSelection(){if(document.selection&&document.selection.empty){document.selection.empty();}else if(window.getSelection){var sel=window.getSelection();sel.removeAllRanges();}}
$(window).resize();});};})(jQuery);(function($){$(document).ready(function(){$('.cloud-zoom, .cloud-zoom-gallery').CloudZoom();});function format(str){for(var i=1;i<arguments.length;i++){str=str.replace('%'+(i-1),arguments[i]);}
return str;}
function CloudZoom(jWin,opts){var sImg=$('img',jWin);var img1;var img2;var zoomDiv=null;var $mouseTrap=null;var lens=null;var $tint=null;var softFocus=null;var $ie6Fix=null;var zoomImage;var controlTimer=0;var cw,ch;var destU=0;var destV=0;var currV=0;var currU=0;var filesLoaded=0;var mx,my;var ctx=this,zw;setTimeout(function(){if($mouseTrap===null){var w=jWin.width();jWin.parent().append(format('<div style="width:%0px;position:absolute;left:%1px;text-align:center; top:20px;" class="cloud-zoom-loading" >Loading...</div>',w/3,(w/2)-(w/6))).find(':last').css('opacity',0.5);}},200);var ie6FixRemove=function(){if($ie6Fix!==null){$ie6Fix.remove();$ie6Fix=null;}};this.removeBits=function(){if(lens){lens.remove();lens=null;}
if($tint){$tint.remove();$tint=null;}
if(softFocus){softFocus.remove();softFocus=null;}
ie6FixRemove();$('.cloud-zoom-loading',jWin.parent()).remove();};this.destroy=function(){jWin.data('zoom',null);if($mouseTrap){$mouseTrap.unbind();$mouseTrap.remove();$mouseTrap=null;}
if(zoomDiv){zoomDiv.remove();zoomDiv=null;}
this.removeBits();};this.fadedOut=function(){if(zoomDiv){zoomDiv.remove();zoomDiv=null;}
this.removeBits();};this.controlLoop=function(){if(lens){var x=(mx-sImg.offset().left-(cw*0.5))>>0;var y=(my-sImg.offset().top-(ch*0.5))>>0;if(x<0){x=0;}
else if(x>(sImg.outerWidth()-cw)){x=(sImg.outerWidth()-cw);}
if(y<0){y=0;}
else if(y>(sImg.outerHeight()-ch)){y=(sImg.outerHeight()-ch);}
lens.css({left:x,top:y});lens.css('background-position',(-x)+'px '+(-y)+'px');destU=(((x)/sImg.outerWidth())*zoomImage.width)>>0;destV=(((y)/sImg.outerHeight())*zoomImage.height)>>0;currU+=(destU-currU)/opts.smoothMove;currV+=(destV-currV)/opts.smoothMove;zoomDiv.css('background-position',(-(currU>>0)+'px ')+(-(currV>>0)+'px'));}
controlTimer=setTimeout(function(){ctx.controlLoop();},30);};this.init2=function(img,id){filesLoaded++;if(id===1){zoomImage=img;}
if(filesLoaded===2){this.init();}};this.init=function(){$('.cloud-zoom-loading',jWin.parent()).remove();$mouseTrap=jWin.parent().append(format("<div class='mousetrap' style='background-image:url(\".\");z-index:999;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;\'></div>",sImg.outerWidth(),sImg.outerHeight(),0,0)).find(':last');$mouseTrap.bind('mousemove',this,function(event){mx=event.pageX;my=event.pageY;});$mouseTrap.bind('mouseleave',this,function(event){clearTimeout(controlTimer);if(lens){lens.fadeOut(299);}
if($tint){$tint.fadeOut(299);}
if(softFocus){softFocus.fadeOut(299);}
zoomDiv.fadeOut(300,function(){ctx.fadedOut();});return false;});$mouseTrap.bind('mouseenter',this,function(event){mx=event.pageX;my=event.pageY;zw=event.data;if(zoomDiv){zoomDiv.stop(true,false);zoomDiv.remove();}
var xPos=opts.adjustX,yPos=opts.adjustY;var siw=sImg.outerWidth();var sih=sImg.outerHeight();var w=opts.zoomWidth;var h=opts.zoomHeight;if(opts.zoomWidth=='auto'){w=siw;}
if(opts.zoomHeight=='auto'){h=sih;}
var appendTo=jWin.parent();switch(opts.position){case'top':yPos-=h;break;case'right':xPos+=siw;break;case'bottom':yPos+=sih;break;case'left':xPos-=w;break;case'inside':w=siw;h=sih;break;default:appendTo=$('#'+opts.position);if(!appendTo.length){appendTo=jWin;xPos+=siw;yPos+=sih;}else{w=appendTo.innerWidth();h=appendTo.innerHeight();}}
zoomDiv=appendTo.append(format('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',xPos,yPos,w,h,zoomImage.src)).find(':last');if(sImg.attr('title')&&opts.showTitle){zoomDiv.append(format('<div class="cloud-zoom-title">%0</div>',sImg.attr('title'))).find(':last').css('opacity',opts.titleOpacity);}
if($.browser.msie&&$.browser.version<7){$ie6Fix=$('<iframe src="#"></iframe>').css({position:"absolute",left:xPos,top:yPos,zIndex:99,width:w,height:h}).insertBefore(zoomDiv);}
zoomDiv.fadeIn(500);if(lens){lens.remove();lens=null;}
cw=(sImg.outerWidth()/zoomImage.width)*zoomDiv.width();ch=(sImg.outerHeight()/zoomImage.height)*zoomDiv.height();lens=jWin.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",cw,ch)).find(':last');$mouseTrap.css('cursor',lens.css('cursor'));var noTrans=false;if(opts.tint){lens.css('background','url("'+sImg.attr('src')+'")');$tint=jWin.append(format('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',sImg.outerWidth(),sImg.outerHeight(),opts.tint)).find(':last');$tint.css('opacity',opts.tintOpacity);noTrans=true;$tint.fadeIn(500);}
if(opts.softFocus){lens.css('background','url("'+sImg.attr('src')+'")');softFocus=jWin.append(format('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',sImg.outerWidth()-2,sImg.outerHeight()-2,opts.tint)).find(':last');softFocus.css('background','url("'+sImg.attr('src')+'")');softFocus.css('opacity',0.5);noTrans=true;softFocus.fadeIn(500);}
if(!noTrans){lens.css('opacity',opts.lensOpacity);}
if(opts.position!=='inside'){lens.fadeIn(500);}
zw.controlLoop();return;});};img1=new Image();$(img1).load(function(){ctx.init2(this,0);});img1.src=sImg.attr('src');img2=new Image();$(img2).load(function(){ctx.init2(this,1);});img2.src=jWin.attr('href');}
$.fn.CloudZoom=function(options){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}
this.each(function(){var relOpts,opts;eval('var a = {'+$(this).attr('rel')+'}');relOpts=a;if($(this).is('.cloud-zoom')){$(this).css({'position':'relative','display':'block'});$('img',$(this)).css({'display':'block'});if($(this).parent().attr('id')!='wrap'){$(this).wrap('<div id="wrap" style="top:0px;z-index:9;position:relative;"></div>');}
opts=$.extend({},$.fn.CloudZoom.defaults,options);opts=$.extend({},opts,relOpts);$(this).data('zoom',new CloudZoom($(this),opts));}else if($(this).is('.cloud-zoom-gallery')){opts=$.extend({},relOpts,options);$(this).data('relOpts',opts);$(this).bind('click',$(this),function(event){var data=event.data.data('relOpts');$('#'+data.useZoom).data('zoom').destroy();$('#'+data.useZoom).attr('href',event.data.attr('href'));$('#'+data.useZoom+' img').attr('src',event.data.data('relOpts').smallImage);$('#'+event.data.data('relOpts').useZoom).CloudZoom();return false;});}});return this;};$.fn.CloudZoom.defaults={zoomWidth:'auto',zoomHeight:'auto',position:'right',tint:false,tintOpacity:0.5,lensOpacity:0.5,softFocus:false,smoothMove:3,showTitle:true,titleOpacity:0.5,adjustX:0,adjustY:0};})(jQuery);jQuery.extend(jQuery.easing,{easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});(function($){$.fn.UItoTop=function(options){var defaults={text:'To Top',min:200,inDelay:600,outDelay:400,containerID:'toTop',containerHoverID:'toTopHover',scrollSpeed:1200,easingType:'linear'},settings=$.extend(defaults,options),containerIDhash='#'+settings.containerID,containerHoverIDHash='#'+settings.containerHoverID;$('body').append('<a href="#" id="'+settings.containerID+'">'+settings.text+'</a>');$(containerIDhash).hide().on('click.UItoTop',function(){$('html, body').animate({scrollTop:0},settings.scrollSpeed,settings.easingType);$('#'+settings.containerHoverID,this).stop().animate({'opacity':0},settings.inDelay,settings.easingType);return false;}).prepend('<span id="'+settings.containerHoverID+'"></span>').hover(function(){$(containerHoverIDHash,this).stop().animate({'opacity':1},600,'linear');},function(){$(containerHoverIDHash,this).stop().animate({'opacity':0},700,'linear');});$(window).scroll(function(){var sd=$(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){$(containerIDhash).css({'position':'absolute','top':sd+$(window).height()-50});}
if(sd>settings.min)
$(containerIDhash).fadeIn(settings.inDelay);else
$(containerIDhash).fadeOut(settings.Outdelay);});};})(jQuery);var JSON;if(!JSON){JSON={};}
(function(){'use strict';function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};if($.ui.version){return;}
$.extend($.ui,{version:"1.9.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):this._focus.apply(this,arguments);},scrollParent:function(){var scrollParent;if(($.browser.msie&&(/(static|relative)/).test(this.css('position')))||(/absolute/).test(this.css('position'))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,'position'))&&(/(auto|scroll)/).test($.css(this,'overflow')+$.css(this,'overflow-y')+$.css(this,'overflow-x'));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,'overflow')+$.css(this,'overflow-y')+$.css(this,'overflow-x'));}).eq(0);}
return(/fixed/).test(this.css('position'))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return!$(element).parents().andSelf().filter(function(){return $.css(this,"visibility")==="hidden"||$.expr.filters.hidden(this);}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight;$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});$.support.minHeight=div.offsetHeight===100;$.support.selectstart="onselectstart"in div;body.removeChild(div).style.display="none";});$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},contains:$.contains,hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},isOverAxis:function(x,reference,size){return(x>reference)&&(x<(reference+size));},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width);}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if($.isFunction(value)){prototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();}});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:name},prototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetBaseClass:fullName,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){target[key]=$.isPlainObject(value)?$.widget.extend({},target[key],value):value;}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{new object(options,this);}});}
return returnValue;};};$.Widget=function(options,element){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetName,this);$.data(element,this.widgetFullName,this);this._on({remove:"destroy"});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(element,handlers){if(!handlers){handlers=element;element=this.element;}else{element=$(element);this.bindings=this.bindings.add(element);}
var instance=this;$.each(handlers,function(event,handler){function handlerProxy(){if(instance.options.disabled===true||$(this).hasClass("ui-state-disabled")){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){instance.widget().delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&($.effects.effect[effectName]||$.uiBackCompat!==false&&$.effects[effectName])){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});if($.uiBackCompat!==false){$.Widget.prototype._getCreateOptions=function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName];};}})(jQuery);(function($,undefined){$.extend($.ui,{datepicker:{version:"1.9.0"}});var PROP_NAME='datepicker';var dpuuid=new Date().getTime();var instActive;function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId='ui-datepicker-div';this._inlineClass='ui-datepicker-inline';this._appendClass='ui-datepicker-append';this._triggerClass='ui-datepicker-trigger';this._dialogClass='ui-datepicker-dialog';this._disableClass='ui-datepicker-disabled';this._unselectableClass='ui-datepicker-unselectable';this._currentClass='ui-datepicker-current-day';this._dayOverClass='ui-datepicker-days-cell-over';this.regional=[];this.regional['']={closeText:'Done',prevText:'Prev',nextText:'Next',currentText:'Today',monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNamesShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],dayNamesShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],dayNamesMin:['Su','Mo','Tu','We','Th','Fr','Sa'],weekHeader:'Wk',dateFormat:'mm/dd/yy',firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:''};this._defaults={showOn:'focus',showAnim:'fadeIn',showOptions:{},defaultDate:null,appendText:'',buttonText:'...',buttonImage:'',buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:'c-10:c+10',showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:'+10',minDate:null,maxDate:null,duration:'fast',beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:'',altFormat:'',constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional['']);this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'));}
$.extend(Datepicker.prototype,{markerClassName:'hasDatepicker',maxRows:4,log:function(){if(this.debug)
console.log.apply('',arguments);},_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute('date:'+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue);}catch(err){inlineSettings[attrName]=attrValue;}}}
var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=='div'||nodeName=='span');if(!target.id){this.uuid+=1;target.id='dp'+this.uuid;}
var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=='input'){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,'\\\\$1');return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName))
return;this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value;}).bind("getData.datepicker",function(event,key){return this._get(inst,key);});this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var appendText=this._get(inst,'appendText');var isRTL=this._get(inst,'isRTL');if(inst.append)
inst.append.remove();if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+'</span>');input[isRTL?'before':'after'](inst.append);}
input.unbind('focus',this._showDatepicker);if(inst.trigger)
inst.trigger.remove();var showOn=this._get(inst,'showOn');if(showOn=='focus'||showOn=='both')
input.focus(this._showDatepicker);if(showOn=='button'||showOn=='both'){var buttonText=this._get(inst,'buttonText');var buttonImage=this._get(inst,'buttonImage');inst.trigger=$(this._get(inst,'buttonImageOnly')?$('<img/>').addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==''?buttonText:$('<img/>').attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?'before':'after'](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0])
$.datepicker._hideDatepicker();else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else
$.datepicker._showDatepicker(input[0]);return false;});}},_autoSize:function(inst){if(this._get(inst,'autoSize')&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,'dateFormat');if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?'monthNames':'monthNamesShort'))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?'dayNames':'dayNamesShort')))+20-date.getDay());}
inst.input.attr('size',this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName))
return;divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value;}).bind("getData.datepicker",function(event,key){return this._get(inst,key);});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id='dp'+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>');this._dialogInput.keydown(this._doKeyDown);$('body').append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css('left',(this._pos[0]+20)+'px').css('top',this._pos[1]+'px');inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI)
$.blockUI(this.dpDiv);$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=='input'){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind('focus',this._showDatepicker).unbind('keydown',this._doKeyDown).unbind('keypress',this._doKeyPress).unbind('keyup',this._doKeyUp);}else if(nodeName=='div'||nodeName=='span')
$target.removeClass(this.markerClassName).empty();},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
var nodeName=target.nodeName.toLowerCase();if(nodeName=='input'){target.disabled=false;inst.trigger.filter('button').each(function(){this.disabled=false;}).end().filter('img').css({opacity:'1.0',cursor:''});}
else if(nodeName=='div'||nodeName=='span'){var inline=$target.children('.'+this._inlineClass);inline.children().removeClass('ui-state-disabled');inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value);});},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
var nodeName=target.nodeName.toLowerCase();if(nodeName=='input'){target.disabled=true;inst.trigger.filter('button').each(function(){this.disabled=true;}).end().filter('img').css({opacity:'0.5',cursor:'default'});}
else if(nodeName=='div'||nodeName=='span'){var inline=$target.children('.'+this._inlineClass);inline.children().addClass('ui-state-disabled');inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target)
return true;}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}
catch(err){throw'Missing instance data for this datepicker';}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=='string'){return(name=='defaults'?$.extend({},$.datepicker._defaults):(inst?(name=='all'?$.extend({},inst.settings):this._get(inst,name)):null));}
var settings=name||{};if(typeof name=='string'){settings={};settings[name]=value;}
if(inst){if(this._curInst==inst){this._hideDatepicker();}
var date=this._getDateDatepicker(target,true);var minDate=this._getMinMaxDate(inst,'min');var maxDate=this._getMinMaxDate(inst,'max');extendRemove(inst.settings,settings);if(minDate!==null&&settings['dateFormat']!==undefined&&settings['minDate']===undefined)
inst.settings.minDate=this._formatDate(inst,minDate);if(maxDate!==null&&settings['dateFormat']!==undefined&&settings['maxDate']===undefined)
inst.settings.maxDate=this._formatDate(inst,maxDate);this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline)
this._setDateFromField(inst,noDefault);return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is('.ui-datepicker-rtl');inst._keyEvent=true;if($.datepicker._datepickerShowing)
switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$('td.'+$.datepicker._dayOverClass+':not(.'+
$.datepicker._currentClass+')',inst.dpDiv);if(sel[0])
$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);var onSelect=$.datepicker._get(inst,'onSelect');if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}
else
$.datepicker._hideDatepicker();return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,'stepBigMonths'):-$.datepicker._get(inst,'stepMonths')),'M');break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,'stepBigMonths'):+$.datepicker._get(inst,'stepMonths')),'M');break;case 35:if(event.ctrlKey||event.metaKey)$.datepicker._clearDate(event.target);handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey)$.datepicker._gotoToday(event.target);handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,(isRTL?+1:-1),'D');handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey)$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,'stepBigMonths'):-$.datepicker._get(inst,'stepMonths')),'M');break;case 38:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,-7,'D');handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,(isRTL?-1:+1),'D');handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey)$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,'stepBigMonths'):+$.datepicker._get(inst,'stepMonths')),'M');break;case 40:if(event.ctrlKey||event.metaKey)$.datepicker._adjustDate(event.target,+7,'D');handled=event.ctrlKey||event.metaKey;break;default:handled=false;}
else if(event.keyCode==36&&event.ctrlKey)
$.datepicker._showDatepicker(this);else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,'constrainInput')){var chars=$.datepicker._possibleChars($.datepicker._get(inst,'dateFormat'));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<' '||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,'dateFormat'),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){$.datepicker.log(err);}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!='input')
input=$('input',input.parentNode)[0];if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input)
return;var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
var beforeShow=$.datepicker._get(inst,'beforeShow');var beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog)
input.value='';if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css('position')=='fixed';return!isFixed;});var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:'absolute',display:'block',top:'-1000px'});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?'static':(isFixed?'fixed':'absolute')),display:'none',left:offset.left+'px',top:offset.top+'px'});if(!inst.inline){var showAnim=$.datepicker._get(inst,'showAnim');var duration=$.datepicker._get(inst,'duration');var postProcess=function(){var cover=inst.dpDiv.find('iframe.ui-datepicker-cover');if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()});}};inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim]))
inst.dpDiv.show(showAnim,$.datepicker._get(inst,'showOptions'),duration,postProcess);else
inst.dpDiv[showAnim||'show']((showAnim?duration:null),postProcess);if(!showAnim||!duration)
postProcess();if(inst.input.is(':visible')&&!inst.input.is(':disabled'))
inst.input.focus();$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var cover=inst.dpDiv.find('iframe.ui-datepicker-cover');if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}
inst.dpDiv.find('.'+this._dayOverClass+' a').mouseover();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;inst.dpDiv.removeClass('ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4').width('');if(cols>1)
inst.dpDiv.addClass('ui-datepicker-multi-'+cols).css('width',(width*cols)+'em');inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?'add':'remove')+'Class']('ui-datepicker-multi');inst.dpDiv[(this._get(inst,'isRTL')?'add':'remove')+'Class']('ui-datepicker-rtl');if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(':visible')&&!inst.input.is(':disabled')&&inst.input[0]!=document.activeElement)
inst.input.focus();if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find('select.ui-datepicker-year:first').replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value;};return[parseFloat(convert(elem.css('border-left-width'))),parseFloat(convert(elem.css('border-top-width')))];},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft());var viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,'isRTL')?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,'isRTL');while(obj&&(obj.type=='hidden'||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?'previousSibling':'nextSibling'];}
var position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME)))
return;if(this._datepickerShowing){var showAnim=this._get(inst,'showAnim');var duration=this._get(inst,'duration');var postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim]))
inst.dpDiv.hide(showAnim,$.datepicker._get(inst,'showOptions'),duration,postProcess);else
inst.dpDiv[(showAnim=='slideDown'?'slideUp':(showAnim=='fadeIn'?'fadeOut':'hide'))]((showAnim?duration:null),postProcess);if(!showAnim)
postProcess();this._datepickerShowing=false;var onClose=this._get(inst,'onClose');if(onClose)
onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():''),inst]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:'absolute',left:'0',top:'-100px'});if($.blockUI){$.unblockUI();$('body').append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind('.ui-datepicker-calendar');},_checkExternalClick:function(event){if(!$.datepicker._curInst)
return;var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!=$.datepicker._mainDivId&&$target.parents('#'+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=inst))
$.datepicker._hideDatepicker();},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period=='M'?this._get(inst,'showCurrentAtPos'):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,'gotoCurrent')&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}
else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst['selected'+(period=='M'?'Month':'Year')]=inst['draw'+(period=='M'?'Month':'Year')]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$('a',td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,'');},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input)
inst.input.val(dateStr);this._updateAlternate(inst);var onSelect=this._get(inst,'onSelect');if(onSelect)
onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);else if(inst.input)
inst.input.trigger('change');if(inst.inline)
this._updateDatepicker(inst);else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!='object')
inst.input.focus();this._lastInput=null;}},_updateAlternate:function(inst){var altField=this._get(inst,'altField');if(altField){var altFormat=this._get(inst,'altFormat')||this._get(inst,'dateFormat');var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),''];},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null)
throw'Invalid arguments';value=(typeof value=='object'?value.toString():value+'');if(value=='')
return null;var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!='string'?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches)
iFormat++;return matches;};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=='@'?14:(match=='!'?20:(match=='y'&&isDoubled?4:(match=='o'?3:2))));var digits=new RegExp('^\\d{1,'+size+'}');var num=value.substring(iValue).match(digits);if(!num)
throw'Missing number at position '+iValue;iValue+=num[0].length;return parseInt(num[0],10);};var getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});var index=-1;$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!=-1)
return index+1;else
throw'Unknown name at position '+iValue;};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))
throw'Unexpected literal at position '+iValue;iValue++;};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal)
if(format.charAt(iFormat)=="'"&&!lookAhead("'"))
literal=false;else
checkLiteral();else
switch(format.charAt(iFormat)){case'd':day=getNumber('d');break;case'D':getName('D',dayNamesShort,dayNames);break;case'o':doy=getNumber('o');break;case'm':month=getNumber('m');break;case'M':month=getName('M',monthNamesShort,monthNames);break;case'y':year=getNumber('y');break;case'@':var date=new Date(getNumber('@'));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case'!':var date=new Date((getNumber('!')-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'"))
checkLiteral();else
literal=true;break;default:checkLiteral();}}
if(iValue<value.length){var extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year==-1)
year=new Date().getFullYear();else if(year<100)
year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim)
break;month++;day-=dim;}while(true);}
var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)
throw'Invalid date';return date;},ATOM:'yy-mm-dd',COOKIE:'D, dd M yy',ISO_8601:'yy-mm-dd',RFC_822:'D, d M y',RFC_850:'DD, dd-M-y',RFC_1036:'D, d M y',RFC_1123:'D, d M yy',RFC_2822:'D, d M yy',RSS:'D, d M y',TICKS:'!',TIMESTAMP:'@',W3C:'yy-mm-dd',_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date)
return'';var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches)
iFormat++;return matches;};var formatNumber=function(match,value,len){var num=''+value;if(lookAhead(match))
while(num.length<len)
num='0'+num;return num;};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);};var output='';var literal=false;if(date)
for(var iFormat=0;iFormat<format.length;iFormat++){if(literal)
if(format.charAt(iFormat)=="'"&&!lookAhead("'"))
literal=false;else
output+=format.charAt(iFormat);else
switch(format.charAt(iFormat)){case'd':output+=formatNumber('d',date.getDate(),2);break;case'D':output+=formatName('D',date.getDay(),dayNamesShort,dayNames);break;case'o':output+=formatNumber('o',Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case'm':output+=formatNumber('m',date.getMonth()+1,2);break;case'M':output+=formatName('M',date.getMonth(),monthNamesShort,monthNames);break;case'y':output+=(lookAhead('y')?date.getFullYear():(date.getYear()%100<10?'0':'')+date.getYear()%100);break;case'@':output+=date.getTime();break;case'!':output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'"))
output+="'";else
literal=true;break;default:output+=format.charAt(iFormat);}}
return output;},_possibleChars:function(format){var chars='';var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches)
iFormat++;return matches;};for(var iFormat=0;iFormat<format.length;iFormat++)
if(literal)
if(format.charAt(iFormat)=="'"&&!lookAhead("'"))
literal=false;else
chars+=format.charAt(iFormat);else
switch(format.charAt(iFormat)){case'd':case'm':case'y':case'@':chars+='0123456789';break;case'D':case'M':return null;case"'":if(lookAhead("'"))
chars+="'";else
literal=true;break;default:chars+=format.charAt(iFormat);}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return;}
var dateFormat=this._get(inst,'dateFormat');var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){this.log(event);dates=(noDefault?'':dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,'defaultDate'),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,'dateFormat'),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||'d'){case'd':case'D':day+=parseInt(matches[1],10);break;case'w':case'W':day+=parseInt(matches[1],10)*7;break;case'm':case'M':month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case'y':case'Y':year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);};var newDate=(date==null||date===''?defaultDate:(typeof date=='string'?offsetString(date):(typeof date=='number'?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=='Invalid Date'?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date)return null;date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange)
this._notifyChange(inst);this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?'':this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=='')?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,'stepMonths');var id='#'+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find('[data-handler]').map(function(){var handler={prev:function(){window['DP_jQuery_'+dpuuid].datepicker._adjustDate(id,-stepMonths,'M');},next:function(){window['DP_jQuery_'+dpuuid].datepicker._adjustDate(id,+stepMonths,'M');},hide:function(){window['DP_jQuery_'+dpuuid].datepicker._hideDatepicker();},today:function(){window['DP_jQuery_'+dpuuid].datepicker._gotoToday(id);},selectDay:function(){window['DP_jQuery_'+dpuuid].datepicker._selectDay(id,+this.getAttribute('data-month'),+this.getAttribute('data-year'),this);return false;},selectMonth:function(){window['DP_jQuery_'+dpuuid].datepicker._selectMonthYear(id,this,'M');return false;},selectYear:function(){window['DP_jQuery_'+dpuuid].datepicker._selectMonthYear(id,this,'Y');return false;}};$(this).bind(this.getAttribute('data-event'),handler[this.getAttribute('data-handler')]);});},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,'isRTL');var showButtonPanel=this._get(inst,'showButtonPanel');var hideIfNoPrevNext=this._get(inst,'hideIfNoPrevNext');var navigationAsDateFormat=this._get(inst,'navigationAsDateFormat');var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,'showCurrentAtPos');var stepMonths=this._get(inst,'stepMonths');var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,'min');var maxDate=this._getMinMaxDate(inst,'max');var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,'prevText');prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click"'+' title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?'e':'w')+'">'+prevText+'</span></a>':(hideIfNoPrevNext?'':'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?'e':'w')+'">'+prevText+'</span></a>'));var nextText=this._get(inst,'nextText');nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click"'+' title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?'w':'e')+'">'+nextText+'</span></a>':(hideIfNoPrevNext?'':'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?'w':'e')+'">'+nextText+'</span></a>'));var currentText=this._get(inst,'currentText');var gotoDate=(this._get(inst,'gotoCurrent')&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+
this._get(inst,'closeText')+'</button>':'');var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:'')+
(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click"'+'>'+currentText+'</button>':'')+(isRTL?'':controls)+'</div>':'';var firstDay=parseInt(this._get(inst,'firstDay'),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,'showWeek');var dayNames=this._get(inst,'dayNames');var dayNamesShort=this._get(inst,'dayNamesShort');var dayNamesMin=this._get(inst,'dayNamesMin');var monthNames=this._get(inst,'monthNames');var monthNamesShort=this._get(inst,'monthNamesShort');var beforeShowDay=this._get(inst,'beforeShowDay');var showOtherMonths=this._get(inst,'showOtherMonths');var selectOtherMonths=this._get(inst,'selectOtherMonths');var calculateWeek=this._get(inst,'calculateWeek')||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html='';for(var row=0;row<numMonths[0];row++){var group='';this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=' ui-corner-all';var calender='';if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1)
switch(col){case 0:calender+=' ui-datepicker-group-first';cornerClass=' ui-corner-'+(isRTL?'right':'left');break;case numMonths[1]-1:calender+=' ui-datepicker-group-last';cornerClass=' ui-corner-'+(isRTL?'left':'right');break;default:calender+=' ui-datepicker-group-middle';cornerClass='';break;}
calender+='">';}
calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+
(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):'')+
(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):'')+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead>'+'<tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,'weekHeader')+'</th>':'');for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+='<th'+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':'')+'>'+'<span title="'+dayNames[day]+'">'+dayNamesMin[day]+'</span></th>';}
calender+=thead+'</tr></thead><tbody>';var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth)
inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var curRows=Math.ceil((leadDays+daysInMonth)/7);var numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+='<tr>';var tbody=(!showWeek?'':'<td class="ui-datepicker-week-col">'+
this._get(inst,'calculateWeek')(printDate)+'</td>');for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,'']);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+
((dow+firstDay+6)%7>=5?' ui-datepicker-week-end':'')+
(otherMonth?' ui-datepicker-other-month':'')+
((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?' '+this._dayOverClass:'')+
(unselectable?' '+this._unselectableClass+' ui-state-disabled':'')+
(otherMonth&&!showOtherMonths?'':' '+daySettings[1]+
(printDate.getTime()==currentDate.getTime()?' '+this._currentClass:'')+
(printDate.getTime()==today.getTime()?' ui-datepicker-today':''))+'"'+
((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':'')+
(unselectable?'':' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+'>'+
(otherMonth&&!showOtherMonths?'&#xa0;':(unselectable?'<span class="ui-state-default">'+printDate.getDate()+'</span>':'<a class="ui-state-default'+
(printDate.getTime()==today.getTime()?' ui-state-highlight':'')+
(printDate.getTime()==currentDate.getTime()?' ui-state-active':'')+
(otherMonth?' ui-priority-secondary':'')+'" href="#">'+printDate.getDate()+'</a>'))+'</td>';printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+'</tr>';}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+='</tbody></table>'+(isMultiMonth?'</div>'+
((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':''):'');group+=calender;}
html+=group;}
html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':'');inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,'changeMonth');var changeYear=this._get(inst,'changeYear');var showMonthAfterYear=this._get(inst,'showMonthAfterYear');var html='<div class="ui-datepicker-title">';var monthHtml='';if(secondary||!changeMonth)
monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+'</span>';else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth()))
monthHtml+='<option value="'+month+'"'+
(month==drawMonth?' selected="selected"':'')+'>'+monthNamesShort[month]+'</option>';}
monthHtml+='</select>';}
if(!showMonthAfterYear)
html+=monthHtml+(secondary||!(changeMonth&&changeYear)?'&#xa0;':'');if(!inst.yearshtml){inst.yearshtml='';if(secondary||!changeYear)
html+='<span class="ui-datepicker-year">'+drawYear+'</span>';else{var years=this._get(inst,'yearRange').split(':');var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||''));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+
(year==drawYear?' selected="selected"':'')+'>'+year+'</option>';}
inst.yearshtml+='</select>';html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,'yearSuffix');if(showMonthAfterYear)
html+=(secondary||!(changeMonth&&changeYear)?'&#xa0;':'')+monthHtml;html+='</div>';return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=='Y'?offset:0);var month=inst.drawMonth+(period=='M'?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+
(period=='D'?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=='M'||period=='Y')
this._notifyChange(inst);},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,'min');var maxDate=this._getMinMaxDate(inst,'max');var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate;},_notifyChange:function(inst){var onChange=this._get(inst,'onChangeMonthYear');if(onChange)
onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,'numberOfMonths');return(numMonths==null?[1,1]:(typeof numMonths=='number'?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+'Date'),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0)
date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));return this._isInRange(inst,date);},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,'min');var maxDate=this._getMinMaxDate(inst,'max');return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,'shortYearCutoff');shortYearCutoff=(typeof shortYearCutoff!='string'?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,'dayNamesShort'),dayNames:this._get(inst,'dayNames'),monthNamesShort:this._get(inst,'monthNamesShort'),monthNames:this._get(inst,'monthNames')};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day=='object'?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,'dateFormat'),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector='button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a';return dpDiv.delegate(selector,'mouseout',function(){$(this).removeClass('ui-state-hover');if(this.className.indexOf('ui-datepicker-prev')!=-1)$(this).removeClass('ui-datepicker-prev-hover');if(this.className.indexOf('ui-datepicker-next')!=-1)$(this).removeClass('ui-datepicker-next-hover');}).delegate(selector,'mouseover',function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents('.ui-datepicker-calendar').find('a').removeClass('ui-state-hover');$(this).addClass('ui-state-hover');if(this.className.indexOf('ui-datepicker-prev')!=-1)$(this).addClass('ui-datepicker-prev-hover');if(this.className.indexOf('ui-datepicker-next')!=-1)$(this).addClass('ui-datepicker-next-hover');}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props)
if(props[name]==null||props[name]==undefined)
target[name]=props[name];return target;};$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv);$.datepicker.initialized=true;}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=='string'&&(options=='isDisabled'||options=='getDate'||options=='widget'))
return $.datepicker['_'+options+'Datepicker'].apply($.datepicker,[this[0]].concat(otherArgs));if(options=='option'&&arguments.length==2&&typeof arguments[1]=='string')
return $.datepicker['_'+options+'Datepicker'].apply($.datepicker,[this[0]].concat(otherArgs));return this.each(function(){typeof options=='string'?$.datepicker['_'+options+'Datepicker'].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.9.0";window['DP_jQuery_'+dpuuid]=$;})(jQuery);function ShowIFramefromQuery(query){var arr=query.split("&");var name="";var value="";var ind;$('#iframe').css('display','none');$('#imgPreloader').css('display','block');for(var i=0;i<arr.length;i++)
{ind=parseInt(arr[i].indexOf("="));value=arr[i].substring(ind+1,arr[i].length);name=arr[i].substring(0,ind);if(name=='tab')
{setlinkstyle(value.toLowerCase());SetIframe(value.toLowerCase());break;}}
if(arr[0]==''){setlinkstyle('giftvoucher');SetIframe('/voucherbalance.aspx');}}
function ShowIframe(obj){$('#iframe').css('display','none');$('#imgPreloader').css('display','block');var id=obj.id;setlinkstyle(id.toLowerCase());SetIframe(id.toLowerCase());}
function SetIframe(id){if(id=='returns'){SetIframeSource('/cn-nhf/returnpolicy.html?source=footer2211');}
else if(id=='emi'){SetIframeSource('/cn-nhf/emi.htm?source=footer2211');}
else if(id=='shipping'){SetIframeSource('/cn-nhf/shippingpolicy.htm?source=footer2211');}
else if(id=='privacy'){SetIframeSource('/cn-nhf/policy.html?source=footer2211');}
else if(id=='terms'){SetIframeSource('/cn-nhf/terms.html?source=footer2211');}
else if(id=='giftvoucher'){SetIframeSource('/voucherbalance.aspx');}
else if(id=='checkpromotion'){SetIframeSource('/promocheck.aspx');}
else if(id=='checkcod'){SetIframeSource('/checkcod.aspx');}
else if(id=='subscribe'){SetIframeSource('/MESubscription_test.aspx');}
else if(id=='faqs'){SetIframeSource('/cn-nhf/Efranchise.htm');}
else if(id=='contactus'){SetIframeSource('/cn-nhf/contactusnew.html?new=callno');}
else{setlinkstyle('giftvoucher');SetIframeSource('/voucherbalance.aspx');}}
function SetIframeSource(source){$('#iframe').attr('src',source);}
function setlinkstyle(id){$("#divContent ul li a").removeClass('SelectedCustSer').addClass('DefoultCustSer');$("#"+id).removeClass('DefoultCustSer').addClass('SelectedCustSer');}
$('#iframe').load(function(){$('#iframe').css('display','block');$('#imgPreloader').css('display','none');$("#iframe").contents().find("html").css("background","transparent");$("#iframe").contents().find(".middle-content-bg").css("background","transparent");$("#iframe").contents().find(".AboutUsMain").css("opacity","0.8");});